/*! dustjs-linkedin - v2.7.5
* http://dustjs.com/
* Copyright (c) 2016 Aleksander Williams; Released under the MIT License */
!function(a,b){"function"==typeof define&&define.amd&&define.amd.dust===!0?define("dust.core",[],b):"object"==typeof exports?module.exports=b():a.dust=b()}(this,function(){function getTemplate(a,b){return a?"function"==typeof a&&a.template?a.template:dust.isTemplateFn(a)?a:b!==!1?dust.cache[a]:void 0:void 0}function load(a,b,c){if(!a)return b.setError(new Error("No template or template name provided to render"));var d=getTemplate(a,dust.config.cache);return d?d(b,Context.wrap(c,d.templateName)):dust.onLoad?b.map(function(b){function d(a,d){var f;if(a)return b.setError(a);if(f=getTemplate(d,!1)||getTemplate(e,dust.config.cache),!f){if(!dust.compile)return b.setError(new Error("Dust compiler not available"));f=dust.loadSource(dust.compile(d,e))}f(b,Context.wrap(c,f.templateName)).end()}var e=a;3===dust.onLoad.length?dust.onLoad(e,c.options,d):dust.onLoad(e,d)}):b.setError(new Error("Template Not Found: "+a))}function Context(a,b,c,d,e){void 0===a||a instanceof Stack||(a=new Stack(a)),this.stack=a,this.global=b,this.options=c,this.blocks=d,this.templateName=e,this._isContext=!0}function getWithResolvedData(a,b,c){return function(d){return a.push(d)._get(b,c)}}function Stack(a,b,c,d){this.tail=b,this.isObject=a&&"object"==typeof a,this.head=a,this.index=c,this.of=d}function Stub(a){this.head=new Chunk(this),this.callback=a,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(a,b,c){this.root=a,this.next=b,this.data=[],this.flushable=!1,this.taps=c}function Tap(a,b){this.head=a,this.tail=b}var dust={version:"2.7.5"},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",EMPTY_FUNC=function(){};dust.config={whitespace:!1,amd:!1,cjs:!1,cache:!0},dust._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",notexists:"nx",block:"b",partial:"p",helper:"h"},function(){var a,b,c={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4};"undefined"!=typeof console&&console.log?(a=console.log,b="function"==typeof a?function(){a.apply(console,arguments)}:function(){a(Array.prototype.slice.apply(arguments).join(" "))}):b=EMPTY_FUNC,dust.log=function(a,d){d=d||INFO,c[d]>=c[dust.debugLevel]&&b("[DUST:"+d+"]",a)},dust.debugLevel=NONE,"undefined"!=typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(dust.debugLevel=DEBUG)}(),dust.helpers={},dust.cache={},dust.register=function(a,b){a&&(b.templateName=a,dust.config.cache!==!1&&(dust.cache[a]=b))},dust.render=function(a,b,c){var d=new Stub(c).head;try{load(a,d,b).end()}catch(e){d.setError(e)}},dust.stream=function(a,b){var c=new Stream,d=c.head;return dust.nextTick(function(){try{load(a,d,b).end()}catch(c){d.setError(c)}}),c},dust.loadSource=function(source){return eval(source)},dust.isArray=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},dust.nextTick=function(){return function(a){setTimeout(a,0)}}(),dust.isEmpty=function(a){return 0===a?!1:dust.isArray(a)&&!a.length?!0:!a},dust.isEmptyObject=function(a){var b;if(null===a)return!1;if(void 0===a)return!1;if(a.length>0)return!1;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0},dust.isTemplateFn=function(a){return"function"==typeof a&&a.__dustBody},dust.isThenable=function(a){return a&&"object"==typeof a&&"function"==typeof a.then},dust.isStreamable=function(a){return a&&"function"==typeof a.on&&"function"==typeof a.pipe},dust.filter=function(a,b,c,d){var e,f,g,h;if(c)for(e=0,f=c.length;f>e;e++)g=c[e],g.length&&(h=dust.filters[g],"s"===g?b=null:"function"==typeof h?a=h(a,d):dust.log("Invalid filter `"+g+"`",WARN));return b&&(a=dust.filters[b](a,d)),a},dust.filters={h:function(a){return dust.escapeHtml(a)},j:function(a){return dust.escapeJs(a)},u:encodeURI,uc:encodeURIComponent,js:function(a){return dust.escapeJSON(a)},jp:function(a){return JSON?JSON.parse(a):(dust.log("JSON is undefined; could not parse `"+a+"`",WARN),a)}},dust.makeBase=dust.context=function(a,b){return new Context(void 0,a,b)},dust.isContext=function(a){return"object"==typeof a&&a._isContext===!0},Context.wrap=function(a,b){return dust.isContext(a)?a:new Context(a,{},{},null,b)},Context.prototype.get=function(a,b){return"string"==typeof a&&("."===a[0]&&(b=!0,a=a.substr(1)),a=a.split(".")),this._get(b,a)},Context.prototype._get=function(a,b){var c,d,e,f,g,h=this.stack||{},i=1;if(d=b[0],e=b.length,a&&0===e)f=h,h=h.head;else{if(a)h&&(h=h.head?h.head[d]:void 0);else{for(;h&&(!h.isObject||(f=h.head,c=h.head[d],void 0===c));)h=h.tail;h=void 0!==c?c:this.global&&this.global[d]}for(;h&&e>i;){if(dust.isThenable(h))return h.then(getWithResolvedData(this,a,b.slice(i)));f=h,h=h[b[i]],i++}}return"function"==typeof h?(g=function(){try{return h.apply(f,arguments)}catch(a){throw dust.log(a,ERROR),a}},g.__dustBody=!!h.__dustBody,g):(void 0===h&&dust.log("Cannot find reference `{"+b.join(".")+"}` in template `"+this.getTemplateName()+"`",INFO),h)},Context.prototype.getPath=function(a,b){return this._get(a,b)},Context.prototype.push=function(a,b,c){return void 0===a?(dust.log("Not pushing an undefined variable onto the context",INFO),this):this.rebase(new Stack(a,this.stack,b,c))},Context.prototype.pop=function(){var a=this.current();return this.stack=this.stack&&this.stack.tail,a},Context.prototype.rebase=function(a){return new Context(a,this.global,this.options,this.blocks,this.getTemplateName())},Context.prototype.clone=function(){var a=this.rebase();return a.stack=this.stack,a},Context.prototype.current=function(){return this.stack&&this.stack.head},Context.prototype.getBlock=function(a){var b,c,d;if("function"==typeof a&&(a=a(new Chunk,this).data.join("")),b=this.blocks,!b)return dust.log("No blocks for context `"+a+"` in template `"+this.getTemplateName()+"`",DEBUG),!1;for(c=b.length;c--;)if(d=b[c][a])return d;return dust.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks."),!1},Context.prototype.shiftBlocks=function(a){var b,c=this.blocks;return a?(b=c?c.concat([a]):[a],new Context(this.stack,this.global,this.options,b,this.getTemplateName())):this},Context.prototype.resolve=function(a){var b;return"function"!=typeof a?a:(b=(new Chunk).render(a,this),b instanceof Chunk?b.data.join(""):b)},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.callback(a.error),dust.log("Rendering failed with error `"+a.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.out+=a.data.join(""),a=a.next,this.head=a}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var a=this.head;a;){if(!a.flushable)return a.error?(this.emit("error",a.error),this.emit("end"),dust.log("Streaming failed with error `"+a.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",a.data.join("")),a=a.next,this.head=a}this.emit("end")},Stream.prototype.emit=function(a,b){var c,d,e=this.events||{},f=e[a]||[];if(!f.length)return dust.log("Stream broadcasting, but no listeners for `"+a+"`",DEBUG),!1;for(f=f.slice(0),c=0,d=f.length;d>c;c++)f[c](b);return!0},Stream.prototype.on=function(a,b){var c=this.events=this.events||{},d=c[a]=c[a]||[];return"function"!=typeof b?dust.log("No callback function provided for `"+a+"` event listener",WARN):d.push(b),this},Stream.prototype.pipe=function(a){if("function"!=typeof a.write||"function"!=typeof a.end)return dust.log("Incompatible stream passed to `pipe`",WARN),this;var b=!1;return"function"==typeof a.emit&&a.emit("pipe",this),"function"==typeof a.on&&a.on("error",function(){b=!0}),this.on("data",function(c){if(!b)try{a.write(c,"utf8")}catch(d){dust.log(d,ERROR)}}).on("end",function(){if(!b)try{a.end(),b=!0}catch(c){dust.log(c,ERROR)}})},Chunk.prototype.write=function(a){var b=this.taps;return b&&(a=b.go(a)),this.data.push(a),this},Chunk.prototype.end=function(a){return a&&this.write(a),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(a){var b=new Chunk(this.root,this.next,this.taps),c=new Chunk(this.root,b,this.taps);this.next=c,this.flushable=!0;try{a(c)}catch(d){dust.log(d,ERROR),c.setError(d)}return b},Chunk.prototype.tap=function(a){var b=this.taps;return this.taps=b?b.push(a):new Tap(a),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(a,b){return a(this,b)},Chunk.prototype.reference=function(a,b,c,d){return"function"==typeof a?(a=a.apply(b.current(),[this,b,null,{auto:c,filters:d}]),a instanceof Chunk?a:this.reference(a,b,c,d)):dust.isThenable(a)?this.await(a,b,null,c,d):dust.isStreamable(a)?this.stream(a,b,null,c,d):dust.isEmpty(a)?this:this.write(dust.filter(a,c,d,b))},Chunk.prototype.section=function(a,b,c,d){var e,f,g,h=c.block,i=c["else"],j=this;if("function"==typeof a&&!dust.isTemplateFn(a)){try{a=a.apply(b.current(),[this,b,c,d])}catch(k){return dust.log(k,ERROR),this.setError(k)}if(a instanceof Chunk)return a}if(dust.isEmptyObject(c))return j;if(dust.isEmptyObject(d)||(b=b.push(d)),dust.isArray(a)){if(h){if(f=a.length,f>0){for(g=b.stack&&b.stack.head||{},g.$len=f,e=0;f>e;e++)g.$idx=e,j=h(j,b.push(a[e],e,f));return g.$idx=void 0,g.$len=void 0,j}if(i)return i(this,b)}}else{if(dust.isThenable(a))return this.await(a,b,c);if(dust.isStreamable(a))return this.stream(a,b,c);if(a===!0){if(h)return h(this,b)}else if(a||0===a){if(h)return h(this,b.push(a))}else if(i)return i(this,b)}return dust.log("Section without corresponding key in template `"+b.getTemplateName()+"`",DEBUG),this},Chunk.prototype.exists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(e)return e(this,b)}else{if(d)return d(this,b);dust.log("No block for exists check in template `"+b.getTemplateName()+"`",DEBUG)}return this},Chunk.prototype.notexists=function(a,b,c){var d=c.block,e=c["else"];if(dust.isEmpty(a)){if(d)return d(this,b);dust.log("No block for not-exists check in template `"+b.getTemplateName()+"`",DEBUG)}else if(e)return e(this,b);return this},Chunk.prototype.block=function(a,b,c){var d=a||c.block;return d?d(this,b):this},Chunk.prototype.partial=function(a,b,c,d){var e;return void 0===d&&(d=c,c=b),dust.isEmptyObject(d)||(c=c.clone(),e=c.pop(),c=c.push(d).push(e)),dust.isTemplateFn(a)?this.capture(a,b,function(a,b){c.templateName=a,load(a,b,c).end()}):(c.templateName=a,load(a,this,c))},Chunk.prototype.helper=function(a,b,c,d,e){var f,g=this,h=d.filters;if(void 0===e&&(e="h"),!dust.helpers[a])return dust.log("Helper `"+a+"` does not exist",WARN),g;try{return f=dust.helpers[a](g,b,c,d),f instanceof Chunk?f:("string"==typeof h&&(h=h.split("|")),dust.isEmptyObject(c)?g.reference(f,b,e,h):g.section(f,b,c,d))}catch(i){return dust.log("Error in helper `"+a+"`: "+i.message,ERROR),g.setError(i)}},Chunk.prototype.await=function(a,b,c,d,e){return this.map(function(f){a.then(function(a){f=c?f.section(a,b,c):f.reference(a,b,d,e),f.end()},function(a){var d=c&&c.error;d?f.render(d,b.push(a)).end():(dust.log("Unhandled promise rejection in `"+b.getTemplateName()+"`",INFO),f.end())})})},Chunk.prototype.stream=function(a,b,c,d,e){var f=c&&c.block,g=c&&c.error;return this.map(function(h){var i=!1;a.on("data",function(a){i||(f?h=h.map(function(c){c.render(f,b.push(a)).end()}):c||(h=h.reference(a,b,d,e)))}).on("error",function(a){i||(g?h.render(g,b.push(a)):dust.log("Unhandled stream error in `"+b.getTemplateName()+"`",INFO),i||(i=!0,h.end()))}).on("end",function(){i||(i=!0,h.end())})})},Chunk.prototype.capture=function(a,b,c){return this.map(function(d){var e=new Stub(function(a,b){a?d.setError(a):c(b,d)});a(e.head,b).end()})},Chunk.prototype.setError=function(a){return this.error=a,this.root.flush(),this};for(var f in Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);Tap.prototype.push=function(a){return new Tap(a,this)},Tap.prototype.go=function(a){for(var b=this;b;)a=b.head(a),b=b.tail;return a};var HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(a){return"string"==typeof a||a&&"function"==typeof a.toString?("string"!=typeof a&&(a=a.toString()),HCHARS.test(a)?a.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):a):a};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;return dust.escapeJs=function(a){return"string"==typeof a?a.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):a},dust.escapeJSON=function(a){return JSON?JSON.stringify(a).replace(LS,"\\u2028").replace(PS,"\\u2029").replace(LT,"\\u003c"):(dust.log("JSON is undefined; could not escape `"+a+"`",WARN),a)},dust}),"function"==typeof define&&define.amd&&define.amd.dust===!0&&define(["require","dust.core"],function(require,dust){return dust.onLoad=function(a,b){require([a],function(){b()})},dust});
/*! dustjs-helpers - v1.7.4
* http://dustjs.com/
* Copyright (c) 2017 Aleksander Williams; Released under the MIT License */
!function(a,b){"function"==typeof define&&define.amd&&define.amd.dust===!0?define(["dust.core"],b):"object"==typeof exports?(module.exports=b(require("dustjs-linkedin")),module.exports.registerWith=b):b(a.dust)}(this,function(dust){function a(a,b,c){c=c||"INFO",a=a?"{@"+a+"}: ":"",dust.log(a+b,c)}function b(b){k[b]||(a(b,"Deprecation warning: "+b+" is deprecated and will be removed in a future version of dustjs-helpers","WARN"),a(null,"For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#"+b.replace(/\W+/g,""),"WARN"),k[b]=!0)}function c(a){return a.stack.tail&&a.stack.tail.head&&"undefined"!=typeof a.stack.tail.head.__select__}function d(a){return c(a)&&a.get("__select__")}function e(a,b){var c,d=a.stack.head,e=a.rebase();a.stack&&a.stack.tail&&(e.stack=a.stack.tail);var f={isPending:!1,isResolved:!1,isDeferredComplete:!1,deferreds:[]};for(c in b)f[c]=b[c];return e.push({__select__:f}).push(d,a.stack.index,a.stack.of)}function f(a){var b,c;if(a.isDeferredPending=!0,a.deferreds.length)for(a.isDeferredComplete=!0,b=0,c=a.deferreds.length;c>b;b++)a.deferreds[b]();a.isDeferredPending=!1}function g(a,b){return"function"==typeof b?b.toString().replace(/(^\s+|\s+$)/gm,"").replace(/\n/gm,"").replace(/,\s*/gm,", ").replace(/\)\{/gm,") {"):b}function h(a,b){return function(c,d,e,f){return i(c,d,e,f,a,b)}}function i(b,c,e,f,g,h){var i,k,l,m,n=e.block,o=e["else"],p=d(c)||{};if(p.isResolved&&!p.isDeferredPending)return b;if(f.hasOwnProperty("key"))k=f.key;else{if(!p.hasOwnProperty("key"))return a(g,"No key specified","WARN"),b;k=p.key}return m=f.type||p.type,k=j(c.resolve(k),m),l=j(c.resolve(f.value),m),h(k,l)?(p.isPending||(i=!0,p.isPending=!0),n&&(b=b.render(n,c)),i&&(p.isResolved=!0)):o&&(b=b.render(o,c)),b}function j(a,b){switch(b&&(b=b.toLowerCase()),b){case"number":return+a;case"string":return String(a);case"boolean":return a="false"===a?!1:a,Boolean(a);case"date":return new Date(a)}return a}var k={},l={tap:function(a,c,d){return b("tap"),d.resolve(a)},sep:function(a,b,c){var d=c.block;return b.stack.index===b.stack.of-1?a:d?d(a,b):a},first:function(a,b,c){return 0===b.stack.index?c.block(a,b):a},last:function(a,b,c){return b.stack.index===b.stack.of-1?c.block(a,b):a},contextDump:function(b,c,d,e){var f,h,i=c.resolve(e.to),j=c.resolve(e.key);switch(j){case"full":f=c.stack;break;default:f=c.stack.head}switch(h=JSON.stringify(f,g,2),i){case"console":a("contextDump",h);break;default:h=h.replace(/</g,"\\u003c"),b=b.write(h)}return b},math:function(b,c,g,h){var i,j=h.key,k=h.method,l=h.operand,m=h.round;if(!h.hasOwnProperty("key")||!h.method)return a("math","`key` or `method` was not provided","ERROR"),b;switch(j=parseFloat(c.resolve(j)),l=parseFloat(c.resolve(l)),k){case"mod":0===l&&a("math","Division by 0","ERROR"),i=j%l;break;case"add":i=j+l;break;case"subtract":i=j-l;break;case"multiply":i=j*l;break;case"divide":0===l&&a("math","Division by 0","ERROR"),i=j/l;break;case"ceil":case"floor":case"round":case"abs":i=Math[k](j);break;case"toint":i=parseInt(j,10);break;default:a("math","Method `"+k+"` is not supported","ERROR")}return"undefined"!=typeof i&&(m&&(i=Math.round(i)),g&&g.block?(c=e(c,{key:i}),b=b.render(g.block,c),f(d(c))):b=b.write(i)),b},select:function(b,c,g,h){var i=g.block,j={};return h.hasOwnProperty("key")&&(j.key=c.resolve(h.key)),h.hasOwnProperty("type")&&(j.type=h.type),i?(c=e(c,j),b=b.render(i,c),f(d(c))):a("select","Missing body block","WARN"),b},eq:h("eq",function(a,b){return a===b}),ne:h("ne",function(a,b){return a!==b}),lt:h("lt",function(a,b){return b>a}),lte:h("lte",function(a,b){return b>=a}),gt:h("gt",function(a,b){return a>b}),gte:h("gte",function(a,b){return a>=b}),any:function(b,c,e){var f=d(c);return f?f.isDeferredComplete?a("any","Must not be nested inside {@any} or {@none} block","ERROR"):b=b.map(function(a){f.deferreds.push(function(){f.isResolved&&(a=a.render(e.block,c)),a.end()})}):a("any","Must be used inside a {@select} block","ERROR"),b},none:function(b,c,e){var f=d(c);return f?f.isDeferredComplete?a("none","Must not be nested inside {@any} or {@none} block","ERROR"):b=b.map(function(a){f.deferreds.push(function(){f.isResolved||(a=a.render(e.block,c)),a.end()})}):a("none","Must be used inside a {@select} block","ERROR"),b},size:function(a,b,c,d){var e,f,g=d.key;if(g=b.resolve(d.key),g&&g!==!0)if(dust.isArray(g))e=g.length;else if(!isNaN(parseFloat(g))&&isFinite(g))e=g;else if("object"==typeof g){e=0;for(f in g)g.hasOwnProperty(f)&&e++}else e=(g+"").length;else e=0;return a.write(e)}};for(var m in l)dust.helpers[m]=l[m];return dust});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.page=e()}(this,function(){"use strict";function t(t){return a(r(t))}var p=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},i=c,e=r,n=a,o=h,l=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(t){for(var e=[],n=0,i=0,o="";null!=(c=l.exec(t));){var r,a,s,h,c,p=c[0],u=c[1],d=c.index;o+=t.slice(i,d),i=d+p.length,u?o+=u[1]:(o&&(e.push(o),o=""),r=c[2],a=c[3],s=c[4],h=c[5],d=c[6],p=c[7],u="+"===d||"*"===d,c="?"===d||"*"===d,d=r||"/",p=s||h||(p?".*":"[^"+d+"]+?"),e.push({name:a||n++,prefix:r||"",delimiter:d,optional:c,repeat:u,pattern:p.replace(/([=!:$\/()])/g,"\\$1")}))}return i<t.length&&(o+=t.substr(i)),o&&e.push(o),e}function a(h){for(var c=new Array(h.length),t=0;t<h.length;t++)"object"==typeof h[t]&&(c[t]=new RegExp("^"+h[t].pattern+"$"));return function(t){for(var e="",n=t||{},i=0;i<h.length;i++){var o=h[i];if("string"!=typeof o){var r,a=n[o.name];if(null==a){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to be defined')}if(p(a)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received "'+a+'"');if(0===a.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var s=0;s<a.length;s++){if(r=encodeURIComponent(a[s]),!c[i].test(r))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received "'+r+'"');e+=(0===s?o.prefix:o.delimiter)+r}}else{if(r=encodeURIComponent(a),!c[i].test(r))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+r+'"');e+=o.prefix+r}}else e+=o}return e}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(t,e){return t.keys=e,t}function d(t){return t.sensitive?"":"i"}function h(t,e){for(var n=(e=e||{}).strict,i=!1!==e.end,o="",r=t[t.length-1],r="string"==typeof r&&/\/$/.test(r),a=0;a<t.length;a++){var s,h,c=t[a];"string"==typeof c?o+=u(c):(s=u(c.prefix),h=c.pattern,c.repeat&&(h+="(?:"+s+h+")*"),o+=h=c.optional?s?"(?:"+s+"("+h+"))?":"("+h+")?":s+"("+h+")")}return n||(o=(r?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=i?"$":n&&r?"":"(?=\\/|$)",new RegExp("^"+o,d(e))}function c(t,e,n){return p(e=e||[])?n=n||{}:(n=e,e=[]),t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return s(t,e)}(t,e):(p(t)?function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(c(t[o],e,n).source);return s(new RegExp("(?:"+i.join("|")+")",d(n)),e)}:function(t,e,n){for(var i=r(t),n=h(i,n),o=0;o<i.length;o++)"string"!=typeof i[o]&&e.push(i[o]);return s(n,e)})(t,e,n)}i.parse=e,i.compile=t,i.tokensToFunction=n,i.tokensToRegExp=o;var f,g="undefined"!=typeof document,m="undefined"!=typeof window,w="undefined"!=typeof history,v="undefined"!=typeof process,y=g&&document.ontouchstart?"touchstart":"click",_=m&&!(!window.history.location&&!window.location);function b(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function x(t,e){if("function"==typeof t)return x.call(this,"*",t);if("function"==typeof e)for(var n=new R(t,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else"string"==typeof t?this["string"==typeof e?"redirect":"show"](t,e):this.start(t)}function E(t,e,n){var i=this.page=n||x,o=i._window,r=i._hashbang,a=i._getBase(),n=(t="/"===t[0]&&0!==t.indexOf(a)?a+(r?"#!":"")+t:t).indexOf("?");this.canonicalPath=t;a=new RegExp("^"+a.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));this.path=t.replace(a,"")||"/",r&&(this.path=this.path.replace("#!","")||"/"),this.title=g&&o.document.title,this.state=e||{},this.state.path=t,this.querystring=~n?i._decodeURLEncodedURIComponent(t.slice(n+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~n?t.slice(0,n):t),this.params={},this.hash="",r||~this.path.indexOf("#")&&(r=this.path.split("#"),this.path=this.pathname=r[0],this.hash=i._decodeURLEncodedURIComponent(r[1])||"",this.querystring=this.querystring.split("#")[0])}function R(t,e,n){this.page=n||k;e=e||{};e.strict=e.strict||n._strict,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=i(this.path,this.keys=[],e)}b.prototype.configure=function(t){t=t||{};this._window=t.window||m&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&m,this._click=!1!==t.click&&g,this._hashbang=!!t.hashbang;t=this._window;this._popstate?t.addEventListener("popstate",this._onpopstate,!1):m&&t.removeEventListener("popstate",this._onpopstate,!1),this._click?t.document.addEventListener(y,this.clickHandler,!1):g&&t.document.removeEventListener(y,this.clickHandler,!1),this._hashbang&&m&&!w?t.addEventListener("hashchange",this._onpopstate,!1):m&&t.removeEventListener("hashchange",this._onpopstate,!1)},b.prototype.base=function(t){if(0===arguments.length)return this._base;this._base=t},b.prototype._getBase=function(){var t=this._base;if(t)return t;var e=m&&this._window&&this._window.location;return t=m&&this._hashbang&&e&&"file:"===e.protocol?e.pathname:t},b.prototype.strict=function(t){if(0===arguments.length)return this._strict;this._strict=t},b.prototype.start=function(t){var e,t=t||{};this.configure(t),!1!==t.dispatch&&(this._running=!0,_&&(e=this._window.location,e=this._hashbang&&~e.hash.indexOf("#!")?e.hash.substr(2)+e.search:this._hashbang?e.search+e.hash:e.pathname+e.search+e.hash),this.replace(e,null,!0,t.dispatch))},b.prototype.stop=function(){var t;this._running&&(this.current="",this.len=0,this._running=!1,t=this._window,this._click&&t.document.removeEventListener(y,this.clickHandler,!1),m&&t.removeEventListener("popstate",this._onpopstate,!1),m&&t.removeEventListener("hashchange",this._onpopstate,!1))},b.prototype.show=function(t,e,n,i){t=new E(t,e,this),e=this.prevContext;return this.prevContext=t,this.current=t.path,!1!==n&&this.dispatch(t,e),!1!==t.handled&&!1!==i&&t.pushState(),t},b.prototype.back=function(t,e){var n,i=this;0<this.len?(n=this._window,w&&n.history.back(),this.len--):t?setTimeout(function(){i.show(t,e)}):setTimeout(function(){i.show(i._getBase(),e)})},b.prototype.redirect=function(t,e){var n=this;"string"==typeof t&&"string"==typeof e&&x.call(this,t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&void 0===e&&setTimeout(function(){n.replace(t)},0)},b.prototype.replace=function(t,e,n,i){t=new E(t,e,this),e=this.prevContext;return this.prevContext=t,this.current=t.path,t.init=n,t.save(),!1!==i&&this.dispatch(t,e),t},b.prototype.dispatch=function(e,n){var i=0,o=0,r=this;function a(){var t=r.callbacks[i++];if(e.path===r.current)return t?void t(e,a):function(t){if(t.handled)return;var e,n=this._window;e=this._hashbang?_&&this._getBase()+n.location.hash.replace("#!",""):_&&n.location.pathname+n.location.search;if(e===t.canonicalPath)return;this.stop(),t.handled=!1,_&&(n.location.href=t.canonicalPath)}.call(r,e);e.handled=!1}(n?function t(){var e=r.exits[o++];if(!e)return a();e(n,t)}:a)()},b.prototype.exit=function(t,e){if("function"==typeof t)return this.exit("*",t);for(var n=new R(t,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))},b.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){var e,n,i,o=t.target,r=t.path||(t.composedPath?t.composedPath():null);if(r)for(var a=0;a<r.length;a++)if(r[a].nodeName&&"A"===r[a].nodeName.toUpperCase()&&r[a].href){o=r[a];break}for(;o&&"A"!==o.nodeName.toUpperCase();)o=o.parentNode;o&&"A"===o.nodeName.toUpperCase()&&(i="object"==typeof o.href&&"SVGAnimatedString"===o.href.constructor.name,o.hasAttribute("download")||"external"===o.getAttribute("rel")||(n=o.getAttribute("href"),!this._hashbang&&this._samePath(o)&&(o.hash||"#"===n)||n&&-1<n.indexOf("mailto:")||(i?o.target.baseVal:o.target)||(i||this.sameOrigin(o.href))&&(e="/"!==(e=i?o.href.baseVal:o.pathname+o.search+(o.hash||""))[0]?"/"+e:e,n=e=v&&e.match(/^\/[a-zA-Z]:\//)?e.replace(/^\/[a-zA-Z]:\//,"/"):e,i=this._getBase(),0===e.indexOf(i)&&(e=e.substr(i.length)),this._hashbang&&(e=e.replace("#!","")),(!i||n!==e||_&&"file:"===this._window.location.protocol)&&(t.preventDefault(),this.show(n)))))}},b.prototype._onpopstate=(f=!1,m?(g&&"complete"===document.readyState?f=!0:window.addEventListener("load",function(){setTimeout(function(){f=!0},0)}),function(t){var e;f&&(t.state?(e=t.state.path,this.replace(e,t.state)):_&&(t=this._window.location,this.show(t.pathname+t.search+t.hash,void 0,void 0,!1)))}):function(){}),b.prototype._which=function(t){return null==(t=t||m&&this._window.event).which?t.button:t.which},b.prototype._toURL=function(t){var e=this._window;if("function"==typeof URL&&_)return new URL(t,e.location.toString());if(g){e=e.document.createElement("a");return e.href=t,e}},b.prototype.sameOrigin=function(t){if(!t||!_)return!1;var e=this._toURL(t),t=this._window.location;return t.protocol===e.protocol&&t.hostname===e.hostname&&t.port===e.port},b.prototype._samePath=function(t){if(!_)return!1;var e=this._window.location;return t.pathname===e.pathname&&t.search===e.search},b.prototype._decodeURLEncodedURIComponent=function(t){return"string"==typeof t&&this._decodeURLComponents?decodeURIComponent(t.replace(/\+/g," ")):t},E.prototype.pushState=function(){var t=this.page,e=t._window,n=t._hashbang;t.len++,w&&e.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},E.prototype.save=function(){var t=this.page;w&&"file:"!==t._window.location.protocol&&t._window.history.replaceState(this.state,this.title,t._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},R.prototype.middleware=function(n){var i=this;return function(t,e){if(i.match(t.path,t.params))return n(t,e);e()}},R.prototype.match=function(t,e){var n=this.keys,i=t.indexOf("?"),t=~i?t.slice(0,i):t,o=this.regexp.exec(decodeURIComponent(t));if(!o)return!1;for(var r=1,a=o.length;r<a;++r){var s=n[r-1],h=this.page._decodeURLEncodedURIComponent(o[r]);void 0===h&&hasOwnProperty.call(e,s.name)||(e[s.name]=h)}return!0};var k=function t(){var e=new b;function n(){return x.apply(e,arguments)}return n.callbacks=e.callbacks,n.exits=e.exits,n.base=e.base.bind(e),n.strict=e.strict.bind(e),n.start=e.start.bind(e),n.stop=e.stop.bind(e),n.show=e.show.bind(e),n.back=e.back.bind(e),n.redirect=e.redirect.bind(e),n.replace=e.replace.bind(e),n.dispatch=e.dispatch.bind(e),n.exit=e.exit.bind(e),n.configure=e.configure.bind(e),n.sameOrigin=e.sameOrigin.bind(e),n.clickHandler=e.clickHandler.bind(e),n.create=t,Object.defineProperty(n,"len",{get:function(){return e.len},set:function(t){e.len=t}}),Object.defineProperty(n,"current",{get:function(){return e.current},set:function(t){e.current=t}}),n.Context=E,n.Route=R,n}(),o=k;return o.default=k,o});
/*!
 * EventEmitter v5.2.4 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */
!function(e){"use strict";function t(){}function n(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}function i(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&i(e.listener)}var s=t.prototype,o=e.EventEmitter;s.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},s.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},s.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},s.addListener=function(e,t){if(!i(t))throw new TypeError("listener must be a function");var r,s=this.getListenersAsObject(e),o="object"==typeof t;for(r in s)s.hasOwnProperty(r)&&n(s[r],t)===-1&&s[r].push(o?t:{listener:t,once:!1});return this},s.on=r("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=r("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=n(s[i],t),r!==-1&&s[i].splice(r,1));return this},s.off=r("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},s.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},s.removeAllListeners=r("removeEvent"),s.emitEvent=function(e,t){var n,r,i,s,o,u=this.getListenersAsObject(e);for(s in u)if(u.hasOwnProperty(s))for(n=u[s].slice(0),i=0;i<n.length;i++)r=n[i],r.once===!0&&this.removeListener(e,r.listener),o=r.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},s.trigger=r("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return e.EventEmitter=o,t},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.EventEmitter=t}(this||{});
/* docma (dust) compiled templates */
(function(dust){dust.register("docma-404",body_0);function body_0(chk,ctx){return chk.p("navbar",ctx,ctx,{"boxed":"true"}).w("<div id=\"page-content-wrapper\"><div class=\"container container-boxed\"><br /><br /><h1>404</h1><hr /><h3>Page Not Found</h3><br />The file or page you have requested is not found. &nbsp;&nbsp;<br />Please make sure page address is entered correctly.<br /><br /><br /></div></div>");}body_0.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("docma-api",body_0);function body_0(chk,ctx){return chk.p("navbar",ctx,ctx,{}).w("<div id=\"wrapper\">").x(ctx.getPath(false, ["template","options","sidebar","enabled"]),ctx,{"block":body_1},{}).w("<div id=\"page-content-wrapper\"><div class=\"container\"><br />").s(ctx.get(["documentation"], false),ctx,{"block":body_2},{}).w("<br /><span class=\"docma-info\">Documentation built with <b><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://onury.io/docma\">Docma</a></b>.</span></div></div></div>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<div id=\"sidebar-wrapper\">").p("sidebar",ctx,ctx,{}).w("</div>");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.p("symbol",ctx,ctx,{"symbol":ctx.getPath(true, []),"template":ctx.get(["template"], false)});}body_2.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("docma-content",body_0);function body_0(chk,ctx){return chk.p("navbar",ctx,ctx,{"boxed":"true"}).w("<div id=\"page-content-wrapper\"><div class='").h("eq",ctx,{"block":body_1},{"key":ctx.getPath(false, ["currentRoute","sourceType"]),"value":"md"},"h").w("'><div id=\"docma-content\"></div>").h("eq",ctx,{"block":body_2},{"key":ctx.getPath(false, ["currentRoute","sourceType"]),"value":"md"},"h").w("</div></div>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("container container-boxed");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("<br /><hr /><span class=\"docma-info\">Documentation built with <b><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://onury.io/docma\">Docma</a></b>.</span>");}body_2.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("enums",body_0);function body_0(chk,ctx){return chk.x(ctx.get(["$members"], false),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.h("eq",ctx,{"else":body_2,"block":body_4},{"key":ctx.getPath(false, ["template","options","symbols","enums"]),"value":"table"},"h");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("<div class=\"space-top-sm space-bottom-xs fw-bold\">Enumeration</div><ul class=\"param-list\">").s(ctx.get(["$members"], false),ctx,{"block":body_3},{}).w("</ul>");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<li><div class=\"param-meta clearfix\"><span class=\"inline-block space-right-sm\"><code>").f(ctx.getPath(true, []),ctx,"h",["$longname","s","$dot_prop"]).w("</code>&nbsp;:&nbsp;<code>").f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></span><span class=\"param-info-box\"><span class=\"param-info value\">Value:&nbsp;</span><code>").f(ctx.getPath(true, []),ctx,"h",["$val"]).w("</code></span></div><div class=\"param-desc\">").f(ctx.getPath(true, []),ctx,"h",["s","$desc"]).w("</div></li>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<table class=\"table table-striped table-bordered\"><thead><tr><th>Enumeration</th><th>Type</th><th>Value</th><th>Description</th></tr></thead><tbody>").s(ctx.get(["$members"], false),ctx,{"block":body_5},{}).w("</tbody></table>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<tr><td><code>").f(ctx.getPath(true, []),ctx,"h",["$longname","s","$dot_prop"]).w("</code></td><td><code>").f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></td><td><code>").f(ctx.getPath(true, []),ctx,"h",["$val"]).w("</code></td><td>").f(ctx.getPath(true, []),ctx,"h",["s","$desc"]).w("</td></tr>");}body_5.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("navbar",body_0);function body_0(chk,ctx){return chk.x(ctx.getPath(false, ["template","options","navbar","enabled"]),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<nav class=\"navbar font-sans ").x(ctx.getPath(false, ["template","options","navbar","dark"]),ctx,{"block":body_2},{}).w("\"><div class=\"navbar-inner ").x(ctx.get(["boxed"], false),ctx,{"block":body_3},{}).w("\"><div class=\"navbar-brand\">").x(ctx.getPath(false, ["template","options","logo","dark"]),ctx,{"block":body_4},{}).w("<span class=\"navbar-title\"><a href=\"").f(ctx.getPath(false, ["template","options","title","href"]),ctx,"h").w("\">").f(ctx.getPath(false, ["template","options","title","label"]),ctx,"h").w("</a></span></div>").h("gt",ctx,{"block":body_7},{"key":ctx.getPath(false, ["template","options","navbar","menu","length"]),"value":0},"h").w("</div></nav>").x(ctx.getPath(false, ["template","options","navbar","fixed"]),ctx,{"block":body_16},{}).w("<div class=\"nav-overlay\"></div>");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("dark");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("max-w-6xl mx-auto px-5 sm:px-10 md:px-10 lg:px-10");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.x(ctx.getPath(false, ["template","options","navbar","dark"]),ctx,{"else":body_5,"block":body_6},{});}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<img src=\"").f(ctx.getPath(false, ["template","options","logo","dark"]),ctx,"h").w("\" alt=\"logo\" class=\"navbar-logo\" />");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<img src=\"").f(ctx.getPath(false, ["template","options","logo","light"]),ctx,"h").w("\" alt=\"logo\" class=\"navbar-logo\" />");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w("<div class=\"navbar-menu-btn\" tabindex=\"0\"><i class=\"fas fa-lg fa-bars trans-all-ease\"></i><i class=\"fas fa-md fa-times trans-all-ease\"></i></div><div class=\"navbar-menu\"><ul class=\"navbar-list\">").s(ctx.getPath(false, ["template","options","navbar","menu"]),ctx,{"block":body_8},{}).w("</ul></div>");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.x(ctx.get(["items"], false),ctx,{"else":body_9,"block":body_10},{});}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.p("navitem",ctx,ctx.rebase(ctx.getPath(true, [])),{});}body_9.__dustBody=!0;function body_10(chk,ctx){return chk.w("<li class=\"dropdown\"><a href=\"").x(ctx.get(["href"], false),ctx,{"else":body_11,"block":body_12},{}).w("\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"><i class=\"nav-icon ").f(ctx.get(["iconClass"], false),ctx,"h").w("\" aria-hidden=\"true\"></i>").x(ctx.get(["label"], false),ctx,{"block":body_13},{}).x(ctx.get(["chevron"], false),ctx,{"block":body_14},{}).w("</a><ul>").s(ctx.get(["items"], false),ctx,{"block":body_15},{}).w("</ul></li>");}body_10.__dustBody=!0;function body_11(chk,ctx){return chk.w("#");}body_11.__dustBody=!0;function body_12(chk,ctx){return chk.f(ctx.get(["href"], false),ctx,"h");}body_12.__dustBody=!0;function body_13(chk,ctx){return chk.w("<span class=\"nav-label\">").f(ctx.get(["label"], false),ctx,"h").w("</span>");}body_13.__dustBody=!0;function body_14(chk,ctx){return chk.w("<i class=\"nav-arrow fas fa-sm fa-angle-down\"></i>");}body_14.__dustBody=!0;function body_15(chk,ctx){return chk.w(" ").p("navitem",ctx,ctx.rebase(ctx.getPath(true, [])),{}).w(" ");}body_15.__dustBody=!0;function body_16(chk,ctx){return chk.w("<div class=\"nav-spacer\"></div>");}body_16.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("navitem",body_0);function body_0(chk,ctx){return chk.x(ctx.get(["separator"], false),ctx,{"else":body_1,"block":body_6},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<li><a href=\"").x(ctx.get(["href"], false),ctx,{"else":body_2,"block":body_3},{}).w("\" target=\"").f(ctx.get(["target"], false),ctx,"h").w("\">").x(ctx.get(["iconClass"], false),ctx,{"block":body_4},{}).x(ctx.get(["label"], false),ctx,{"block":body_5},{}).w("</a></li>");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("#");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.f(ctx.get(["href"], false),ctx,"h");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<i class=\"nav-icon ").f(ctx.get(["iconClass"], false),ctx,"h").w("\" aria-hidden=\"true\"></i>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<span class=\"nav-label\">").f(ctx.get(["label"], false),ctx,"h",["s"]).w("</span>");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<li role=\"separator\" class=\"divider\"></li>");}body_6.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("params",body_0);function body_0(chk,ctx){return chk.x(ctx.get(["params"], false),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.h("eq",ctx,{"else":body_2,"block":body_8},{"key":ctx.getPath(false, ["template","options","symbols","params"]),"value":"table"},"h");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("<div class=\"space-top-sm space-bottom-xs fw-bold\">Parameters</div><ul class=\"param-list\">").s(ctx.get(["params"], false),ctx,{"block":body_3},{}).w("</ul>");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<li><div class=\"param-meta clearfix\"><span class=\"inline-block space-right-sm\"><code>").x(ctx.get(["variable"], false),ctx,{"block":body_4},{}).f(ctx.get(["name"], false),ctx,"h",["s","$dot_prop"]).w("</code>&nbsp;:&nbsp;<code>").x(ctx.get(["variable"], false),ctx,{"block":body_5},{}).f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></span><span class=\"param-info-box\">").x(ctx.get(["optional"], false),ctx,{"else":body_6,"block":body_7},{}).w("</span></div><div class=\"param-desc\">").f(ctx.getPath(true, []),ctx,"h",["s","$param_desc"]).w("</div></li>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("...");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("...");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<span class=\"param-info required boxed\">Required</span>");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w("<span class=\"param-info default\">Default:&nbsp;</span><code>").f(ctx.getPath(true, []),ctx,"h",["$def"]).w("</code>");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w("<table class=\"table table-striped table-bordered\"><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody>").s(ctx.get(["params"], false),ctx,{"block":body_9},{}).w("</tbody></table>");}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.w("<tr><td><code>").x(ctx.get(["variable"], false),ctx,{"block":body_10},{}).f(ctx.get(["name"], false),ctx,"h",["s","$dot_prop"]).w("</code></td><td><code>").x(ctx.get(["variable"], false),ctx,{"block":body_11},{}).f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></td><td>").x(ctx.get(["optional"], false),ctx,{"else":body_12,"block":body_13},{}).f(ctx.getPath(true, []),ctx,"h",["s","$param_desc"]).w("</td></tr>");}body_9.__dustBody=!0;function body_10(chk,ctx){return chk.w("...");}body_10.__dustBody=!0;function body_11(chk,ctx){return chk.w("...");}body_11.__dustBody=!0;function body_12(chk,ctx){return chk.w("<span class=\"param-info required boxed\">Required</span>");}body_12.__dustBody=!0;function body_13(chk,ctx){return chk.w("<span class=\"param-info default boxed\">Default</span><span class=\"color-gray\">:</span><code>").f(ctx.getPath(true, []),ctx,"h",["$def"]).w("</code>");}body_13.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("properties",body_0);function body_0(chk,ctx){return chk.x(ctx.get(["properties"], false),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.h("eq",ctx,{"else":body_2,"block":body_4},{"key":ctx.getPath(false, ["template","options","symbols","props"]),"value":"table"},"h");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("<div class=\"space-top-sm space-bottom-xs fw-bold\">Properties</div><ul class=\"param-list\">").s(ctx.get(["properties"], false),ctx,{"block":body_3},{}).w("</ul>");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<li><div class=\"param-meta clearfix\"><span class=\"inline-block space-right-sm\"><code>").f(ctx.get(["name"], false),ctx,"h",["s","$dot_prop"]).w("</code>&nbsp;:&nbsp;<code>").f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></span></div><div class=\"param-desc\">").f(ctx.get(["description"], false),ctx,"h",["s","$p"]).w("</div></li>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<table class=\"table table-striped table-bordered\"><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody>").s(ctx.get(["properties"], false),ctx,{"block":body_5},{}).w("</tbody></table>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<tr><td><code>").f(ctx.get(["name"], false),ctx,"h",["s","$dot_prop"]).w("</code></td><td><code>").f(ctx.getPath(true, []),ctx,"h",["s","$type"]).w("</code></td><td>").f(ctx.get(["description"], false),ctx,"h",["s","$p"]).w("</td></tr>");}body_5.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("sidebar",body_0);function body_0(chk,ctx){return chk.w("<div class=\"sidebar-header\"><div id=\"sidebar-toggle\"><i class=\"fas fa-lg fa-bars trans-all-ease\"></i></div><div class=\"sidebar-brand\">").x(ctx.getPath(false, ["template","options","logo","light"]),ctx,{"block":body_1},{}).w("<span class=\"sidebar-title\"><a href=\"").f(ctx.getPath(false, ["template","options","title","href"]),ctx,"h").w("\">").f(ctx.getPath(false, ["template","options","title","label"]),ctx,"h").w("</a></span></div>").x(ctx.getPath(false, ["template","options","sidebar","search"]),ctx,{"block":body_2},{}).x(ctx.getPath(false, ["template","options","sidebar","toolbar"]),ctx,{"block":body_3},{}).w("</div><div class=\"sidebar-nav-container\"><ul class=\"sidebar-nav\">").f(ctx.get(["symbols"], false),ctx,"h",["s","$navnodes"]).w("</ul></div>");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<img src=\"").f(ctx.getPath(false, ["template","options","logo","light"]),ctx,"h").w("\" alt=\"logo\" class=\"sidebar-logo\" />");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w("<div class=\"sidebar-search\"><div class=\"sidebar-search-icon\"><i class=\"fas fa-md fa-search\"></i></div><input id=\"txt-search\" type=\"search\" placeholder=\"Search...\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" /><div class=\"sidebar-search-clean\"><i class=\"fas fa-lg fa-times-circle\"></i></div></div>");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<div class=\"sidebar-toolbar\"><div class=\"toolbar-scope-filters\"></div><div class=\"toolbar-kind-filters\"></div><div class=\"toolbar-buttons\"><span class=\"btn-switch-fold inline-block\" title=\"Fold Symbols\">").h("eq",ctx,{"else":body_4,"block":body_5},{"key":ctx.getPath(false, ["template","options","sidebar","itemsFolded"]),"type":"boolean","value":"true"},"h").w("</span><span class=\"btn-switch-outline inline-block space-left-xs\" title=\"Toggle Outline\">").h("eq",ctx,{"else":body_6,"block":body_7},{"key":ctx.getPath(false, ["template","options","sidebar","outline"]),"type":"string","value":"tree"},"h").w("</span></div></div>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<i class=\"far fa-lg fa-caret-square-down\"></i>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<i class=\"far fa-lg fa-caret-square-right\"></i>");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<i class=\"fas fa-lg fa-outdent\"></i>");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w("<i class=\"fas fa-lg fa-indent\"></i>");}body_7.__dustBody=!0;return body_0}(dust));
(function(dust){dust.register("symbol",body_0);function body_0(chk,ctx){return chk.nx(ctx.getPath(false, ["symbol","$hide"]),ctx,{"block":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w("<div id=\"").f(ctx.get(["symbol"], false),ctx,"h",["$id"]).w("\" class=\"symbol-container\"><div class=\"symbol-heading\"><div class=\"symbol\"><a href=\"#").f(ctx.get(["symbol"], false),ctx,"h",["$id"]).w("\"><i class=\"fas fa-link color-gray-light\" aria-hidden=\"true\"></i></a><code class=\"symbol-name\">").f(ctx.get(["symbol"], false),ctx,"h",["s","$longname_params"]).w("</code><span class=\"symbol-sep\">").f(ctx.get(["symbol"], false),ctx,"h",["$type_sep"]).w("</span><code class=\"symbol-type\">").f(ctx.get(["symbol"], false),ctx,"h",["s","$type"]).w("</code>").f(ctx.get(["symbol"], false),ctx,"h",["s","$tags"]).w("</div></div><div class=\"symbol-definition\"><div class=\"symbol-info\">").x(ctx.getPath(false, ["symbol","alias"]),ctx,{"block":body_2},{}).x(ctx.getPath(false, ["symbol","augments"]),ctx,{"block":body_4},{}).x(ctx.getPath(false, ["symbol","version"]),ctx,{"block":body_5},{}).x(ctx.getPath(false, ["symbol","since"]),ctx,{"block":body_6},{}).x(ctx.getPath(false, ["symbol","copyright"]),ctx,{"block":body_7},{}).x(ctx.getPath(false, ["symbol","author"]),ctx,{"block":body_8},{}).x(ctx.getPath(false, ["symbol","license"]),ctx,{"block":body_9},{}).w("</div>").x(ctx.getPath(false, ["symbol","defaultvalue"]),ctx,{"block":body_10},{}).f(ctx.get(["symbol"], false),ctx,"h",["s","$desc"]).x(ctx.getPath(false, ["symbol","see"]),ctx,{"block":body_11},{}).h("ne",ctx,{"block":body_16},{"key":ctx.getPath(false, ["symbol","meta","code","type"]),"value":"ClassDeclaration"},"h").x(ctx.getPath(false, ["symbol","fires"]),ctx,{"block":body_19},{}).x(ctx.getPath(false, ["symbol","returns"]),ctx,{"block":body_21},{}).x(ctx.getPath(false, ["symbol","generator"]),ctx,{"block":body_24},{}).x(ctx.getPath(false, ["symbol","exceptions"]),ctx,{"block":body_28},{}).x(ctx.getPath(false, ["symbol","isEnum"]),ctx,{"block":body_31},{}).x(ctx.getPath(false, ["symbol","examples"]),ctx,{"block":body_32},{}).x(ctx.getPath(false, ["template","options","symbols","meta"]),ctx,{"block":body_35},{}).w("</div></div><hr />").x(ctx.getPath(false, ["symbol","$constructor"]),ctx,{"block":body_39},{}).nx(ctx.getPath(false, ["symbol","isEnum"]),ctx,{"block":body_41},{});}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.nx(ctx.get(["$constructor"], false),ctx,{"block":body_3},{});}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w("<p><b class=\"caption\">Alias:</b> <code>").f(ctx.getPath(false, ["symbol","alias"]),ctx,"h",["s","$dot_prop"]).w("</code></p>");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w("<p><b class=\"caption\">Extends:</b> ").f(ctx.get(["symbol"], false),ctx,"h",["s","$extends"]).w("</p>");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w("<p><b class=\"caption\">Version:</b>&nbsp;").f(ctx.getPath(false, ["symbol","version"]),ctx,"h",["s"]).w("</p>");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w("<p><b class=\"caption\">Since:</b>&nbsp;").f(ctx.getPath(false, ["symbol","since"]),ctx,"h",["s"]).w("</p>");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w("<p><b class=\"caption\">Copyright:</b>&nbsp;").f(ctx.getPath(false, ["symbol","copyright"]),ctx,"h",["s"]).w("</p>");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w("<p><b class=\"caption\">Author:</b>&nbsp;").f(ctx.getPath(false, ["symbol","author"]),ctx,"h",["s","$author"]).w("</p>");}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.w("<p><b class=\"caption\">License:</b>&nbsp;").f(ctx.getPath(false, ["symbol","license"]),ctx,"h",["s"]).w("</p>");}body_9.__dustBody=!0;function body_10(chk,ctx){return chk.w("<p class=\"symbol-def-val\"><b class=\"caption\"><i>Value:</i></b>&nbsp;<code>").f(ctx.get(["symbol"], false),ctx,"h",["$def"]).w("</code></p>");}body_10.__dustBody=!0;function body_11(chk,ctx){return chk.w("<p class=\"no-margin\"><b>See</b>").h("gt",ctx,{"else":body_12,"block":body_14},{"key":ctx.getPath(false, ["symbol","see","length"]),"value":1},"h").w("</p>");}body_11.__dustBody=!0;function body_12(chk,ctx){return chk.s(ctx.getPath(false, ["symbol","see"]),ctx,{"block":body_13},{});}body_12.__dustBody=!0;function body_13(chk,ctx){return chk.w("&nbsp;").f(ctx.getPath(true, []),ctx,"h",["s","$pl"]);}body_13.__dustBody=!0;function body_14(chk,ctx){return chk.w("<ul>").s(ctx.getPath(false, ["symbol","see"]),ctx,{"block":body_15},{}).w("</ul>");}body_14.__dustBody=!0;function body_15(chk,ctx){return chk.w("<li>").f(ctx.getPath(true, []),ctx,"h",["s","$pl"]).w("</li>");}body_15.__dustBody=!0;function body_16(chk,ctx){return chk.p("params",ctx,ctx.rebase(ctx.get(["symbol"], false)),{"template":ctx.get(["template"], false)}).w(" ").x(ctx.getPath(false, ["symbol","isEnum"]),ctx,{"else":body_17,"block":body_18},{});}body_16.__dustBody=!0;function body_17(chk,ctx){return chk.p("properties",ctx,ctx.rebase(ctx.get(["symbol"], false)),{"template":ctx.get(["template"], false)}).w(" ");}body_17.__dustBody=!0;function body_18(chk,ctx){return chk;}body_18.__dustBody=!0;function body_19(chk,ctx){return chk.h("gt",ctx,{"block":body_20},{"key":ctx.getPath(false, ["symbol","fires","length"]),"value":"0","type":"number"},"h");}body_19.__dustBody=!0;function body_20(chk,ctx){return chk.w("<p><b class=\"caption\">Emits:</b>&nbsp;&nbsp;").f(ctx.get(["symbol"], false),ctx,"h",["s","$emits"]).w("</p>");}body_20.__dustBody=!0;function body_21(chk,ctx){return chk.h("gt",ctx,{"else":body_22,"block":body_23},{"key":ctx.getPath(false, ["symbol","returns","length"]),"value":"1","type":"number"},"h");}body_21.__dustBody=!0;function body_22(chk,ctx){return chk.w("<p><b class=\"caption\">Returns:</b>&nbsp;&nbsp;").f(ctx.get(["symbol"], false),ctx,"h",["s","$returns"]).w("</p>");}body_22.__dustBody=!0;function body_23(chk,ctx){return chk.w("<b class=\"caption\">Returns:</b><p class=\"pad-left\">").f(ctx.get(["symbol"], false),ctx,"h",["s","$returns"]).w("</p>");}body_23.__dustBody=!0;function body_24(chk,ctx){return chk.x(ctx.getPath(false, ["symbol","yields"]),ctx,{"block":body_25},{});}body_24.__dustBody=!0;function body_25(chk,ctx){return chk.h("gt",ctx,{"else":body_26,"block":body_27},{"key":ctx.getPath(false, ["symbol","yields","length"]),"value":"1","type":"number"},"h");}body_25.__dustBody=!0;function body_26(chk,ctx){return chk.w("<p><b class=\"caption\">Yields:</b>&nbsp;&nbsp;").f(ctx.get(["symbol"], false),ctx,"h",["s","$yields"]).w("</p>");}body_26.__dustBody=!0;function body_27(chk,ctx){return chk.w("<b class=\"caption\">Yields:</b><p class=\"pad-left\">").f(ctx.get(["symbol"], false),ctx,"h",["s","$yields"]).w("</p>");}body_27.__dustBody=!0;function body_28(chk,ctx){return chk.h("gt",ctx,{"else":body_29,"block":body_30},{"key":ctx.getPath(false, ["symbol","exceptions","length"]),"value":"1","type":"number"},"h");}body_28.__dustBody=!0;function body_29(chk,ctx){return chk.w("<p><b class=\"caption\">Throws:</b>&nbsp;&nbsp;").f(ctx.get(["symbol"], false),ctx,"h",["s","$exceptions"]).w("</p>");}body_29.__dustBody=!0;function body_30(chk,ctx){return chk.w("<b class=\"caption\">Throws:</b><p class=\"pad-left\">").f(ctx.get(["symbol"], false),ctx,"h",["s","$exceptions"]).w("</p>");}body_30.__dustBody=!0;function body_31(chk,ctx){return chk.p("enums",ctx,ctx.rebase(ctx.get(["symbol"], false)),{"template":ctx.get(["template"], false)}).w(" ");}body_31.__dustBody=!0;function body_32(chk,ctx){return chk.s(ctx.getPath(false, ["symbol","examples"]),ctx,{"block":body_33},{});}body_32.__dustBody=!0;function body_33(chk,ctx){return chk.w("<p><b>Example").h("gt",ctx,{"block":body_34},{"key":ctx.getPath(false, ["symbol","examples","length"]),"value":1},"h").w("</b>").f(ctx.getPath(true, []),ctx,"h",["$get_caption","s"]).w("</p><pre><code>").f(ctx.getPath(true, []),ctx,"h",["$nt","$tnl","$remove_caption"]).w("</code></pre>");}body_33.__dustBody=!0;function body_34(chk,ctx){return chk.w("&nbsp;#").h("math",ctx,{},{"key":ctx.get(["$idx"], false),"method":"add","operand":"1"},"h");}body_34.__dustBody=!0;function body_35(chk,ctx){return chk.x(ctx.getPath(false, ["symbol","meta","lineno"]),ctx,{"block":body_36},{});}body_35.__dustBody=!0;function body_36(chk,ctx){return chk.w("<p class=\"symbol-meta\">").x(ctx.getPath(false, ["symbol","meta","filename"]),ctx,{"block":body_37},{}).x(ctx.getPath(false, ["symbol","meta","lineno"]),ctx,{"block":body_38},{}).w("</p>");}body_36.__dustBody=!0;function body_37(chk,ctx){return chk.w("<b>File:</b> ").f(ctx.getPath(false, ["symbol","meta","filename"]),ctx,"h").w("&nbsp;&nbsp;");}body_37.__dustBody=!0;function body_38(chk,ctx){return chk.w("<b>Line:</b> ").f(ctx.getPath(false, ["symbol","meta","lineno"]),ctx,"h").w("&nbsp;&nbsp;");}body_38.__dustBody=!0;function body_39(chk,ctx){return chk.h("ne",ctx,{"block":body_40},{"key":ctx.getPath(false, ["symbol","hideconstructor"]),"type":"boolean","value":"true"},"h");}body_39.__dustBody=!0;function body_40(chk,ctx){return chk.p("symbol",ctx,ctx,{"symbol":ctx.getPath(false, ["symbol","$constructor"]),"template":ctx.get(["template"], false)});}body_40.__dustBody=!0;function body_41(chk,ctx){return chk.s(ctx.getPath(false, ["symbol","$members"]),ctx,{"block":body_42},{});}body_41.__dustBody=!0;function body_42(chk,ctx){return chk.p("symbol",ctx,ctx,{"symbol":ctx.getPath(true, []),"template":ctx.get(["template"], false)});}body_42.__dustBody=!0;return body_0}(dust));
/*!
 * Docma (Web) Core
 * https://github.com/onury/docma
 * @license MIT
 */
var DocmaWeb = (function () {
'use strict';

var Utils={};function getStr(e){return"string"==typeof e?e.trim():""}function bracket(e){return/^[a-z$_][a-z\d$_]*$/i.test(e)?"."+e:'["'+e+'"]'}function fixBracket(r){return r.replace(/(.*?)\."([^"]+)"\]?$/,function(e,t,n){return n?t+bracket(n):r})}function cleanName(e){return fixBracket(e=getStr(e).replace(/([^>]+>)?~?(.*)/,"$2").replace(/^"[^"]+"\.?~?([^"]+)$/,"$1").replace(/^(module\.)?exports\./,"").replace(/^module:/,""))}function getMetaCodeName(e){return cleanName(Utils.notate(e,"meta.code.name")||"")}function identity(e){return e}function hasConstructorTag(e){return/\*\s+@construct(s|or)\b/.test(e.comment)}Utils.type=function(e){return Object.prototype.toString.call(e).match(/\s(\w+)/i)[1].toLowerCase()},Utils.notate=function(e,t){if("object"==typeof e){var n=Array.isArray(t)?t:t.split("."),t=n[0];if(t)return t=e[t],1<n.length?(n.shift(),Utils.notate(t,n)):t}},Utils.getName=function(e){if(e.alias){var t=getMetaCodeName(e);if(t)return t.replace(/.*?[#.~:](\w+)$/i,"$1")}return e.name},Utils.getLongName=function(e){var t=cleanName(e.longname),n=getMetaCodeName(e)||t,r=e.memberof||"",r=/^".*"$/.test(r)?"":cleanName(r);if(e.name===r&&Utils.isConstructor(e))return n;n=e.alias?n:t;if(!r)return n;t=new RegExp("^"+r+"[#.~:]"),e="instance"===e.scope?"#":".";return t.test(n)?n:r+e+n},Utils.getFullName=Utils.getLongName,Utils.getCodeName=function(e){return getMetaCodeName(e)||Utils.getLongName(e)},Utils.getSymbolByName=function(e,t){var n,r,i;if("object"===Utils.type(e)){for(var l=Object.keys(e),o=0;o<l.length;o++)if(r=e[l[o]].documentation,i=Utils.getSymbolByName(r,t))return i;return null}for(r=e,o=0;o<r.length;o++){if((n=r[o]).name===t||n.longname===t||Utils.getFullName(n)===t)return n;if(n.$members&&(i=Utils.getSymbolByName(n.$members,t)))return i}return null},Utils.getLevels=function(e){e=("string"==typeof e?e:e.$longname)||"";return(e=cleanName(e))?((e||"").split(/[.#~]/)||[]).length:0},Utils.getParentName=function(e){var t;if("string"!=typeof e){if(e.memberof&&!1===/^".*"$/.test(e.memberof))return cleanName(e.memberof);t=cleanName(e.$longname)}else t=cleanName(e);return t&&/[.#~]/g.test(t)?t.replace(/[.#~][^.#~]*$/,""):""},Utils.getParent=function(e,t){t="string"==typeof t?Utils.getSymbolByName(e,t):t;if(!t)return null;t=Utils.getParentName(t);return t?Utils.getSymbolByName(e,t):null},Utils.isDeprecated=function(e){return e.deprecated},Utils.isGlobal=function(e){return"global"===e.scope},Utils.isNamespace=function(e){return"namespace"===e.kind},Utils.isModule=function(e){return"module"===e.kind},Utils.isMixin=function(e){return"mixin"===e.kind},Utils.isClass=function(e){return"class"===e.kind&&"MethodDefinition"!==Utils.notate(e,"meta.code.type")&&!hasConstructorTag(e)},Utils.isConstant=function(e){return"constant"===e.kind},Utils.isConstructor=function(e){return"class"===e.kind&&("MethodDefinition"===Utils.notate(e,"meta.code.type")||hasConstructorTag(e))},Utils.isStaticMember=function(e){return"static"===e.scope},Utils.isStatic=Utils.isStaticMember,Utils.isInner=function(e){return"inner"===e.scope},Utils.isInstanceMember=function(e){return"instance"===e.scope},Utils.isInterface=function(e){return"interface"===e.scope},Utils.isMethod=function(e){var t=Utils.notate(e,"meta.code.type");return"function"===e.kind||"FunctionExpression"===t||"FunctionDeclaration"===t},Utils.isFunction=Utils.isMethod,Utils.isInstanceMethod=function(e){return Utils.isInstanceMember(e)&&Utils.isMethod(e)},Utils.isStaticMethod=function(e){return Utils.isStaticMember(e)&&Utils.isMethod(e)},Utils.isProperty=function(e){return"member"===e.kind&&!Utils.isMethod(e)},Utils.isInstanceProperty=function(e){return Utils.isInstanceMember(e)&&Utils.isProperty(e)},Utils.isStaticProperty=function(e){return Utils.isStaticMember(e)&&Utils.isProperty(e)},Utils.isTypeDef=function(e){return"typedef"===e.kind},Utils.isCustomType=Utils.isTypeDef,Utils.isCallback=function(e){var t=(e.type||{}).names||[];return"typedef"===e.kind&&0<=(e.comment||"").indexOf("@callback "+e.longname)&&1===t.length&&"function"===t[0]},Utils.isEnum=function(e){return Boolean(e.isEnum)},Utils.isEvent=function(e){return"event"===e.kind},Utils.isExternal=function(e){return"external"===e.kind},Utils.isGenerator=function(e){return e.generator&&"function"===e.kind},Utils.isReadOnly=function(e){return e.readonly},Utils.isPublic=function(e){return"string"!=typeof e.access||"public"===e.access},Utils.isPrivate=function(e){return"private"===e.access},Utils.isPackagePrivate=function(e){return"package"===e.access},Utils.isProtected=function(e){return"protected"===e.access},Utils.isUndocumented=function(e){return!e.comments},Utils.hasDescription=function(e){return Boolean(getStr(e.classdesc)||getStr(e.description))},Utils.trimLeft=function(e){return e.replace(/^[\s\n\r\-]*/,"")},Utils.trimNewLines=function(e){return e.replace(/^[\r\n]+|[\r\n]+$/,"")},Utils.parseTicks=function(e){return"string"!=typeof e?"":e.replace(/(```\s*)([\s\S]*?)(\s*```)/g,function(e,t,n){return Utils.normalizeTabs(Utils._wrapCode(n,!0,!0).replace(/`/g,"&#x60;"))}).replace(/(`)(.*?)(`)/g,function(e,t,n){return Utils._wrapCode(n,!0)})},Utils.parseNewLines=function(e,n){return n=n||{},Utils._tokenize(e,function(e,t){if(t)return e;t=e.split(/[\r\n]{2,}/);return t.length<=1&&n.keepIfSingle?e:t.map(function(e){return"<p>"+e+"</p>"}).join("")}).join("")},Utils.parseLinks=function(e,i){if("string"!=typeof e)return"";i=i||{};e=e.replace(/\{@link +([^}]*?)\}/g,function(e,t){var n,r,t=t.split("|");return 1===t.length?n=r=t[0].trim():(n=t[0].trim(),r=t[1].trim()),'<a href="'+(n=!1===/[/?&=]/.test(n)&&"#"!==n[0]?"#"+n:n)+'"'+(i.target?' target="'+i.target+'" rel="noopener noreferrer"':"")+">"+r+"</a>"});return Utils.parseTicks(e)},Utils.parse=function(e,t){return t=t||{},e=Utils.trimLeft(e),e=Utils.parseNewLines(e,t),e=Utils.parseTicks(e),Utils.parseLinks(e,t)},Utils.normalizeTabs=function(e){if("string"!=typeof e)return"";var r,t=e.match(/^\s*/gm),n=1/0;return t.forEach(function(e,t){e=e.replace(/\t/g,"  "),0<t&&(n=Math.min(e.length,n))}),n!==1/0&&(t=new RegExp("^\\s{"+n+"}","g"),e=e.replace(t,"")),(e=e.replace(/^\s*/,"")).replace(/([\r\n]+)(\s+)/gm,function(e,t,n){return r=n.replace(/\t/g,"  "),t+new Array(r.length-r.length%2+1).join(" ")})},Utils.getKeywords=function(e){if("string"==typeof e)return e.toLowerCase();var t=Utils.getFullName(e)+" "+e.longname+" "+e.name+" "+(e.alias||"")+" "+(e.memberOf||"")+" "+(e.$kind||"")+" "+(e.scope||"")+" "+(e.classdesc||"")+" "+(e.description||"")+" "+(e.filename||"")+" "+(e.readonly?"readonly":"")+(e.isEnum?"enum":"");return Utils.isConstructor(e)&&(t+=" constructor"),Utils.isMethod(e)&&(t+=" method"),Utils.isProperty(e)&&(t+=" property"),t.replace(/[><"'`\n\r]/g,"").toLowerCase()},Utils.getCodeFileInfo=function(e){return{filename:Utils.notate(e,"meta.filename"),lineno:Utils.notate(e,"meta.lineno"),path:Utils.notate(e,"meta.path")}},Utils.getSymbolLink=function(e,t){if("string"!=typeof t)return t.$docmaLink;t=Utils.getSymbolByName(e,t);return t?t.$docmaLink:""};var reEndBrackets=/\[\]$/,reTypeParts=/^([^<]+?)(?:\.)?(?:<\(([^>)]+)\)>)?(?:<([^>]+)>)?(\[\])?$/;function _link(e,t,n){var r,i=reEndBrackets.test(t)?"[]":"",l=(t||"").replace(reEndBrackets,""),o=n||{},n="";return"internal"!==o.linkType&&(r=Utils._getTypeExternalLink(l))&&(n=' target="_blank" rel="noopener noreferrer"'),t=(r=!r&&"external"!==o.linkType?Utils.getSymbolLink(e,l):r)?'<a href="'+r+'"'+n+">"+(o.displayText||l)+i+"</a>":t}function serializer(r){var i=[],l=[];return function(e,t){return 2e3<i.length?"[Too Big Object]":(0<i.length?(~(n=i.indexOf(this))?(i.splice(n+1),l.splice(n,1/0,e)):(i.push(this),l.push(e)),0<=i.indexOf(t)&&(t=i[0]===t?"[Circular ~]":"[Circular ~."+l.slice(0,i.indexOf(t)).join(".")+"]")):i.push(t),r?r.call(this,e,t):t);var n}}function decodeHash(e){return decodeURIComponent(e).replace(/^#/,"")}Utils._parseAnchorLinks=function(t,e,n){var r=e.match(reTypeParts);if(!r||!r[1])return"";var i=r[4]||"",e=r[2]||r[3]||"";return e=(e=e&&e.split(",").map(function(e){return e.trim().split("|").map(function(e){return _link(t,e,n)}).join('<span class="code-delim">|</span>')}).join('<span class="code-delim">, </span>'))&&"&lt;"+e+"&gt;",_link(t,r[1],n)+e+i},Utils.getTypes=function(t,e,n){var r=n||{},n=(n="class"===e.kind?["class"]:Utils.notate(e,"type.names")||[]).map(function(e){return e=r.links?Utils._parseAnchorLinks(t,e,{linkType:r.links}):e}).join('<span class="code-delim">|</span>');return e.isEnum?"enum&lt;"+n+"&gt;":n},Utils.getReturnTypes=function(n,e,t){e=e.returns;if(!Array.isArray(e))return"void";var r=t||{},e=e.reduce(function(e,t){t=Utils.notate(t,"type.names")||[];return r.links&&(t=t.map(function(e){return Utils._parseAnchorLinks(n,e,{linkType:r.links})})),e.concat(t)},[]);return 0<e.length?e.join('<span class="code-delim">|</span>'):"void"},Utils.getCodeTags=function(n,e,t){var r=t||{};return e.map(function(e){if(r.links){var t=Utils._parseAnchorLinks(n,e,{linkType:r.links});return Utils._wrapCode(t,!1)}return Utils._wrapCode(e,!0)}).join(r.demileter||",")},Utils.getFormattedTypeList=function(n,e,t){if(!Array.isArray(e)||0===e.length)return"";var r=t||{},i='<span class="code-delim">'+(r.delimeter||"|")+"</span>",l="boolean"!=typeof r.descriptions||r.descriptions,o=r.descDelimeter||"&nbsp;&nbsp;&nbsp;&nbsp;",a="",e=e.map(function(e){return l&&(a=(a=Utils.parse(e.description||"",{keepIfSingle:!0}))&&o+a),e.type?(e.type.names||[]).map(function(e){if(r.links){var t=Utils._parseAnchorLinks(n,e,{linkType:r.links});return Utils._wrapCode(t,!1)}return Utils._wrapCode(e,!0)}).join(i)+a:a?" "+a:""});return 1<e.length?"<ul><li>"+e.join("</li><li>")+"</li></ul>":e},Utils.getEmittedEvents=function(t,e,n){if(!e||0===e.length)return"";var r,i=n||{},n=i.delimeter||", ";return(e||[]).map(function(e){if(r=e.split(/\s*[\s-]\s*/g),r=(r[0]||"").trim(),i.links){e=Utils._parseAnchorLinks(t,r,{linkType:i.links});return Utils._wrapCode(e,!1)}return Utils._wrapCode(r,!0)}).join(n)},Utils._find=function(e,t){if(!e||!t)return null;for(var n,r=null,i=0;i<e.length;i++)if((n=e[i])&&"object"==typeof n){for(var l in t)if(void 0!==t[l]&&t.hasOwnProperty(l)){if(t[l]!==n[l]){r=null;break}r=n}if(r)break}return r},Utils._assign=function(e,t,n){for(var r in e=e||{},t)t.hasOwnProperty(r)&&(n?Object.defineProperty(e,r,{enumerable:!0,value:t[r]}):e[r]=t[r]);return e},Utils._values=function(e){if(Array.isArray(e))return e;var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},Utils._wrapCode=function(e,t,n){return"string"!=typeof e?"":(e="<code>"+(e=void 0===t||!0===t?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e)+"</code>",n?"<pre>"+e+"</pre>":e)},Utils._tokenize=function(e,t){"function"!=typeof t&&(t=identity);if(e.indexOf("```")<0)return[t(e,!1)];for(var n="```".length,r="",i="",l=[],o=!1,a=0;a<e.length;a++)r+=e[a],i+=e[a],"```"===(r=r.length>n?r.slice(-n):r)&&(i=(o=!o)?(l.push(t(i.slice(0,-n),!1)),r):(l.push(t(i,!0)),""));return l},Utils._ensureSlash=function(e,t,n){return t?(e&&"/"!==t.slice(0,1)&&(t="/"+t),n&&"/"!==t.slice(-1)&&(t+="/"),t):e||n?"/":""},Utils._safeStringify=function(t,e,n){try{return JSON.stringify(t,serializer(e),n)}catch(e){return String(t)}},Utils.DOM={};var ATTR_BODY_STYLE="data-body-style";Utils.DOM.getOffset=function(e){var t="object"==typeof e?e:document.getElementById(e);if(t){e=t.getBoundingClientRect();if(e.width||e.height||t.getClientRects().length){t=document.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}}},Utils.DOM.scrollTo=function(e){var t=document.documentElement||document.body;(e=decodeHash(e||window.location.hash||""))?!(e=document.getElementById(e))||(e=Utils.DOM.getOffset(e))&&(t.scrollTop=e.top):t.scrollTop=0},Utils.DOM._createChild=function(e,t,n){n=n||{};var r=document.createElement(t||"div");return Object.keys(n).forEach(function(e){r[e]=n[e]}),e.appendChild(r),r},Utils.DOM._removePrevBodyStyles=function(){for(var e=document.getElementsByTagName("head")[0].querySelectorAll("["+ATTR_BODY_STYLE+"]");0<e.length;)e[0].parentNode.removeChild(e[0])},Utils.DOM._moveBodyStylesToHead=function(){for(var e,t=document.getElementsByTagName("head")[0],n=document.body.getElementsByTagName("style"),r=0;r<n.length;r++)(e=n[r]).parentNode.removeChild(e),e.setAttribute(ATTR_BODY_STYLE,""),t.appendChild(e)};var _builtinURLs={globals:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/",statements:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/",operators:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/",functions:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/",web:"https://developer.mozilla.org/en-US/docs/Web/API/"},_builtins={globals:["Infinity","NaN","undefined","null","Object","Function","function","Boolean","boolean","Symbol","Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","Number","number","Math","Date","String","string","RegExp","Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Map","Set","WeakMap","WeakSet","ArrayBuffer","DataView","JSON","Promise","Generator","GeneratorFunction","Reflect","Proxy","TypedArray","Intl","Intl.Collator","Intl.DateTimeFormat","Intl.NumberFormat","WebAssembly","WebAssembly.Module","WebAssembly.Instance","WebAssembly.Memory","WebAssembly.Table","WebAssembly.CompileError","WebAssembly.LinkError","WebAssembly.RuntimeError"],statements:["function","function*","async function","class","debugger"],operators:["void","super","this"],functions:["arguments"],web:["AbstractWorker","AnalyserNode","AudioBuffer","AudioContext","AudioListener","AudioNode","BaseAudioContext","BeforeUnloadEvent","Blob","BlobEvent","BufferSource","ByteString","CSSMediaRule","CSSPageRule","CSSPrimitiveValue","CSSRule","CSSRuleList","CSSStyleDeclaration","CSSStyleRule","CSSStyleSheet","CSSSupportsRule","CSSValue","CSSValueList","CloseEvent","CompositionEvent","Console","Coordinates","Crypto","CryptoKey","CustomEvent","DOMException","DOMImplementation","Document","DocumentFragment","DocumentType","DoubleRange","DragEvent","Element","ErrorEvent","Event","EventListener","EventSource","EventTarget","File","FileList","FileReader","FileReaderSync","FormData","Geolocation","HTMLAnchorElement","HTMLAreaElement","HTMLAudioElement","HTMLBRElement","HTMLBaseElement","HTMLBodyElement","HTMLButtonElement","HTMLCanvasElement","HTMLCollection","HTMLDListElement","HTMLDataElement","HTMLDataListElement","HTMLDetailsElement","HTMLDivElement","HTMLDocument","HTMLElement","HTMLEmbedElement","HTMLFieldSetElement","HTMLFormControlsCollection","HTMLFormElement","HTMLHRElement","HTMLHeadElement","HTMLHeadingElement","HTMLHtmlElement","HTMLIFrameElement","HTMLImageElement","HTMLInputElement","HTMLKeygenElement","HTMLLIElement","HTMLLabelElement","HTMLLegendElement","HTMLLinkElement","HTMLMapElement","HTMLMediaElement","HTMLMetaElement","HTMLMeterElement","HTMLModElement","HTMLOListElement","HTMLObjectElement","HTMLOptGroupElement","HTMLOptionElement","HTMLOptionsCollection","HTMLOutputElement","HTMLParagraphElement","HTMLParamElement","HTMLPreElement","HTMLProgressElement","HTMLQuoteElement","HTMLScriptElement","HTMLSelectElement","HTMLSlotElement","HTMLSourceElement","HTMLSpanElement","HTMLStyleElement","HTMLTableCaptionElement","HTMLTableCellElement","HTMLTableColElement","HTMLTableDataCellElement","HTMLTableElement","HTMLTableHeaderCellElement","HTMLTableRowElement","HTMLTableSectionElement","HTMLTemplateElement","HTMLTextAreaElement","HTMLTimeElement","HTMLTitleElement","HTMLTrackElement","HTMLUListElement","HTMLUnknownElement","HTMLVideoElement","HashChangeEvent","History","ImageData","InputEvent","KeyboardEvent","LinkStyle","Location","LongRange","MediaDevices","MediaDeviceInfo","MediaError","MediaRecorder","MediaStream","MessageChannel","MessageEvent","MessagePort","MouseEvent","MutationObserver","MutationRecord","NamedNodeMap","Navigator","NavigatorGeolocation","Node","NodeIterator","NodeList","NonDocumentTypeChildNode","Notification","PageTransitionEvent","PointerEvent","PopStateEvent","Position","PositionError","PositionOptions","ProgressEvent","PromiseRejectionEvent","RTCCertificate","RTCConfiguration","RTCDTMFSender","RTCDTMFToneChangeEvent","RTCDataChannel","RTCPeerConnection","RTCPeerConnection","RTCRtpCodecParameters","RTCRtpContributingSource","RTCRtpReceiver","RTCRtpSender","RTCRtpSynchronizationSource","RTCRtpTransceiver","RTCRtpTransceiverDirection","RTCRtpTransceiverInit","RTCStatsReport","RadioNodeList","RandomSource","Range","RenderingContext","SVGAnimateElement","SVGAnimateMotionElement","SVGAnimateTransformElement","SVGAnimationElement","SVGCircleElement","SVGClipPathElement","SVGCursorElement","SVGElement","SVGEllipseElement","SVGEvent","SVGFilterElement","SVGGeometryElement","SVGGradientElement","SVGGraphicsElement","SVGImageElement","SVGLineElement","SVGLinearGradientElement","SVGMPathElement","SVGMaskElement","SVGMetadataElement","SVGPathElement","SVGPatternElement","SVGPolygonElement","SVGPolylineElement","SVGRadialGradientElement","SVGRect","SVGRectElement","SVGSVGElement","SVGScriptElement","SVGSetElement","SVGStopElement","SVGStyleElement","SVGSwitchElement","SVGSymbolElement","SVGTSpanElement","SVGTextContentElement","SVGTextElement","SVGTextPathElement","SVGTextPositioningElement","SVGTitleElement","SVGTransform","SVGTransformList","SVGTransformable","SVGUseElement","SVGViewElement","ShadowRoot","SharedWorker","Storage","StorageEvent","StyleSheet","StyleSheetList","Text","TextMetrics","TimeEvent","TimeRanges","Touch","TouchEvent","TouchList","Transferable","TreeWalker","UIEvent","URL","WebGLActiveInfo","WebGLBuffer","WebGLContextEvent","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLRenderingContext","WebGLShader","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebSocket","WheelEvent","Window","Worker","WorkerGlobalScope","WorkerLocation","WorkerNavigator","XMLHttpRequest","XMLHttpRequestEventTarget","XMLSerializer","XPathExpression","XPathResult","XSLTProcessor"]},_cats=Object.keys(_builtins);Utils._getTypeExternalLink=function(e){for(var t,n=0;n<_cats.length;n++)if(t=_cats[n],0<=_builtins[t].indexOf(e))return _builtinURLs[t]+(e||"").replace(/^([^.]*\.)/,"");return""};

function DocmaWeb(t){this._=t||{},this._.initialLoad=!1,this._.appEntranceRI=null,this._.emitter=new EventEmitter,Object.defineProperty(this,"app",{configurable:!1,get:function(){return this._.app||null}}),Object.defineProperty(this,"apis",{configurable:!1,get:function(){return this._.apis||{}}}),Object.defineProperty(this,"routes",{configurable:!1,get:function(){return this._.routes||{}}}),Object.defineProperty(this,"template",{configurable:!1,get:function(){return this._.template||{}}}),Object.defineProperty(this,"location",{configurable:!1,get:function(){var t=Utils._ensureSlash(!0,window.location.pathname,!0),e=Utils._ensureSlash(!0,docma.app.base,!0),o=t;return t.slice(0,e.length)===e&&(o=t.slice(e.length-1,t.length)),{host:window.location.host,hostname:window.location.hostname,origin:window.location.origin,port:window.location.port,protocol:(window.location.protocol||"").replace(/:$/,""),entrance:Utils._ensureSlash(!0,docma.app.entrance,!1),base:e,hash:(window.location.hash||"").replace(/^#/,""),query:(window.location.search||"").replace(/^\?/,""),href:window.location.href,fullpath:t,pathname:o,path:o+(window.location.search||""),getQuery:function(t,e){"?"===(e=void 0===e?window.location.search||"":e).slice(0,1)&&(e=e.slice(1)),t=(t||"").replace(/[[\]]/g,"\\$&");e=new RegExp("&?"+t+"(=([^&#]*)|&|#|$)").exec(e);return e&&e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):""}}}}),Object.defineProperty(this,"currentRoute",{configurable:!1,get:function(){return this._.currentRoute||null}}),Object.defineProperty(this,"documentation",{configurable:!1,get:function(){return this._.documentation||[]}}),Object.defineProperty(this,"symbols",{configurable:!1,get:function(){return this._.symbols||[]}})}DocmaWeb.prototype._trigger=function(t,e){this.info("Event:",t,e?e[0]:""),this._.emitter.trigger(t,e)},DocmaWeb.Event={Ready:"ready",Render:"render",Route:"route",Navigate:"navigate"},DocmaWeb.prototype.on=function(t,e){return this._.emitter.on.apply(this._.emitter,arguments),docma},DocmaWeb.prototype.once=function(){return this._.emitter.once.apply(this._.emitter,arguments),this},DocmaWeb.prototype.off=function(){return this._.emitter.off.apply(this._.emitter,arguments),this},DocmaWeb.prototype.addListener=DocmaWeb.prototype.on,DocmaWeb.prototype.addListenerOnce=DocmaWeb.prototype.once,DocmaWeb.prototype.removeListener=DocmaWeb.prototype.off,DocmaWeb.prototype.log=function(){docma._.logsEnabled&&console.log.apply(console,arguments)},DocmaWeb.prototype.info=function(){docma._.logsEnabled&&console.info.apply(console,arguments)},DocmaWeb.prototype.warn=function(){docma._.logsEnabled&&console.warn.apply(console,arguments)},DocmaWeb.prototype.error=function(){docma._.logsEnabled&&console.error.apply(console,arguments)},DocmaWeb.prototype.getDocmaElem=function(){return document.getElementById(this._.elementID)||Utils.DOM.createChild(document.body,"div",{id:this._.elementID})},DocmaWeb.prototype.getContentElem=function(){var t=document.getElementById(this._.contentElementID);if(!t)throw new Error("Partial "+this._.partials.content+' should have an element with id="'+this._.contentElementID+'".');return t},DocmaWeb.prototype.loadContent=function(t){this.getContentElem().innerHTML=t,Utils.DOM._removePrevBodyStyles(),Utils.DOM._moveBodyStylesToHead(),Utils.DOM.scrollTo()},DocmaWeb.prototype._loadCompiledContent=function(t){this.getDocmaElem().innerHTML=t},DocmaWeb.prototype._fixAnchors=function(r){this.app.base&&setTimeout(function(){for(var t=document.querySelectorAll('a[href^="#"]'),e=0;e<t.length;e++){var o,n=(o=t[e]).getAttribute("href");"#"===n.slice(0,1)&&1<n.length&&(n=window.location.pathname+(window.location.search||"")+n,o.setAttribute("href",n))}"function"==typeof r&&r()},50)},DocmaWeb.prototype.addFilter=function(t,e){if(this.filterExists(t))throw new Error('Filter "'+t+'" already exists.');return dust.filters[t]=e,this},DocmaWeb.prototype.removeFilter=function(t){return delete dust.filters[t],this},DocmaWeb.prototype.filterExists=function(t){return"function"==typeof dust.filters[t]},DocmaWeb.prototype.createRoute=function(t,e){return new DocmaWeb.Route(this,t,e)},DocmaWeb.prototype.createRouteFromID=function(t){if("string"!=typeof t)return this.warn("Route ID is not a string: "+t),new DocmaWeb.Route(this,null);t=t.split(":");return new DocmaWeb.Route(this,t[1],t[0])},DocmaWeb.prototype.createRouteFromQuery=function(t){if(!t)return new DocmaWeb.Route(null);var e=t.split("&")[0].split("="),t=e[0].toLowerCase(),e=e[1];return new DocmaWeb.Route(this,e,t)},DocmaWeb.prototype._render=function(o,n){var r=this;dust.render(o,this,function(t,e){if(t)throw r.warn("Could not load Docma partial:",o),r.log("Compiled HTML: ",e),t;r._loadCompiledContent(e),"function"==typeof n&&n()})},DocmaWeb.prototype._triggerAfterRender=function(){this._trigger(DocmaWeb.Event.Render,[docma.currentRoute]),this._.initialLoad&&(this._trigger(DocmaWeb.Event.Ready),this._.initialLoad=!1)},DocmaWeb.prototype._render404=function(t,e){this._.currentRoute=this.createRoute(null);var o=this;this._render(this._.partials.notFound,function(){if(o._trigger(DocmaWeb.Event.Render,[null]),Utils.DOM.scrollTo(),"function"==typeof e)return e(404);throw new Error("Page or content not found for route: "+Utils._safeStringify(t))})},DocmaWeb.prototype.fetch=function(e,o){var n=new XMLHttpRequest,r=this;n.onreadystatechange=function(){if(4===n.readyState){var t=200===n.status?n.responseText:"";return r.log("XHR GET:",n.status,e),o(n.status,t)}},n.open("GET",e,!0),n.send()},DocmaWeb.prototype.render=function(o,n){if(!o||!o.exists())return this._render404(o,n);var r,i;o.isEqualTo(this.currentRoute)||(this._.currentRoute=o,r="function"==typeof n,i=this,o.type===DocmaWeb.Route.Type.API?this._render(this._.partials.api,function(){i._triggerAfterRender(),r&&n(200),i._fixAnchors(function(){Utils.DOM.scrollTo()})}):docma.fetch(o.contentPath,function(t,e){return 404===t?i._render404(o,n):void i._render(i._.partials.content,function(){i.loadContent(e),i._triggerAfterRender(),r&&n(t),i._fixAnchors(function(){Utils.DOM.scrollTo()})})}))},DocmaWeb.Utils=Utils;

var _arrRouteTypes;DocmaWeb.Route=function(t,e,o){if(this._docma=t,o&&!(_arrRouteTypes.indexOf(o)<0)){if(e)t.app.routing.caseSensitive||(e=e.toLowerCase());else{if(o!==DocmaWeb.Route.Type.API)return;e=t._.defaultApiName}e=Utils._find(t.routes,{type:o,name:e});e&&Utils._assign(this,e)}},DocmaWeb.Route.Type={API:"api",CONTENT:"content"},_arrRouteTypes=Utils._values(DocmaWeb.Route.Type),DocmaWeb.Route.SourceType={JS:"js",MD:"md",HTML:"html"},DocmaWeb.Route.prototype.exists=function(){return Boolean(this.id)},DocmaWeb.Route.prototype.isEqualTo=function(t){return!!(t&&t.exists()&&this.exists())&&t.path===this.path},DocmaWeb.Route.prototype.isCurrent=function(){return this.isEqualTo(this._docma.currentRoute)},DocmaWeb.Route.prototype.apply=function(t){return this.type===DocmaWeb.Route.Type.API?(this._docma._.documentation=this._docma.apis[this.name].documentation,this._docma._.symbols=this._docma.apis[this.name].symbols):(this._docma._.documentation=null,this._docma._.symbols=null),this._docma._trigger(DocmaWeb.Event.Route,[this.exists()?this:null]),this._docma.render(this,t),this},DocmaWeb.Route.prototype.toString=function(){var e=this.toJSON();return Object.keys(e).map(function(t){return t+": "+e[t]}).join(", ")},DocmaWeb.Route.prototype.toJSON=function(){return{id:this.id,contentPath:this.contentPath,path:this.path,type:this.type,sourceType:this.sourceType,name:this.name}};

dust.filters=dust.filters||{},dust.filters.$pt=function(e){return DocmaWeb.Utils.parseTicks(e)},dust.filters.$pnl=function(e){return DocmaWeb.Utils.parseNewLines(e,{keepIfSingle:!0})},dust.filters.$pl=function(e){return DocmaWeb.Utils.parseLinks(e)},dust.filters.$tl=function(e){return DocmaWeb.Utils.trimLeft(e)},dust.filters.$tnl=function(e){return DocmaWeb.Utils.trimNewLines(e)},dust.filters.$p=function(e){return DocmaWeb.Utils.parse(e,{keepIfSingle:!0})},dust.filters.$nt=function(e){return DocmaWeb.Utils.normalizeTabs(e)},dust.filters.$desc=function(e){return DocmaWeb.Utils.parse(e.classdesc||e.description||"")};var reJSValues=/true|false|null|undefined|Infinity|NaN|\d+|Number\.\w+|Math\.(PI|E|LN(2|10)|LOG(2|10)E|SQRT(1_)?2)|\[.*?]|\{.*?}|new [a-zA-Z]+.*|\/.+\/[gmiu]*|Date\.(now\(\)|UTC\(.*)|window|document/;function getFormatValue(e,t){if("string"!=typeof(t=arguments.length<2?DocmaWeb.Utils.notate(e,"meta.code.value")||e.defaultvalue:t))return String(t);var n=DocmaWeb.Utils.notate(e,"type.names")||[];return!/['"`]/.test(t.slice(0,1))&&0<=n.indexOf("String")&&(1===n.length||-1===reJSValues.indexOf(t))?'"'+t+'"':String(t)}dust.filters.$def=function(e){return e.hasOwnProperty("defaultvalue")?getFormatValue(e,e.defaultvalue):"undefined"},dust.filters.$val=function(e){return getFormatValue(e)},dust.filters.$id=function(e){return("string"==typeof e?e:(DocmaWeb.Utils.isConstructor(e)?"new-":"")+e.$longname).replace(/ /g,"-")};

DocmaWeb.version = "3.2.2";
return DocmaWeb;
})();
var docma = Object.freeze(new DocmaWeb({"version":"3.2.2","routes":[{"id":"api:","type":"api","name":"_def_","path":"api/","contentPath":null,"sourceType":"js"},{"id":"content:create-plugin","type":"content","name":"create-plugin","path":"create-plugin/","contentPath":"content/create-plugin.html","sourceType":"md"},{"id":"content:getting-started","type":"content","name":"getting-started","path":"getting-started/","contentPath":"content/getting-started.html","sourceType":"md"},{"id":"content:readme","type":"content","name":"readme","path":"readme/","contentPath":"content/readme.html","sourceType":"md"},{"id":"content:welcome","type":"content","name":"welcome","path":"welcome/","contentPath":"content/welcome.html","sourceType":"html"}],"apis":{"_def_":{"documentation":[{"comment":"/**\n * Config Module\n *\n * This module exports the config object.\n * It generates some dynamic parts but should be customizable.\n *\n * @todo  Make it more dynamic by loading a json file.\n *\n * @module @config\n * @since 1.0.0\n * @requires rc\n */","meta":{"filename":"config.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app","code":{}},"description":"Config Module\n\nThis module exports the config object.\nIt generates some dynamic parts but should be customizable.","todo":["Make it more dynamic by loading a json file."],"kind":"module","name":"@config","since":"1.0.0","requires":["module:rc"],"longname":"module:@config","$longname":"@config","$kind":"module","$docmaLink":"api/#@config"},{"comment":"/**\n * The base class to build database API's on\n */","meta":{"range":[139,449],"filename":"DatabaseAPI.js","lineno":11,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001408","name":"DatabaseAPI","type":"ClassDeclaration","paramnames":["database"]}},"name":"DatabaseAPI","longname":"module:@database~DatabaseAPI","kind":"class","classdesc":"The base class to build database API's on","scope":"inner","memberof":"module:@database","$longname":"@database~DatabaseAPI","$kind":"class","$docmaLink":"api/#@database~DatabaseAPI","$constructor":{"comment":"","meta":{"range":[160,350],"filename":"DatabaseAPI.js","lineno":12,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001411","name":"DatabaseAPI","type":"MethodDefinition","paramnames":["database"]},"vars":{"":null}},"undocumented":true,"name":"DatabaseAPI","longname":"module:@database~DatabaseAPI","kind":"class","memberof":"module:@database","scope":"inner","params":[],"$longname":"@database~DatabaseAPI","$kind":"constructor","$docmaLink":"api/#@database~DatabaseAPI"}},{"comment":"/**\n\t\t * Reference to the database class\n\t\t * @type {Database}\n\t\t */","meta":{"range":[257,281],"filename":"DatabaseAPI.js","lineno":17,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001417","name":"this.database","type":"Identifier","value":"database","paramnames":[]}},"description":"Reference to the database class","type":{"names":["Database"]},"name":"database","longname":"module:@database~DatabaseAPI#database","kind":"member","memberof":"module:@database~DatabaseAPI","scope":"instance","$longname":"@database~DatabaseAPI#database","$kind":"property","$docmaLink":"api/#@database~DatabaseAPI#database"},{"comment":"/**\n\t * Called when data has been loaded / connection to DB established.\n\t */","meta":{"range":[432,447],"filename":"DatabaseAPI.js","lineno":26,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001426","name":"DatabaseAPI#init","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Called when data has been loaded / connection to DB established.","name":"init","longname":"module:@database~DatabaseAPI#init","kind":"function","memberof":"module:@database~DatabaseAPI","scope":"instance","params":[],"async":true,"$longname":"@database~DatabaseAPI#init","$kind":"method","$docmaLink":"api/#@database~DatabaseAPI#init"},{"comment":"/**\n * Database API for the User model\n */","meta":{"range":[349,4806],"filename":"UsersAPI.js","lineno":17,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001472","name":"UsersAPI","type":"ClassDeclaration","paramnames":["database"]}},"name":"UsersAPI","longname":"module:@database~UsersAPI","kind":"class","classdesc":"Database API for the User model","scope":"inner","memberof":"module:@database","$longname":"@database~UsersAPI","$kind":"class","$docmaLink":"api/#@database~UsersAPI","$constructor":{"comment":"","meta":{"range":[387,654],"filename":"UsersAPI.js","lineno":18,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001476","name":"UsersAPI","type":"MethodDefinition","paramnames":["database"]},"vars":{"":null}},"undocumented":true,"name":"UsersAPI","longname":"module:@database~UsersAPI","kind":"class","memberof":"module:@database","scope":"inner","params":[],"$longname":"@database~UsersAPI","$kind":"constructor","$docmaLink":"api/#@database~UsersAPI"}},{"comment":"/**\n\t * Set a User in DB\n\t * @protected\n\t * @param  {string} username\n\t * @param  {User} user\n\t */","meta":{"range":[1932,2177],"filename":"UsersAPI.js","lineno":74,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001631","name":"UsersAPI#_setUser","type":"MethodDefinition","paramnames":["username","user"]},"vars":{"":null}},"description":"Set a User in DB","access":"protected","params":[{"type":{"names":["string"]},"name":"username"},{"type":{"names":["User"]},"name":"user"}],"name":"_setUser","longname":"module:@database~UsersAPI#_setUser","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#_setUser","$kind":"method","$docmaLink":"api/#@database~UsersAPI#_setUser"},{"comment":"/**\n\t * Set all users in DB\n\t * @protected\n\t * @param  {Object<string, User>} users\n\t */","meta":{"range":[1765,1829],"filename":"UsersAPI.js","lineno":64,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001617","name":"UsersAPI#_setUsers","type":"MethodDefinition","paramnames":["users"]},"vars":{"":null}},"description":"Set all users in DB","access":"protected","params":[{"type":{"names":["Object.<string, User>"]},"name":"users"}],"name":"_setUsers","longname":"module:@database~UsersAPI#_setUsers","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#_setUsers","$kind":"method","$docmaLink":"api/#@database~UsersAPI#_setUsers"},{"comment":"/**\n\t\t * The temporary password to use for the temporary user.\n\t\t * @protected\n\t\t * @type {string}\n\t\t */","meta":{"range":[540,650],"filename":"UsersAPI.js","lineno":26,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001486","name":"this._tempPassword","type":"BinaryExpression","value":"","paramnames":[]}},"description":"The temporary password to use for the temporary user.","access":"protected","type":{"names":["string"]},"name":"_tempPassword","longname":"module:@database~UsersAPI#_tempPassword","kind":"member","memberof":"module:@database~UsersAPI","scope":"instance","$longname":"@database~UsersAPI#_tempPassword","$kind":"property","$docmaLink":"api/#@database~UsersAPI#_tempPassword"},{"comment":"/**\n\t * Get all users from DB\n\t * @return {Object<string, User>} The users map\n\t */","meta":{"range":[1562,1672],"filename":"UsersAPI.js","lineno":54,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001596","name":"UsersAPI#all","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Get all users from DB","returns":[{"type":{"names":["Object.<string, User>"]},"description":"The users map"}],"name":"all","longname":"module:@database~UsersAPI#all","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","params":[],"async":true,"$longname":"@database~UsersAPI#all","$kind":"method","$docmaLink":"api/#@database~UsersAPI#all"},{"comment":"/**\n\t * Create a new user\n\t * @param  {string} username\n\t * @param  {User} userData\n\t */","meta":{"range":[2754,3055],"filename":"UsersAPI.js","lineno":112,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001704","name":"UsersAPI#create","type":"MethodDefinition","paramnames":["username","userData"]},"vars":{"":null}},"description":"Create a new user","params":[{"type":{"names":["string"]},"name":"username"},{"type":{"names":["User"]},"name":"userData"}],"name":"create","longname":"module:@database~UsersAPI#create","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#create","$kind":"method","$docmaLink":"api/#@database~UsersAPI#create"},{"comment":"/**\n\t * Delete a User\n\t * @param  {string} username\n\t */","meta":{"range":[3116,3359],"filename":"UsersAPI.js","lineno":127,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001743","name":"UsersAPI#delete","type":"MethodDefinition","paramnames":["username"]},"vars":{"":null}},"description":"Delete a User","params":[{"type":{"names":["string"]},"name":"username"}],"name":"delete","longname":"module:@database~UsersAPI#delete","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#delete","$kind":"method","$docmaLink":"api/#@database~UsersAPI#delete"},{"comment":"/**\n\t * Find User by username and remove sensitive information\n\t * @param  {string} username The username\n\t * @return {User | null}          \n\t */","meta":{"range":[2524,2661],"filename":"UsersAPI.js","lineno":99,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001681","name":"UsersAPI#find","type":"MethodDefinition","paramnames":["username"]},"vars":{"":null}},"description":"Find User by username and remove sensitive information","params":[{"type":{"names":["string"]},"description":"The username","name":"username"}],"returns":[{"type":{"names":["User","null"]}}],"name":"find","longname":"module:@database~UsersAPI#find","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#find","$kind":"method","$docmaLink":"api/#@database~UsersAPI#find"},{"comment":"/**\n\t * Find User by username\n\t * @param  {string} username The username\n\t * @return {User | null}          \n\t */","meta":{"range":[2295,2373],"filename":"UsersAPI.js","lineno":90,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001666","name":"UsersAPI#findUnsafe","type":"MethodDefinition","paramnames":["username"]},"vars":{"":null}},"description":"Find User by username","params":[{"type":{"names":["string"]},"description":"The username","name":"username"}],"returns":[{"type":{"names":["User","null"]}}],"name":"findUnsafe","longname":"module:@database~UsersAPI#findUnsafe","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#findUnsafe","$kind":"method","$docmaLink":"api/#@database~UsersAPI#findUnsafe"},{"comment":"/**\n\t * Called when data has been loaded / connection to DB established.\n\t */","meta":{"range":[736,1474],"filename":"UsersAPI.js","lineno":32,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001517","name":"UsersAPI#init","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Called when data has been loaded / connection to DB established.","name":"init","longname":"module:@database~UsersAPI#init","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","params":[],"async":true,"$longname":"@database~UsersAPI#init","$kind":"method","$docmaLink":"api/#@database~UsersAPI#init"},{"comment":"/**\n\t * Update the user meta in DB (display name and avatar url).\n\t *\n\t * This method does NOT allow changing the password.\n\t * Only do this with `usersApi.users.updatePassword(<username>, <unhashed-password>)`.\n\t *\n\t * @param  {string} username Username\n\t * @param  {User} user The user object\n\t * @param  {boolean} shouldCreate Should the user be created if he's not found\n\t * @return {void}\n\t */","meta":{"range":[3762,4323],"filename":"UsersAPI.js","lineno":149,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001784","name":"UsersAPI#update","type":"MethodDefinition","paramnames":["username","userData"]},"vars":{"":null}},"description":"Update the user meta in DB (display name and avatar url).\n\nThis method does NOT allow changing the password.\nOnly do this with `usersApi.users.updatePassword(<username>, <unhashed-password>)`.","params":[{"type":{"names":["string"]},"description":"Username","name":"username"},{"type":{"names":["User"]},"description":"The user object","name":"user"},{"type":{"names":["boolean"]},"description":"Should the user be created if he's not found","name":"shouldCreate"}],"returns":[{"type":{"names":["void"]}}],"name":"update","longname":"module:@database~UsersAPI#update","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#update","$kind":"method","$docmaLink":"api/#@database~UsersAPI#update"},{"comment":"/**\n\t * Hash a users password and save it to DB.\n\t * \n\t * @param  {string} username\n\t * @param  {string} password\n\t */","meta":{"range":[4446,4804],"filename":"UsersAPI.js","lineno":170,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database/api","code":{"id":"astnode100001829","name":"UsersAPI#updatePassword","type":"MethodDefinition","paramnames":["username","password"]},"vars":{"":null}},"description":"Hash a users password and save it to DB.","params":[{"type":{"names":["string"]},"name":"username"},{"type":{"names":["string"]},"name":"password"}],"name":"updatePassword","longname":"module:@database~UsersAPI#updatePassword","kind":"function","memberof":"module:@database~UsersAPI","scope":"instance","async":true,"$longname":"@database~UsersAPI#updatePassword","$kind":"method","$docmaLink":"api/#@database~UsersAPI#updatePassword"},{"comment":"/**\n * Logging Helpers\n * @module @helpers/log\n * @requires chalk, qrcode-terminal\n */","meta":{"filename":"logger.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{}},"description":"Logging Helpers","kind":"module","name":"@helpers/log","requires":["module:chalk,"],"longname":"module:@helpers/log","$longname":"@helpers/log","$kind":"module","$docmaLink":"api/#@helpers/log","$members":[{"comment":"/**\n * Create a log function with a LogLevel label attached.\n * @param {LogLevel} levelOfLogger\n * @returns Function\n */","meta":{"range":[1628,1873],"filename":"logger.js","lineno":89,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002612","name":"createLogFunction","type":"FunctionDeclaration","paramnames":["levelOfLogger"]},"vars":{"label":"module:@helpers/log~createLogFunction~label","":null}},"description":"Create a log function with a LogLevel label attached.","params":[{"type":{"names":["LogLevel"]},"name":"levelOfLogger"}],"returns":[{"description":"Function"}],"name":"createLogFunction","longname":"module:@helpers/log~createLogFunction","kind":"function","scope":"inner","memberof":"module:@helpers/log","$longname":"@helpers/log~createLogFunction","$kind":"method","$docmaLink":"api/#@helpers/log~createLogFunction"},{"comment":"/**\n * Create a logger with text label attached.\n * @param {string} label\n * @param {string} color\n */","meta":{"range":[2547,3188],"filename":"logger.js","lineno":126,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002749","name":"module.exports.createLogger","type":"FunctionExpression","value":"createLogger","paramnames":["label","color"]},"vars":{"colorFn":"module:@helpers/log.createLogger~colorFn","label":"module:@helpers/log~label","":null}},"description":"Create a logger with text label attached.","params":[{"type":{"names":["string"]},"name":"label"},{"type":{"names":["string"]},"name":"color"}],"name":"createLogger","longname":"module:@helpers/log.createLogger","kind":"function","memberof":"module:@helpers/log","scope":"static","$longname":"@helpers/log.createLogger","$kind":"method","$docmaLink":"api/#@helpers/log.createLogger"},{"comment":"/**\n * The global log level.\n */","meta":{"range":[1912,1936],"filename":"logger.js","lineno":101,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002647","name":"logLevel","type":"MemberExpression","value":"LogLevel.http"}},"description":"The global log level.","name":"logLevel","longname":"module:@helpers/log~logLevel","kind":"member","scope":"inner","memberof":"module:@helpers/log","params":[],"$longname":"@helpers/log~logLevel","$kind":"property","$docmaLink":"api/#@helpers/log~logLevel"},{"comment":"/**\n * Return a LogLevel from string.\n * @param {string} level \n * @returns LogLevel | null\n */","meta":{"range":[797,896],"filename":"logger.js","lineno":45,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002498","name":"module.exports.logLevelFromString","type":"FunctionExpression","value":"logLevelFromString","paramnames":["level"]}},"description":"Return a LogLevel from string.","params":[{"type":{"names":["string"]},"name":"level"}],"returns":[{"description":"LogLevel | null"}],"name":"logLevelFromString","longname":"module:@helpers/log.logLevelFromString","kind":"function","memberof":"module:@helpers/log","scope":"static","$longname":"@helpers/log.logLevelFromString","$kind":"method","$docmaLink":"api/#@helpers/log.logLevelFromString"},{"comment":"/**\n * Convert a LogLevel to string.\n * @param {LogLevel} logLevel \n * @returns string | null\n */","meta":{"range":[997,1504],"filename":"logger.js","lineno":54,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002513","name":"module.exports.logLevelToString","type":"FunctionExpression","value":"logLevelToString","paramnames":["logLevel"]},"vars":{"text":"module:@helpers/log~text"}},"description":"Convert a LogLevel to string.","params":[{"type":{"names":["LogLevel"]},"name":"logLevel"}],"returns":[{"description":"string | null"}],"name":"logLevelToString","longname":"module:@helpers/log.logLevelToString","kind":"function","memberof":"module:@helpers/log","scope":"static","$longname":"@helpers/log.logLevelToString","$kind":"method","$docmaLink":"api/#@helpers/log.logLevelToString"},{"comment":"/**\n * Ouput the styled ready message including a QR code that leads to the base url.\n *\n * @param  {String} url - The url to encode and log.\n * @param  {String} authUrl - The auth url to display.\n */","meta":{"range":[3746,4228],"filename":"logger.js","lineno":175,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002897","name":"module.exports.logReadyMessage","type":"FunctionExpression","value":"logReadyMessage","paramnames":["url","authUrl"]},"vars":{"":null}},"description":"Ouput the styled ready message including a QR code that leads to the base url.","params":[{"type":{"names":["String"]},"description":"The url to encode and log.","name":"url"},{"type":{"names":["String"]},"description":"The auth url to display.","name":"authUrl"}],"name":"logReadyMessage","longname":"module:@helpers/log.logReadyMessage","kind":"function","memberof":"module:@helpers/log","scope":"static","$longname":"@helpers/log.logReadyMessage","$kind":"method","$docmaLink":"api/#@helpers/log.logReadyMessage"},{"comment":"/**\n * Set the global log level.\n * @param {LogLevel} level \n */","meta":{"range":[3256,3542],"filename":"logger.js","lineno":160,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002870","name":"module.exports.setLogLevel","type":"FunctionExpression","value":"setLogLevel","paramnames":["levelString"]},"vars":{"logLevel":"module:@helpers/log~logLevel.logLevel"}},"description":"Set the global log level.","params":[{"type":{"names":["LogLevel"]},"name":"level"}],"name":"setLogLevel","longname":"module:@helpers/log.setLogLevel","kind":"function","memberof":"module:@helpers/log","scope":"static","$longname":"@helpers/log.setLogLevel","$kind":"method","$docmaLink":"api/#@helpers/log.setLogLevel"}]},{"comment":"/**\n * Function to generate a new UUID v4.\n * @module @helpers/uuid\n */","meta":{"filename":"uuid.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{}},"description":"Function to generate a new UUID v4.","kind":"module","name":"@helpers/uuid","longname":"module:@helpers/uuid","$longname":"@helpers/uuid","$kind":"module","$docmaLink":"api/#@helpers/uuid"},{"comment":"/**\n * Function to generate a new UUID v4.\n * @returns {string}\n */","meta":{"range":[180,201],"filename":"uuid.js","lineno":12,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100003381","name":"module.exports","type":"Identifier","value":"uuid","paramnames":[]}},"description":"Function to generate a new UUID v4.","returns":[{"type":{"names":["string"]}}],"name":"module:@helpers/uuid","longname":"module:@helpers/uuid","kind":"member","$longname":"@helpers/uuid","$kind":"property","$docmaLink":"api/#@helpers/uuid"},{"comment":"/**\n * ### The Socket Module\n * The socket module handles most communications with clients.\n * Pure HTTP is actually used very rarely within Mission Control,\n * even though the interfaces for it are actually there.\n * <br>\n * Sockets have the advantage that they're real-time, which is very useful for home automation.\n * It also acts as a sort of networked message bus by broadcasting events.\n *\n * @module @socket\n * @requires socket.io\n * @requires jsonwebtoken\n */","meta":{"filename":"index.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/socket","code":{}},"description":"### The Socket Module\nThe socket module handles most communications with clients.\nPure HTTP is actually used very rarely within Mission Control,\neven though the interfaces for it are actually there.\n<br>\nSockets have the advantage that they're real-time, which is very useful for home automation.\nIt also acts as a sort of networked message bus by broadcasting events.","kind":"module","name":"@socket","requires":["module:socket.io","module:jsonwebtoken"],"longname":"module:@socket","$longname":"@socket","$kind":"module","$docmaLink":"api/#@socket"},{"comment":"/**\n * Initialize the socket module.\n * @param  {object}   dependencies\n * @param  {Sync}     dependencies.sync     - Sync module\n * @param  {Database} dependencies.database - Database module\n * @param  {HTTP}     dependencies.http     - HTTP module\n * @param  {Auth}     dependencies.auth     - Auth module\n */","meta":{"range":[1096,3613],"filename":"index.js","lineno":32,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010500","name":"module.exports","type":"FunctionExpression","value":"socket","paramnames":[""]},"vars":{"logger":"module:@socket~logger","server":"module:@socket~server","":null}},"description":"Initialize the socket module.","params":[{"type":{"names":["object"]},"name":"dependencies"},{"type":{"names":["Sync"]},"description":"Sync module","name":"dependencies.sync"},{"type":{"names":["Database"]},"description":"Database module","name":"dependencies.database"},{"type":{"names":["HTTP"]},"description":"HTTP module","name":"dependencies.http"},{"type":{"names":["Auth"]},"description":"Auth module","name":"dependencies.auth"}],"name":"module:@socket","longname":"module:@socket","kind":"function","$longname":"@socket","$kind":"method","$docmaLink":"api/#@socket"},{"comment":"/**\n * Action handler\n * @callback ActionHandler\n * @param   {object}        data    - The request data\n * @param   {ActionContext} context - Action context with request helpers\n * @returns {object}                - The data to return\n */","meta":{"filename":"Service.js","lineno":12,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{}},"description":"Action handler","kind":"typedef","name":"ActionHandler","type":{"names":["function"]},"params":[{"type":{"names":["object"]},"description":"The request data","name":"data"},{"type":{"names":["ActionContext"]},"description":"Action context with request helpers","name":"context"}],"returns":[{"type":{"names":["object"]},"description":"- The data to return"}],"longname":"ActionHandler","scope":"global","$longname":"ActionHandler","$kind":"callback","$docmaLink":"api/#ActionHandler"},{"comment":"/** Admin user can basically do anything */","meta":{"range":[1505,1519],"filename":"User.js","lineno":67,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006135","name":"admin","type":"Literal","value":"admin"}},"description":"Admin user can basically do anything","name":"admin","longname":"admin","kind":"member","scope":"global","$longname":"admin","$kind":"property","$docmaLink":"api/#admin"},{"comment":"/**\n * Permission triple\n *\n * 0: Permissions.CRUD\n * 1: Resource (string)\n * 2: Permissions.Scope\n * \n * @typedef {PermissionTriple} Array.<Permissions.CRUD | String | Permissions.Scope>\n */","meta":{"filename":"Service.js","lineno":34,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{}},"description":"Permission triple\n\n0: Permissions.CRUD\n1: Resource (string)\n2: Permissions.Scope","kind":"typedef","name":"CRUD","type":{"names":["PermissionTriple"]},"memberof":"Array.<Permissions","longname":"Array.<Permissions.CRUD","scope":"static","$longname":"Array.<Permissions.CRUD","$kind":"typedef","$docmaLink":"api/#Array.<Permissions.CRUD"},{"comment":"/**\n\t\t\t\t * AuthError class\n\t\t\t\t * @type {AuthError}\n\t\t\t\t */","meta":{"range":[7865,7874],"filename":"Service.js","lineno":302,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011481","name":"AuthError","type":"Identifier","value":"AuthError"}},"description":"AuthError class","type":{"names":["AuthError"]},"name":"AuthError","longname":"AuthError","kind":"member","scope":"global","$longname":"AuthError","$kind":"property","$docmaLink":"api/#AuthError"},{"comment":"/**\n\t\t * Build an action by adding handlers or permissions to verify.\n\t\t *\n\t\t * Easier to use api with lots of helper functions\n\t\t * \n\t\t * @typedef {ActionBuilder}\n\t\t */","meta":{"range":[4249,6616],"filename":"Service.js","lineno":182,"columnno":6,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011232","name":"builder","type":"ObjectExpression","value":"{\"handler\":\"\",\"validate\":\"\",\"requirePermission\":\"\",\"requirePermissions\":\"\",\"evaluatePermissions\":\"\"}"}},"description":"Build an action by adding handlers or permissions to verify.\n\nEasier to use api with lots of helper functions","kind":"typedef","type":{"names":["ActionBuilder"]},"name":"builder","longname":"<anonymous>~builder","memberof":"<anonymous>","scope":"inner","params":[],"$longname":"builder","$kind":"typedef","$docmaLink":"api/#builder","$members":[{"comment":"/**\n\t\t\t * Create page with raw html content\n\t\t\t * @param  {String} htmlFilePath The path to the .html file\n\t\t\t * @return {PageBuilder} Builder for chaining\n\t\t\t */","meta":{"range":[4391,4649],"filename":"DynamicDashboard.js","lineno":196,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003652","name":"custom","type":"ArrowFunctionExpression"},"vars":{"absolutePath":"<anonymous>~builder.custom~absolutePath","this.pages[undefined].content":"<anonymous>~builder#pages[undefined].content"}},"description":"Create page with raw html content","params":[{"type":{"names":["String"]},"description":"The path to the .html file","name":"htmlFilePath"}],"returns":[{"type":{"names":["PageBuilder"]},"description":"Builder for chaining"}],"name":"custom","longname":"<anonymous>~builder.custom","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.custom","$kind":"method","$docmaLink":"api/#builder.custom"},{"comment":"/**\n\t\t\t * Create component with raw html content\n\t\t\t * @param  {String} htmlFilePath The path to the .html file\n\t\t\t * @return {ComponentBuilder} Builder for chaining\n\t\t\t */","meta":{"range":[3088,3352],"filename":"DynamicDashboard.js","lineno":136,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003566","name":"custom","type":"ArrowFunctionExpression"},"vars":{"absolutePath":"<anonymous>~builder.custom~absolutePath","this.components[undefined].content":"<anonymous>~builder#components[undefined].content"}},"description":"Create component with raw html content","params":[{"type":{"names":["String"]},"description":"The path to the .html file","name":"htmlFilePath"}],"returns":[{"type":{"names":["ComponentBuilder"]},"description":"Builder for chaining"}],"name":"custom","longname":"<anonymous>~builder.custom","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.custom","$kind":"method","$docmaLink":"api/#builder.custom"},{"comment":"/**\n\t\t\t * Set a required permission to run the action\n\t\t\t * @param  {PermissionEvaluationHandler} permissionHandler - The callback to evaluate permissions with\n\t\t\t * @return {ActionBuilder}                                 - Builder for chaining\n\t\t\t */","meta":{"range":[6498,6612],"filename":"Service.js","lineno":251,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011367","name":"evaluatePermissions","type":"ArrowFunctionExpression"}},"description":"Set a required permission to run the action","params":[{"type":{"names":["PermissionEvaluationHandler"]},"description":"The callback to evaluate permissions with","name":"permissionHandler"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"- Builder for chaining"}],"name":"evaluatePermissions","longname":"<anonymous>~builder.evaluatePermissions","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.evaluatePermissions","$kind":"method","$docmaLink":"api/#builder.evaluatePermissions"},{"comment":"/**\n\t\t\t * Set the action handler\n\t\t\t * @param  {ActionHandler} handler - The function to call\n\t\t\t * @return {ActionBuilder}         - Builder for chaining\n\t\t\t */","meta":{"range":[4429,4644],"filename":"Service.js","lineno":188,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011235","name":"handler","type":"ArrowFunctionExpression"},"vars":{"this.handlers[undefined].handler":"<anonymous>~builder#handlers[undefined].handler"}},"description":"Set the action handler","params":[{"type":{"names":["ActionHandler"]},"description":"The function to call","name":"handler"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"- Builder for chaining"}],"name":"handler","longname":"<anonymous>~builder.handler","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.handler","$kind":"method","$docmaLink":"api/#builder.handler"},{"comment":"/**\n\t\t\t * Set a required permission to run the action\n\t\t\t * @param  {Permissions.CRUD}   crud      - The crud value\n\t\t\t * @param  {string}             resource  - The resource to check for\n\t\t\t * @param  {Permissions.Scope}  scope     - The scope to check\n\t\t\t * @return {ActionBuilder}                - Builder for chaining\n\t\t\t */","meta":{"range":[5443,5719],"filename":"Service.js","lineno":221,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011296","name":"requirePermission","type":"ArrowFunctionExpression"}},"description":"Set a required permission to run the action","params":[{"type":{"names":["Permissions.CRUD"]},"description":"The crud value","name":"crud"},{"type":{"names":["string"]},"description":"The resource to check for","name":"resource"},{"type":{"names":["Permissions.Scope"]},"description":"The scope to check","name":"scope"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"- Builder for chaining"}],"name":"requirePermission","longname":"<anonymous>~builder.requirePermission","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.requirePermission","$kind":"method","$docmaLink":"api/#builder.requirePermission"},{"comment":"/**\n\t\t\t * Set a required permission to run the action\n\t\t\t * @param  {PermissionTriple} permission - Permission triple\n\t\t\t * @return {ActionBuilder}               - Builder for chaining\n\t\t\t */","meta":{"range":[5920,6237],"filename":"Service.js","lineno":236,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011335","name":"requirePermissions","type":"ArrowFunctionExpression"},"vars":{"":null}},"description":"Set a required permission to run the action","params":[{"type":{"names":["PermissionTriple"]},"description":"Permission triple","name":"permission"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"- Builder for chaining"}],"name":"requirePermissions","longname":"<anonymous>~builder.requirePermissions","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.requirePermissions","$kind":"method","$docmaLink":"api/#builder.requirePermissions"},{"comment":"/**\n\t\t\t * Set the action data schema\n\t\t\t * @param  {Joi~Schema|JoiBuilderFunction} objectOrFn - The Joi schema or function that returns Joi object when called\n\t\t\t * @return {ActionBuilder}                            - Builder for chaining\n\t\t\t */","meta":{"range":[4899,5104],"filename":"Service.js","lineno":203,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011264","name":"validate","type":"ArrowFunctionExpression"},"vars":{"schema":"<anonymous>~builder.validate~schema","this.handlers[undefined].schema":"<anonymous>~builder#handlers[undefined].schema"}},"description":"Set the action data schema","params":[{"type":{"names":["Joi~Schema","JoiBuilderFunction"]},"description":"The Joi schema or function that returns Joi object when called","name":"objectOrFn"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"- Builder for chaining"}],"name":"validate","longname":"<anonymous>~builder.validate","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.validate","$kind":"method","$docmaLink":"api/#builder.validate"},{"comment":"/**\n\t\t\t * Create page with Vue component\n\t\t\t * @param  {String} vueFilePath The path to the .vue component file\n\t\t\t * @return {PageBuilder} Builder for chaining\n\t\t\t */","meta":{"range":[3850,4219],"filename":"DynamicDashboard.js","lineno":174,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003644","name":"vue","type":"ArrowFunctionExpression"}},"description":"Create page with Vue component","params":[{"type":{"names":["String"]},"description":"The path to the .vue component file","name":"vueFilePath"}],"returns":[{"type":{"names":["PageBuilder"]},"description":"Builder for chaining"}],"name":"vue","longname":"<anonymous>~builder.vue","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.vue","$kind":"method","$docmaLink":"api/#builder.vue"},{"comment":"/**\n\t\t\t * Create new Vue component\n\t\t\t * @param  {String} vueFilePath The path to the .vue component file\n\t\t\t * @return {ComponentBuilder} Builder for chaining\n\t\t\t */","meta":{"range":[2530,2906],"filename":"DynamicDashboard.js","lineno":114,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003558","name":"vue","type":"ArrowFunctionExpression"}},"description":"Create new Vue component","params":[{"type":{"names":["String"]},"description":"The path to the .vue component file","name":"vueFilePath"}],"returns":[{"type":{"names":["ComponentBuilder"]},"description":"Builder for chaining"}],"name":"vue","longname":"<anonymous>~builder.vue","kind":"function","memberof":"<anonymous>~builder","scope":"static","$longname":"builder.vue","$kind":"method","$docmaLink":"api/#builder.vue"}]},{"comment":"/**\n * Factory function to create error response composing functions\n * @param  {Permissions} permissions - Permissions object\n * @return {ErrorResponse~compose}   - The response compose function\n */","meta":{"range":[628,1613],"filename":"error-response-factory.js","lineno":19,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002324","name":"buildErrorResponseComposer","type":"FunctionDeclaration","paramnames":["permissions"]},"vars":{"":null}},"description":"Factory function to create error response composing functions","params":[{"type":{"names":["Permissions"]},"description":"Permissions object","name":"permissions"}],"returns":[{"type":{"names":["ErrorResponse~compose"]},"description":"- The response compose function"}],"name":"buildErrorResponseComposer","longname":"buildErrorResponseComposer","kind":"function","scope":"global","$longname":"buildErrorResponseComposer","$kind":"method","$docmaLink":"api/#buildErrorResponseComposer"},{"comment":"/**\n * Compare a password to a hash to see if they match.\n * @async\n * @param  {string} password The unhashed password to check.\n * @param  {string} hash     The hashed password to check against.\n * @return {bool} True if the passwords do match.\n */","meta":{"range":[285,498],"filename":"crypto.js","lineno":10,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002251","name":"module.exports.comparePassword","type":"FunctionExpression","value":"comparePassword","paramnames":["password","hash"]},"vars":{"match":"comparePassword~match"}},"description":"Compare a password to a hash to see if they match.","async":true,"params":[{"type":{"names":["string"]},"description":"The unhashed password to check.","name":"password"},{"type":{"names":["string"]},"description":"The hashed password to check against.","name":"hash"}],"returns":[{"type":{"names":["bool"]},"description":"True if the passwords do match."}],"name":"comparePassword","longname":"comparePassword","kind":"function","scope":"global","$longname":"comparePassword","$kind":"method","$docmaLink":"api/#comparePassword"},{"comment":"/**\n\t\t * Create the api object for a given CRUD type\n\t\t *\n\t\t * This creates an API in the following format:\n\t\t * can('admin').update('user', 'any') // granted: true, attributes, filter\n\t\t * can('user').update('user', 'any') // granted: false, ...\n\t\t * can('user').update('user', 'own') // granted: true, ...\n\t\t */","meta":{"range":[989,1127],"filename":"permissions.js","lineno":40,"columnno":8,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000739","name":"composeCrudHandler","type":"ArrowFunctionExpression"},"vars":{"":null}},"description":"Create the api object for a given CRUD type\n\nThis creates an API in the following format:\ncan('admin').update('user', 'any') // granted: true, attributes, filter\ncan('user').update('user', 'any') // granted: false, ...\ncan('user').update('user', 'own') // granted: true, ...","name":"composeCrudHandler","longname":"<anonymous>~composeCrudHandler","kind":"function","memberof":"<anonymous>","scope":"inner","params":[],"$longname":"composeCrudHandler","$kind":"method","$docmaLink":"api/#composeCrudHandler"},{"comment":"/**\n * Connection States\n * @enum {string}\n */","meta":{"range":[361,465],"filename":"index.js","lineno":18,"columnno":6,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/homebridge","code":{"id":"astnode100007572","name":"ConnectionStatus","type":"ObjectExpression","value":"{\"connected\":\"connected\",\"disconnected\":\"disconnected\",\"connecting\":\"connecting\"}"}},"description":"Connection States","kind":"constant","isEnum":true,"type":{"names":["string"]},"name":"ConnectionStatus","longname":"ConnectionStatus","scope":"global","params":[],"properties":[{"comment":"","meta":{"range":[383,405],"filename":"index.js","lineno":19,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/homebridge","code":{"id":"astnode100007575","name":"connected","type":"Literal","value":"connected"}},"name":"connected","longname":"ConnectionStatus.connected","kind":"member","memberof":"ConnectionStatus","scope":"static","type":{"names":["string"]},"defaultvalue":"connected"},{"comment":"","meta":{"range":[408,436],"filename":"index.js","lineno":20,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/homebridge","code":{"id":"astnode100007577","name":"disconnected","type":"Literal","value":"disconnected"}},"name":"disconnected","longname":"ConnectionStatus.disconnected","kind":"member","memberof":"ConnectionStatus","scope":"static","type":{"names":["string"]},"defaultvalue":"disconnected"},{"comment":"","meta":{"range":[439,463],"filename":"index.js","lineno":21,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/homebridge","code":{"id":"astnode100007579","name":"connecting","type":"Literal","value":"connecting"}},"name":"connecting","longname":"ConnectionStatus.connecting","kind":"member","memberof":"ConnectionStatus","scope":"static","type":{"names":["string"]},"defaultvalue":"connecting"}],"$longname":"ConnectionStatus","$kind":"enum","$docmaLink":"api/#ConnectionStatus"},{"comment":"/**\n\t\t\t\t * Express handler to logout the user\n\t\t\t\t * @param  {express.Request} req\n\t\t\t\t * @param  {express.Response} res\n\t\t\t\t */","meta":{"range":[2822,2885],"filename":"index.js","lineno":118,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000522","name":"logout","type":"FunctionExpression"}},"description":"Express handler to logout the user","params":[{"type":{"names":["express.Request"]},"name":"req"},{"type":{"names":["express.Response"]},"name":"res"}],"name":"logout","longname":"controllers.login.logout","kind":"function","memberof":"controllers.login","scope":"static","$longname":"controllers.login.logout","$kind":"method","$docmaLink":"api/#controllers.login.logout"},{"comment":"/**\n\t\t\t\t * Compose the login page HTML.\n\t\t\t\t * @return {string} The login page HTML.\n\t\t\t\t */","meta":{"range":[1669,2078],"filename":"index.js","lineno":71,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000367","name":"serveLoginPage","type":"FunctionExpression"},"vars":{"errors":"controllers.login.serveLoginPage~errors","content":"controllers.login.serveLoginPage~content"}},"description":"Compose the login page HTML.","returns":[{"type":{"names":["string"]},"description":"The login page HTML."}],"name":"serveLoginPage","longname":"controllers.login.serveLoginPage","kind":"function","memberof":"controllers.login","scope":"static","$longname":"controllers.login.serveLoginPage","$kind":"method","$docmaLink":"api/#controllers.login.serveLoginPage"},{"comment":"/**\n * The Database object\n * Currently the \"Database\" is pretty much a JSON key value store.\n * However this will be updated when switching to SQLite\n * https://github.com/Capevace/mission-control/issues/17\n * @public\n * @namespace database\n */","meta":{"filename":"Database.js","lineno":7,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/database","code":{}},"description":"The Database object\nCurrently the \"Database\" is pretty much a JSON key value store.\nHowever this will be updated when switching to SQLite\nhttps://github.com/Capevace/mission-control/issues/17","access":"public","kind":"namespace","name":"database","longname":"database","scope":"global","$longname":"database","$kind":"namespace","$docmaLink":"api/#database"},{"comment":"","meta":{"range":[422,895],"filename":"Database.js","lineno":16,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001914","name":"Database","type":"MethodDefinition","paramnames":["databasePath"]},"vars":{"":null}},"undocumented":true,"name":"Database","longname":"Database","kind":"class","scope":"global","params":[],"$longname":"Database","$kind":"constructor","$docmaLink":"api/#Database"},{"comment":"/**\n\t\t\t\t * Database module\n\t\t\t\t * @type {Database}\n\t\t\t\t */","meta":{"range":[8143,8179],"filename":"Service.js","lineno":320,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011491","name":"database","type":"MemberExpression","value":"this.dependencies.database"}},"description":"Database module","type":{"names":["Database"]},"name":"database","longname":"database","kind":"member","scope":"global","$longname":"database","$kind":"property","$docmaLink":"api/#database"},{"comment":"/**\n\t * Save the data to disk.\n\t * TODO: This is bad but will be fixed with the switch to SQLite,\n\t * so it's a very temporary solution.\n\t * @protected\n\t */","meta":{"range":[1230,1408],"filename":"Database.js","lineno":62,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001977","name":"Database#_saveData","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Save the data to disk.\nTODO: This is bad but will be fixed with the switch to SQLite,\nso it's a very temporary solution.","access":"protected","name":"_saveData","longname":"Database#_saveData","kind":"function","memberof":"Database","scope":"instance","params":[],"$longname":"Database#_saveData","$kind":"method","$docmaLink":"api/#Database#_saveData"},{"comment":"/**\n\t\t * The available Database API's for safe db usage\n\t\t * @typedef {DatabaseAPIList}\n\t\t */","meta":{"range":[770,872],"filename":"Database.js","lineno":34,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001932","name":"this.api","type":"ObjectExpression","value":"{\"users\":\"\"}","paramnames":[]}},"description":"The available Database API's for safe db usage","kind":"typedef","type":{"names":["DatabaseAPIList"]},"name":"api","longname":"Database#api","memberof":"Database","scope":"instance","$longname":"Database#api","$kind":"typedef","$docmaLink":"api/#Database#api","$members":[{"comment":"/**\n\t\t\t * The users API\n\t\t\t * @type {UsersAPI}\n\t\t\t */","meta":{"range":[843,868],"filename":"Database.js","lineno":39,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001937","name":"users","type":"NewExpression","value":""}},"description":"The users API","type":{"names":["UsersAPI"]},"name":"users","longname":"Database#api.users","kind":"member","memberof":"Database#api","scope":"static","$longname":"Database#api.users","$kind":"property","$docmaLink":"api/#Database#api.users"}]},{"comment":"/**\n\t\t * The databases data. This will change and is temporary\n\t\t * @protected\n\t\t * @type {object}\n\t\t */","meta":{"range":[559,573],"filename":"Database.js","lineno":22,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001920","name":"this.data","type":"ObjectExpression","value":"{}","paramnames":[]}},"description":"The databases data. This will change and is temporary","access":"protected","type":{"names":["object"]},"name":"data","longname":"Database#data","kind":"member","memberof":"Database","scope":"instance","$longname":"Database#data","$kind":"property","$docmaLink":"api/#Database#data"},{"comment":"/**\n\t * Retrieve data from a database with a given key.\n\t *\n\t * @todo  multi-level getting\n\t *\n\t * @param  {string} key                   - The key to retrieve from the database. (1-level deep)\n\t * @param  {any}    [defaultValue = null] - The default value if no value was found.\n\t * @return {any}                          - The data from the database.\n\t */","meta":{"range":[2197,2272],"filename":"Database.js","lineno":98,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100002029","name":"Database#get","type":"MethodDefinition","paramnames":["key","defaultValue"]},"vars":{"":null}},"description":"Retrieve data from a database with a given key.","todo":["multi-level getting"],"params":[{"type":{"names":["string"]},"description":"The key to retrieve from the database. (1-level deep)","name":"key"},{"type":{"names":["any"]},"optional":true,"defaultvalue":null,"description":"The default value if no value was found.","name":"defaultValue"}],"returns":[{"type":{"names":["any"]},"description":"- The data from the database."}],"name":"get","longname":"Database#get","kind":"function","memberof":"Database","scope":"instance","$longname":"Database#get","$kind":"method","$docmaLink":"api/#Database#get"},{"comment":"/**\n\t * Init connection to database etc.\n\t */","meta":{"range":[945,1069],"filename":"Database.js","lineno":48,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001945","name":"Database#init","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Init connection to database etc.","name":"init","longname":"Database#init","kind":"function","memberof":"Database","scope":"instance","params":[],"async":true,"$longname":"Database#init","$kind":"method","$docmaLink":"api/#Database#init"},{"comment":"/**\n\t\t * The path to the database file\n\t\t * @type {string}\n\t\t */","meta":{"range":[645,669],"filename":"Database.js","lineno":28,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100001926","name":"this.path","type":"Identifier","value":"databasePath","paramnames":[]}},"description":"The path to the database file","type":{"names":["string"]},"name":"path","longname":"Database#path","kind":"member","memberof":"Database","scope":"instance","$longname":"Database#path","$kind":"property","$docmaLink":"api/#Database#path"},{"comment":"/**\n\t * Set a value for a key in the database.\n\t *\n\t * The function synchronously saves the new data to disk as well.\n\t * Quite the performance bottleneck for now and DEFINIETLY not safe at all\n\t * like wtf. But works for now.\n\t * \n\t * @param {string} key   - The key to set\n\t * @param {any}    value - The value to set\n\t */","meta":{"range":[1737,1835],"filename":"Database.js","lineno":82,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/database","code":{"id":"astnode100002010","name":"Database#set","type":"MethodDefinition","paramnames":["key","value"]},"vars":{"":null}},"description":"Set a value for a key in the database.\n\nThe function synchronously saves the new data to disk as well.\nQuite the performance bottleneck for now and DEFINIETLY not safe at all\nlike wtf. But works for now.","params":[{"type":{"names":["string"]},"description":"The key to set","name":"key"},{"type":{"names":["any"]},"description":"The value to set","name":"value"}],"name":"set","longname":"Database#set","kind":"function","memberof":"Database","scope":"instance","$longname":"Database#set","$kind":"method","$docmaLink":"api/#Database#set"},{"comment":"/**\n * DynamicDashboard class\n * \n * @class\n * @example\n * \tconst dashboard = new DynamicDashboard({\n * \t\tsync\n * \t});\n * \n * \tdashboard\n * \t\t.component('component-name')\n * \t\t.html('./component.html')\n * \n */","meta":{"range":[977,4677],"filename":"DynamicDashboard.js","lineno":42,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003406","name":"DynamicDashboard","type":"ClassDeclaration","paramnames":["sync"]}},"name":"DynamicDashboard","longname":"DynamicDashboard","kind":"class","classdesc":"DynamicDashboard class","examples":["const dashboard = new DynamicDashboard({\n\t\tsync\n\t});\n\n\tdashboard\n\t\t.component('component-name')\n\t\t.html('./component.html')"],"scope":"global","description":"Create a new DynamicDashboard instance","params":[{"type":{"names":["Sync"]},"description":"An instance of the Sync system","name":"sync"}],"$longname":"DynamicDashboard","$kind":"class","$docmaLink":"api/#DynamicDashboard","$constructor":{"comment":"/**\n\t * Create a new DynamicDashboard instance\n\t * @param {Sync} sync - An instance of the Sync system\n\t */","meta":{"range":[1112,1417],"filename":"DynamicDashboard.js","lineno":47,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003409","name":"DynamicDashboard","type":"MethodDefinition","paramnames":["sync"]},"vars":{"":null}},"description":"Create a new DynamicDashboard instance","params":[{"type":{"names":["Sync"]},"description":"An instance of the Sync system","name":"sync"}],"name":"DynamicDashboard","longname":"DynamicDashboard","kind":"class","scope":"global","undocumented":true,"$longname":"DynamicDashboard","$kind":"constructor","$docmaLink":"api/#DynamicDashboard"}},{"comment":"/**\n\t * Create a new component and return its component builder.\n\t * \n\t * @param  {String} name          - Component name (kebab-case)\n\t * @return {ComponentBuilder}\n\t */","meta":{"range":[2074,3379],"filename":"DynamicDashboard.js","lineno":93,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003524","name":"DynamicDashboard#component","type":"MethodDefinition","paramnames":["name"]},"vars":{"":null}},"description":"Create a new component and return its component builder.","params":[{"type":{"names":["String"]},"description":"Component name (kebab-case)","name":"name"}],"returns":[{"type":{"names":["ComponentBuilder"]}}],"name":"component","longname":"DynamicDashboard#component","kind":"function","memberof":"DynamicDashboard","scope":"instance","$longname":"DynamicDashboard#component","$kind":"method","$docmaLink":"api/#DynamicDashboard#component"},{"comment":"/**\n\t\t * The registered dashboard components\n\t\t * @protected\n\t\t * @type {Object.<Component>}\n\t\t */","meta":{"range":[1258,1278],"filename":"DynamicDashboard.js","lineno":55,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003421","name":"this.components","type":"ObjectExpression","value":"{}","paramnames":[]}},"description":"The registered dashboard components","access":"protected","type":{"names":["Object.<Component>"]},"name":"components","longname":"DynamicDashboard#components","kind":"member","memberof":"DynamicDashboard","scope":"instance","$longname":"DynamicDashboard#components","$kind":"property","$docmaLink":"api/#DynamicDashboard#components"},{"comment":"/**\n\t\t * The registered dashboard components\n\t\t * @protected\n\t\t * @type {Object.<Page>}\n\t\t */","meta":{"range":[1379,1394],"filename":"DynamicDashboard.js","lineno":62,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003427","name":"this.pages","type":"ObjectExpression","value":"{}","paramnames":[]}},"description":"The registered dashboard components","access":"protected","type":{"names":["Object.<Page>"]},"name":"pages","longname":"DynamicDashboard#pages","kind":"member","memberof":"DynamicDashboard","scope":"instance","$longname":"DynamicDashboard#pages","$kind":"property","$docmaLink":"api/#DynamicDashboard#pages"},{"comment":"/**\n\t * Unify error responses into a constant format.\n\t *\n\t * @callback ErrorResponse~compose\n\t * @param  {Error} error   - The error to output\n\t * @param  {User}  [user]  - User object to check if internal errors can be sent to client  \n\t * @return {ErrorResponse} - Response object\n\t */","meta":{"filename":"error-response-factory.js","lineno":20,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{}},"description":"Unify error responses into a constant format.","kind":"typedef","name":"compose","type":{"names":["function"]},"params":[{"type":{"names":["Error"]},"description":"The error to output","name":"error"},{"type":{"names":["User"]},"optional":true,"description":"User object to check if internal errors can be sent to client","name":"user"}],"returns":[{"type":{"names":["ErrorResponse"]},"description":"- Response object"}],"memberof":"ErrorResponse","longname":"ErrorResponse~compose","scope":"inner","$longname":"ErrorResponse~compose","$kind":"callback","$docmaLink":"api/#ErrorResponse~compose"},{"comment":"/**\n\t\t\t\t * Filter data based on all resource permissions\n\t\t\t\t *\n\t\t\t\t * Depending on applied permissions, this may cross filters that aren't compatible.\n\t\t\t\t * Example:\n\t\t\t\t * \tcreate video filters out 'id'\n\t\t\t\t * \tcreate upload filters allows 'id'\n\t\t\t\t *\n\t\t\t\t * \n\t\t\t\t * @param  {Object} data Data to validate\n\t\t\t\t * @return {Object}      Filtered data\n\t\t\t\t */","meta":{"range":[9154,9288],"filename":"Service.js","lineno":363,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011528","name":"filter","type":"FunctionExpression"},"vars":{"filter":"filter~filter","data":"filter~data"}},"description":"Filter data based on all resource permissions\n\nDepending on applied permissions, this may cross filters that aren't compatible.\nExample:\n\tcreate video filters out 'id'\n\tcreate upload filters allows 'id'","params":[{"type":{"names":["Object"]},"description":"Data to validate","name":"data"}],"returns":[{"type":{"names":["Object"]},"description":"Filtered data"}],"name":"filter","longname":"filter","kind":"function","scope":"global","$longname":"filter","$kind":"method","$docmaLink":"api/#filter"},{"comment":"/** Guest user, basically no rights but read */","meta":{"range":[1378,1392],"filename":"User.js","lineno":61,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006131","name":"guest","type":"Literal","value":"guest"}},"description":"Guest user, basically no rights but read","name":"guest","longname":"guest","kind":"member","scope":"global","$longname":"guest","$kind":"property","$docmaLink":"api/#guest"},{"comment":"/**\n * Generate a hash for a given password.\n * @param  {string} password The password to hash.\n * @return {string}          The hash.\n */","meta":{"range":[640,752],"filename":"crypto.js","lineno":26,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002286","name":"module.exports.hashPassword","type":"FunctionExpression","value":"hashPassword","paramnames":["password"]}},"description":"Generate a hash for a given password.","params":[{"type":{"names":["string"]},"description":"The password to hash.","name":"password"}],"returns":[{"type":{"names":["string"]},"description":"The hash."}],"name":"hashPassword","longname":"hashPassword","kind":"function","scope":"global","$longname":"hashPassword","$kind":"method","$docmaLink":"api/#hashPassword"},{"comment":"/**\n * Generate a hash for a given password, but sync.\n * @param  {string} password The password to hash.\n * @return {string}          The hash.\n */","meta":{"range":[904,1016],"filename":"crypto.js","lineno":35,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002305","name":"module.exports.hashPasswordSync","type":"FunctionExpression","value":"hashPasswordSync","paramnames":["password"]}},"description":"Generate a hash for a given password, but sync.","params":[{"type":{"names":["string"]},"description":"The password to hash.","name":"password"}],"returns":[{"type":{"names":["string"]},"description":"The hash."}],"name":"hashPasswordSync","longname":"hashPasswordSync","kind":"function","scope":"global","$longname":"hashPasswordSync","$kind":"method","$docmaLink":"api/#hashPasswordSync"},{"comment":"/**\n * Initialize the main HTTP server for the mission control sysyem.\n *\n * All HTTP communications run through this server, although third-party dependencies\n * might still create their own HTTP servers.\n * @class HTTP\n */","meta":{"filename":"HTTP.js","lineno":20,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/http","code":{}},"description":"Initialize the main HTTP server for the mission control sysyem.\n\nAll HTTP communications run through this server, although third-party dependencies\nmight still create their own HTTP servers.","kind":"class","name":"HTTP","longname":"HTTP","scope":"global","$longname":"HTTP","$kind":"class","$docmaLink":"api/#HTTP","$members":[{"comment":"/**\n\t * Add the event handler to the request chain.\n\t *\n\t * We call this after plugins have been initialized,\n\t * so our error handler gets registered after their route\n\t * registrations.\n\t * This seems to be a limitation of express, because\n\t * error handlers will not trigger for errors trown in \n\t * routes that were registered after the error handler.\n\t */","meta":{"range":[5026,5089],"filename":"HTTP.js","lineno":182,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004058","name":"HTTP#addErrorHandler","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Add the event handler to the request chain.\n\nWe call this after plugins have been initialized,\nso our error handler gets registered after their route\nregistrations.\nThis seems to be a limitation of express, because\nerror handlers will not trigger for errors trown in \nroutes that were registered after the error handler.","name":"addErrorHandler","longname":"HTTP#addErrorHandler","kind":"function","memberof":"HTTP","scope":"instance","params":[],"$longname":"HTTP#addErrorHandler","$kind":"method","$docmaLink":"api/#HTTP#addErrorHandler"},{"comment":"/**\n\t\t * The express app\n\t\t *\n\t\t * @protected\n\t\t * @type {express~Server}\n\t\t */","meta":{"range":[2393,2413],"filename":"HTTP.js","lineno":90,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003833","name":"this.app","type":"CallExpression","value":"","paramnames":[]}},"description":"The express app","access":"protected","type":{"names":["express~Server"]},"name":"app","longname":"HTTP#app","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#app","$kind":"property","$docmaLink":"api/#HTTP#app"},{"comment":"/**\n\t * Express middleware to add components and pages to request.\n\t * \n\t * @param  {express~Request}   req  - The express request\n\t * @param  {express~Response}  res  - The express response\n\t * @param  {Function}          next - Middleware callback\n\t */","meta":{"range":[5348,5697],"filename":"HTTP.js","lineno":193,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004076","name":"HTTP#attachComponentsAndPagesMiddleware","type":"MethodDefinition","paramnames":["req","res","next"]},"vars":{"":null}},"description":"Express middleware to add components and pages to request.","params":[{"type":{"names":["express~Request"]},"description":"The express request","name":"req"},{"type":{"names":["express~Response"]},"description":"The express response","name":"res"},{"type":{"names":["function"]},"description":"Middleware callback","name":"next"}],"name":"attachComponentsAndPagesMiddleware","longname":"HTTP#attachComponentsAndPagesMiddleware","kind":"function","memberof":"HTTP","scope":"instance","$longname":"HTTP#attachComponentsAndPagesMiddleware","$kind":"method","$docmaLink":"api/#HTTP#attachComponentsAndPagesMiddleware"},{"comment":"/**\n\t\t * Auth module instance\n\t\t *\n\t\t * @protected\n\t\t * @type {Auth}\n\t\t */","meta":{"range":[1777,1793],"filename":"HTTP.js","lineno":56,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003803","name":"this.auth","type":"Identifier","value":"auth","paramnames":[]}},"description":"Auth module instance","access":"protected","type":{"names":["Auth"]},"name":"auth","longname":"HTTP#auth","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#auth","$kind":"property","$docmaLink":"api/#HTTP#auth"},{"comment":"/**\n\t\t * Initialized error response factory function\n\t\t * @type {ErrorResponse~compose}\n\t\t */","meta":{"range":[2616,2688],"filename":"HTTP.js","lineno":102,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003850","name":"this.composeErrorResponse","type":"CallExpression","value":"","paramnames":[]}},"description":"Initialized error response factory function","type":{"names":["ErrorResponse~compose"]},"name":"composeErrorResponse","longname":"HTTP#composeErrorResponse","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#composeErrorResponse","$kind":"property","$docmaLink":"api/#HTTP#composeErrorResponse"},{"comment":"/**\n\t\t * Mission Control Config\n\t\t *\n\t\t * @protected\n\t\t * @type {Config}\n\t\t */","meta":{"range":[1675,1695],"filename":"HTTP.js","lineno":48,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003797","name":"this.config","type":"Identifier","value":"config","paramnames":[]}},"description":"Mission Control Config","access":"protected","type":{"names":["Config"]},"name":"config","longname":"HTTP#config","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#config","$kind":"property","$docmaLink":"api/#HTTP#config"},{"comment":"/**\n\t * Create the API object used by plugins to interact with the HTTP module\n\t * @param  {string} \t\t  pluginName - The plugin name\n\t * @return {PluginHTTPRouter}           \n\t */","meta":{"range":[6909,7687],"filename":"HTTP.js","lineno":240,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004174","name":"HTTP#createHTTPPluginContext","type":"MethodDefinition","paramnames":["pluginName"]},"vars":{"":null}},"description":"Create the API object used by plugins to interact with the HTTP module","params":[{"type":{"names":["string"]},"description":"The plugin name","name":"pluginName"}],"returns":[{"type":{"names":["PluginHTTPRouter"]}}],"name":"createHTTPPluginContext","longname":"HTTP#createHTTPPluginContext","kind":"function","memberof":"HTTP","scope":"instance","$longname":"HTTP#createHTTPPluginContext","$kind":"method","$docmaLink":"api/#HTTP#createHTTPPluginContext"},{"comment":"/**\n\t\t * Instance of dynamic dashboard, responsible for managing\n\t\t * dashboard components and pages created by plugins.\n\t\t *\n\t\t * @type {DynamicDashboard}\n\t\t */","meta":{"range":[2263,2306],"filename":"HTTP.js","lineno":82,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003825","name":"this.dashboard","type":"NewExpression","value":"","paramnames":[]}},"description":"Instance of dynamic dashboard, responsible for managing\ndashboard components and pages created by plugins.","type":{"names":["DynamicDashboard"]},"name":"dashboard","longname":"HTTP#dashboard","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#dashboard","$kind":"property","$docmaLink":"api/#HTTP#dashboard"},{"comment":"/**\n\t * Finish HTTP server setup and listen on given port \n\t */","meta":{"range":[7755,7918],"filename":"HTTP.js","lineno":271,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004234","name":"HTTP#listen","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Finish HTTP server setup and listen on given port","name":"listen","longname":"HTTP#listen","kind":"function","memberof":"HTTP","scope":"instance","params":[],"$longname":"HTTP#listen","$kind":"method","$docmaLink":"api/#HTTP#listen"},{"comment":"/**\n\t\t * A Logger instance\n\t\t *\n\t\t * This is actually used for logging.\n\t\t *\n\t\t * @protected\n\t\t * @type {Logger}\n\t\t */","meta":{"range":[2052,2094],"filename":"HTTP.js","lineno":74,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003815","name":"this.logger","type":"CallExpression","value":"","paramnames":[]}},"description":"A Logger instance\n\nThis is actually used for logging.","access":"protected","type":{"names":["Logger"]},"name":"logger","longname":"HTTP#logger","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#logger","$kind":"property","$docmaLink":"api/#HTTP#logger"},{"comment":"/**\n\t\t * Logging module used to create Logger instances\n\t\t *\n\t\t * @protected\n\t\t * @type {Logging}\n\t\t */","meta":{"range":[1904,1926],"filename":"HTTP.js","lineno":64,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003809","name":"this.logging","type":"Identifier","value":"logging","paramnames":[]}},"description":"Logging module used to create Logger instances","access":"protected","type":{"names":["Logging"]},"name":"logging","longname":"HTTP#logging","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#logging","$kind":"property","$docmaLink":"api/#HTTP#logging"},{"comment":"/**\n\t * Global HTTP error handler\n\t *\n\t * @protected\n\t * @param  {Error}              err  - The triggered error\n\t * @param  {express~Request}    req  - Express request\n\t * @param  {express~Response}   res  - Express response\n\t * @param  {Function}           next - Express middleware callback\n\t */","meta":{"range":[6000,6725],"filename":"HTTP.js","lineno":212,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004106","name":"HTTP#onError","type":"MethodDefinition","paramnames":["err","req","res","next"]},"vars":{"":null}},"description":"Global HTTP error handler","access":"protected","params":[{"type":{"names":["Error"]},"description":"The triggered error","name":"err"},{"type":{"names":["express~Request"]},"description":"Express request","name":"req"},{"type":{"names":["express~Response"]},"description":"Express response","name":"res"},{"type":{"names":["function"]},"description":"Express middleware callback","name":"next"}],"name":"onError","longname":"HTTP#onError","kind":"function","memberof":"HTTP","scope":"instance","$longname":"HTTP#onError","$kind":"method","$docmaLink":"api/#HTTP#onError"},{"comment":"/**\n\t * The HTTP server port\n\t *\n\t * @readonly\n\t * @type {number}\n\t */","meta":{"range":[4614,4661],"filename":"HTTP.js","lineno":168,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004046","name":"HTTP#port","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"The HTTP server port","readonly":true,"type":{"names":["number"]},"name":"port","longname":"HTTP#port","kind":"member","memberof":"HTTP","scope":"instance","params":[],"$longname":"HTTP#port","$kind":"property","$docmaLink":"api/#HTTP#port"},{"comment":"/**\n\t\t * The Node HTTP server\n\t\t * @type {Node~HTTP}\n\t\t */","meta":{"range":[2479,2515],"filename":"HTTP.js","lineno":96,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003840","name":"this.server","type":"CallExpression","value":"","paramnames":[]}},"description":"The Node HTTP server","type":{"names":["Node~HTTP"]},"name":"server","longname":"HTTP#server","kind":"member","memberof":"HTTP","scope":"instance","$longname":"HTTP#server","$kind":"property","$docmaLink":"api/#HTTP#server"},{"comment":"/**\n\t * The main HTTP server URL\n\t *\n\t * @readonly\n\t * @type {string}\n\t */","meta":{"range":[4494,4539],"filename":"HTTP.js","lineno":158,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004034","name":"HTTP#url","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"The main HTTP server URL","readonly":true,"type":{"names":["string"]},"name":"url","longname":"HTTP#url","kind":"member","memberof":"HTTP","scope":"instance","params":[],"$longname":"HTTP#url","$kind":"property","$docmaLink":"api/#HTTP#url"}],"$constructor":{"comment":"/**\n\t * Create a HTTP server instance.\n\t * \n\t * @param  {string}   sessionSecret         - The session secret used for cookies and JWT tokens\n\t * @param  {object}   dependencies          - Dependency injection\n\t * @param  {Config}   dependencies.config   - Mission Control config\n\t * @param  {Sync}     dependencies.sync     - Sync module instance\n\t * @param  {Database} dependencies.database - Active database instance\n\t * @param  {Auth}     dependencies.auth     - Auth module instance\n\t * @param  {Logging}  dependencies.logging  - Logging module (Logger factory)\n\t */","meta":{"range":[1482,4415],"filename":"HTTP.js","lineno":39,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100003776","name":"HTTP","type":"MethodDefinition","paramnames":["sessionSecret","dependencies"]},"vars":{"":null}},"description":"Create a HTTP server instance.","params":[{"type":{"names":["string"]},"description":"The session secret used for cookies and JWT tokens","name":"sessionSecret"},{"type":{"names":["object"]},"description":"Dependency injection","name":"dependencies"},{"type":{"names":["Config"]},"description":"Mission Control config","name":"dependencies.config"},{"type":{"names":["Sync"]},"description":"Sync module instance","name":"dependencies.sync"},{"type":{"names":["Database"]},"description":"Active database instance","name":"dependencies.database"},{"type":{"names":["Auth"]},"description":"Auth module instance","name":"dependencies.auth"},{"type":{"names":["Logging"]},"description":"Logging module (Logger factory)","name":"dependencies.logging"}],"name":"HTTP","longname":"HTTP","kind":"class","scope":"global","$longname":"HTTP","$kind":"constructor","$docmaLink":"api/#HTTP"}},{"comment":"/**\n * The HTTP API for plugins and an HTTP router.\n *\n * This class is used by plugins to create http routes. \n * HTTP requests will be automatically checked for authentication.\n * The URLs have a unique plugin prefix (/plugins/example-plugin/...).\n *\n * There are two additional routers, one to place URLs at the root namespace,\n * and one at plugin namespace that doesn't check for authentication.\n */","meta":{"range":[530,2284],"filename":"HTTPContext.js","lineno":16,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004298","name":"HTTPContext","type":"ClassDeclaration","paramnames":["baseURL","dashboard"]}},"name":"HTTPContext","longname":"HTTPContext","kind":"class","classdesc":"The HTTP API for plugins and an HTTP router.\n\nThis class is used by plugins to create http routes. \nHTTP requests will be automatically checked for authentication.\nThe URLs have a unique plugin prefix (/plugins/example-plugin/...).\n\nThere are two additional routers, one to place URLs at the root namespace,\nand one at plugin namespace that doesn't check for authentication.","scope":"global","description":"Create a new Plugin HTTP Router instance.","params":[{"type":{"names":["String"]},"description":"The plugin URL namespace.","name":"baseURL"},{"type":{"names":["DynamicDashboard"]},"description":"Dashboard instance","name":"dashboard"}],"$longname":"HTTPContext","$kind":"class","$docmaLink":"api/#HTTPContext","$constructor":{"comment":"/**\n\t * Create a new Plugin HTTP Router instance.\n\t * @param  {String}           baseURL   - The plugin URL namespace.\n\t * @param  {DynamicDashboard} dashboard - Dashboard instance\n\t */","meta":{"range":[761,1885],"filename":"HTTPContext.js","lineno":22,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004304","name":"HTTPContext","type":"MethodDefinition","paramnames":["baseURL","dashboard"]},"vars":{"":null}},"description":"Create a new Plugin HTTP Router instance.","params":[{"type":{"names":["String"]},"description":"The plugin URL namespace.","name":"baseURL"},{"type":{"names":["DynamicDashboard"]},"description":"Dashboard instance","name":"dashboard"}],"name":"HTTPContext","longname":"HTTPContext","kind":"class","scope":"global","undocumented":true,"$longname":"HTTPContext","$kind":"constructor","$docmaLink":"api/#HTTPContext"}},{"comment":"/**\n * The HTTP context object\n * @typedef {Object} HttpContext\n * @type {object}\n * @property {Object} noAuth\n * @property {Object} raw\n */","meta":{"filename":"types.js","lineno":13,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"The HTTP context object","kind":"typedef","name":"HttpContext","type":{"names":["Object"]},"properties":[{"type":{"names":["Object"]},"name":"noAuth"},{"type":{"names":["Object"]},"name":"raw"}],"longname":"HttpContext","scope":"global","$longname":"HttpContext","$kind":"typedef","$docmaLink":"api/#HttpContext"},{"comment":"/**\n\t\t * The base URL for the default plugin router.\n\t\t * @type {String}\n\t\t */","meta":{"range":[890,912],"filename":"HTTPContext.js","lineno":29,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004314","name":"this.baseURL","type":"Identifier","value":"baseURL","paramnames":[]}},"description":"The base URL for the default plugin router.","type":{"names":["String"]},"name":"baseURL","longname":"HTTPContext#baseURL","kind":"member","memberof":"HTTPContext","scope":"instance","$longname":"HTTPContext#baseURL","$kind":"property","$docmaLink":"api/#HTTPContext#baseURL"},{"comment":"/**\n\t\t * The dynamic dashboard instance to manage components and pages.\n\t\t * @type {DynamicDashboard}\n\t\t */","meta":{"range":[1027,1053],"filename":"HTTPContext.js","lineno":35,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004320","name":"this.dashboard","type":"Identifier","value":"dashboard","paramnames":[]}},"description":"The dynamic dashboard instance to manage components and pages.","type":{"names":["DynamicDashboard"]},"name":"dashboard","longname":"HTTPContext#dashboard","kind":"member","memberof":"HTTPContext","scope":"instance","$longname":"HTTPContext#dashboard","$kind":"property","$docmaLink":"api/#HTTPContext#dashboard"},{"comment":"/**\n\t * Proxy an HTTP route to another target URL.\n\t * This is useful if you want to proxy something through mission-control auth.\n\t */","meta":{"range":[2025,2282],"filename":"HTTPContext.js","lineno":76,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004369","name":"HTTPContext#proxy","type":"MethodDefinition","paramnames":["route","target","options"]},"vars":{"":null}},"description":"Proxy an HTTP route to another target URL.\nThis is useful if you want to proxy something through mission-control auth.","name":"proxy","longname":"HTTPContext#proxy","kind":"function","memberof":"HTTPContext","scope":"instance","params":[],"$longname":"HTTPContext#proxy","$kind":"method","$docmaLink":"api/#HTTPContext#proxy"},{"comment":"/**\n\t\t * This log level will be used by http-proxy-middleware when used\n\t\t * @type {'debug' | 'warn'}\n\t\t * @public\n\t\t */","meta":{"range":[1835,1862],"filename":"HTTPContext.js","lineno":67,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004360","name":"this.proxyLogLevel","type":"Literal","value":"warn","paramnames":[]}},"description":"This log level will be used by http-proxy-middleware when used","type":{"names":["'debug'","'warn'"]},"access":"public","name":"proxyLogLevel","longname":"HTTPContext#proxyLogLevel","kind":"member","memberof":"HTTPContext","scope":"instance","$longname":"HTTPContext#proxyLogLevel","$kind":"property","$docmaLink":"api/#HTTPContext#proxyLogLevel"},{"comment":"/**\n\t\t * Additional HTTP Router that adds routes at the root namespace ('/') instead of the plugin one.\n\t\t * @type {express.Router}\n\t\t * @public\n\t\t * @readonly\n\t\t */","meta":{"range":[1648,1680],"filename":"HTTPContext.js","lineno":59,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004343","name":"this.root","type":"NewExpression","value":"","paramnames":[]}},"description":"Additional HTTP Router that adds routes at the root namespace ('/') instead of the plugin one.","type":{"names":["express.Router"]},"access":"public","readonly":true,"name":"root","longname":"HTTPContext#root","kind":"member","memberof":"HTTPContext","scope":"instance","$longname":"HTTPContext#root","$kind":"property","$docmaLink":"api/#HTTPContext#root"},{"comment":"/**\n\t\t * Additional HTTP Router that will not be checked by authentication.\n\t\t *\n\t\t * Routes will be placed after the plugin URL namespace (/plugins/example-plugin/YOUR-ROUTES...).\n\t\t * For example for public APIs or something.\n\t\t *\n\t\t * Watch out for unauthorized accesses.\n\t\t *\n\t\t * \n\t\t * @type {express.Router}\n\t\t * @public\n\t\t * @readonly\n\t\t */","meta":{"range":[1408,1442],"filename":"HTTPContext.js","lineno":50,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/http","code":{"id":"astnode100004326","name":"this.unsafe","type":"NewExpression","value":"","paramnames":[]}},"description":"Additional HTTP Router that will not be checked by authentication.\n\nRoutes will be placed after the plugin URL namespace (/plugins/example-plugin/YOUR-ROUTES...).\nFor example for public APIs or something.\n\nWatch out for unauthorized accesses.","type":{"names":["express.Router"]},"access":"public","readonly":true,"name":"unsafe","longname":"HTTPContext#unsafe","kind":"member","memberof":"HTTPContext","scope":"instance","$longname":"HTTPContext#unsafe","$kind":"property","$docmaLink":"api/#HTTPContext#unsafe"},{"comment":"/**\n\t\t\t\t * Joi object validation helper\n\t\t\t\t * @type {Joi}\n\t\t\t\t */","meta":{"range":[7952,7955],"filename":"Service.js","lineno":308,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011483","name":"Joi","type":"Identifier","value":"Joi"}},"description":"Joi object validation helper","type":{"names":["Joi"]},"name":"Joi","longname":"Joi","kind":"member","scope":"global","$longname":"Joi","$kind":"property","$docmaLink":"api/#Joi"},{"comment":"/**\n * Joi object builder function\n * @callback JoiBuilderFunction\n * @param   {Joi} joi     The joi object\n * @return  {Joi~Schema}  The Joi schema to validate with\n */","meta":{"filename":"Service.js","lineno":27,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{}},"description":"Joi object builder function","kind":"typedef","name":"JoiBuilderFunction","type":{"names":["function"]},"params":[{"type":{"names":["Joi"]},"description":" The joi object","name":"joi"}],"returns":[{"type":{"names":["Joi~Schema"]},"description":" The Joi schema to validate with"}],"longname":"JoiBuilderFunction","scope":"global","$longname":"JoiBuilderFunction","$kind":"callback","$docmaLink":"api/#JoiBuilderFunction"},{"comment":"/**\n * Express middleware to force a trailing slash onto a route.\n *\n * e.g.\n * /dashboard -> /dashboard/\n */","meta":{"range":[110,275],"filename":"add-trailing-slash-middleware.js","lineno":7,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002080","name":"module.exports","type":"FunctionExpression","value":"addTrailingSlashMiddleware","paramnames":["req","res","next"]}},"description":"Express middleware to force a trailing slash onto a route.\n\ne.g.\n/dashboard -> /dashboard/","name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports","$members":[{"comment":"/**\n\t * If this error is an error caused by the user, not internal (status 400 range)\n\t * @return {Boolean}\n\t */","meta":{"range":[271,324],"filename":"UserError.js","lineno":13,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100003360","name":"module.exports#isUserError","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"If this error is an error caused by the user, not internal (status 400 range)","returns":[{"type":{"names":["Boolean"]}}],"name":"isUserError","longname":"module.exports#isUserError","kind":"member","memberof":"module.exports","scope":"instance","params":[],"$longname":"module.exports#isUserError","$kind":"property","$docmaLink":"api/#module.exports#isUserError"},{"comment":"/**\n\t * Express handler to only let UNauthenticated users pass (ie. not logged in).\n\t *\n\t * @param {Request}  req  - Request\n\t * @param {Response} res  - Response\n\t * @param {Function} next - Next callback\n\t */","meta":{"range":[929,1048],"filename":"middleware.js","lineno":40,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000590","name":"module.exports#onlyUnauthenticated","type":"MethodDefinition","paramnames":["req","res","next"]},"vars":{"":null}},"description":"Express handler to only let UNauthenticated users pass (ie. not logged in).","params":[{"type":{"names":["Request"]},"description":"Request","name":"req"},{"type":{"names":["Response"]},"description":"Response","name":"res"},{"type":{"names":["function"]},"description":"Next callback","name":"next"}],"name":"onlyUnauthenticated","longname":"module.exports#onlyUnauthenticated","kind":"function","memberof":"module.exports","scope":"instance","$longname":"module.exports#onlyUnauthenticated","$kind":"method","$docmaLink":"api/#module.exports#onlyUnauthenticated"},{"comment":"/**\n\t * Express middleware to only let authenticated users pass.\n\t *\n\t * If 'next' is passed for any of the arguments,\n\t * the middleware will call the next function instead\n\t * of redirecting.\n\t *\n\t * @param {Request}  req  - Request\n\t * @param {Response} res  - Response\n\t * @param {Function} next - Next callback\n\t */","meta":{"range":[588,714],"filename":"middleware.js","lineno":25,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000567","name":"module.exports#requireAuthentication","type":"MethodDefinition","paramnames":["req","res","next"]},"vars":{"":null}},"description":"Express middleware to only let authenticated users pass.\n\nIf 'next' is passed for any of the arguments,\nthe middleware will call the next function instead\nof redirecting.","params":[{"type":{"names":["Request"]},"description":"Request","name":"req"},{"type":{"names":["Response"]},"description":"Response","name":"res"},{"type":{"names":["function"]},"description":"Next callback","name":"next"}],"name":"requireAuthentication","longname":"module.exports#requireAuthentication","kind":"function","memberof":"module.exports","scope":"instance","$longname":"module.exports#requireAuthentication","$kind":"method","$docmaLink":"api/#module.exports#requireAuthentication"},{"comment":"/**\n\t * Middleware to require permission to pass\n\t * @param  {'create' | 'read' | 'update' | 'delete'} type \tCRUD type\n\t * @param  {'any' | 'own'} scope    \t\t\t\t\t\tAllow any or only own resources\n\t * @param  {String} resource \t\t\t\t\t\t\t\tThe resource, like 'user' or 'post'\n\t * @return {ExpressHandler}\n\t */","meta":{"range":[1354,1737],"filename":"middleware.js","lineno":55,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000613","name":"module.exports#requirePermission","type":"MethodDefinition","paramnames":["type","scope","resource"]},"vars":{"":null}},"description":"Middleware to require permission to pass","params":[{"type":{"names":["'create'","'read'","'update'","'delete'"]},"description":"CRUD type","name":"type"},{"type":{"names":["'any'","'own'"]},"description":"Allow any or only own resources","name":"scope"},{"type":{"names":["String"]},"description":"The resource, like 'user' or 'post'","name":"resource"}],"returns":[{"type":{"names":["ExpressHandler"]}}],"name":"requirePermission","longname":"module.exports#requirePermission","kind":"function","memberof":"module.exports","scope":"instance","$longname":"module.exports#requirePermission","$kind":"method","$docmaLink":"api/#module.exports#requirePermission"},{"comment":"/**\n\t * Notification service\n\t * \n\t * The notification service is responsible for keeping track of all notifications\n\t * for all users.\n\t * Notifications can be added and removed (read).\n\t * Each user has a list of notifications in the service state.\n\t * The state is filtered by the username of the current user, so that only\n\t * the notifications for the current user are returned.\n\t * \n\t * When creating a notification, either a role or a username can be passed along with\n\t * the notification type, title and body.\n\t * When passing a `role`, the notification will be created for all users of that role.\n\t * When passing a `username`, the notification will only be created for the given user.\n\t * \n\t * @service notifications\n\t */","meta":{"range":[1320,1699],"filename":"notifications.js","lineno":38,"columnno":7,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{"id":"astnode100008034","name":"service","type":"CallExpression","value":""}},"description":"Notification service\n\nThe notification service is responsible for keeping track of all notifications\nfor all users.\nNotifications can be added and removed (read).\nEach user has a list of notifications in the service state.\nThe state is filtered by the username of the current user, so that only\nthe notifications for the current user are returned.\n\nWhen creating a notification, either a role or a username can be passed along with\nthe notification type, title and body.\nWhen passing a `role`, the notification will be created for all users of that role.\nWhen passing a `username`, the notification will only be created for the given user.","tags":[{"originalTitle":"service","title":"service","text":"notifications","value":"notifications"}],"name":"service","longname":"module.exports~service","kind":"constant","memberof":"module.exports","scope":"inner","params":[],"$longname":"module.exports~service","$kind":"constant","$docmaLink":"api/#module.exports~service"},{"comment":"/**\n\t * {\n\t * \t\tlg:\n\t * \t\tmd:\n\t * \t\tsm:\n\t * \t\txs:\n\t * \t\txxs:\n\t * }\n\t */","meta":{"range":[339,407],"filename":"index.js","lineno":17,"columnno":7,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/dashboards","code":{"id":"astnode100007419","name":"service","type":"CallExpression","value":""}},"description":"{\n\t\tlg:\n\t\tmd:\n\t\tsm:\n\t\txs:\n\t\txxs:\n}","name":"service","longname":"module.exports~service","kind":"constant","memberof":"module.exports","scope":"inner","params":[],"$longname":"module.exports~service","$kind":"constant","$docmaLink":"api/#module.exports~service"},{"comment":"/**\n\t * Set devices and update status to connected\n\t * @param  {Array.<HomebridgeDevice>} devices \n\t */","meta":{"range":[2974,3532],"filename":"index.js","lineno":130,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/homebridge","code":{"id":"astnode100007913","name":"updateHomebridgeDevices","type":"FunctionDeclaration","paramnames":["devices","override"]},"vars":{"simplifiedDevices":"module.exports~updateHomebridgeDevices~simplifiedDevices","device":"module.exports~updateHomebridgeDevices~device","simplifiedDevices[undefined]":"module.exports~updateHomebridgeDevices~simplifiedDevices.undefined]"}},"description":"Set devices and update status to connected","params":[{"type":{"names":["Array.<HomebridgeDevice>"]},"name":"devices"}],"name":"updateHomebridgeDevices","longname":"module.exports~updateHomebridgeDevices","kind":"function","memberof":"module.exports","scope":"inner","$longname":"module.exports~updateHomebridgeDevices","$kind":"method","$docmaLink":"api/#module.exports~updateHomebridgeDevices"}]},{"comment":"/**\n * Restart the server\n */","meta":{"range":[30,158],"filename":"restart.js","lineno":4,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100003312","name":"module.exports","type":"FunctionExpression","value":"restart","paramnames":[]}},"description":"Restart the server","name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Notification type\n * \n * @typedef {Notification}\n * @property {string} type - Type of notification\n * @property {string} title - Notification title\n * @property {string} [body] - Notification body text\n */","meta":{"range":[261,1036],"filename":"index.js","lineno":13,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal/admin-controls","code":{"id":"astnode100006176","name":"module.exports","type":"FunctionExpression","value":"adminControls","paramnames":[""]},"vars":{"service":"module.exports~service","":null}},"description":"Notification type","kind":"typedef","type":{"names":["Notification"]},"properties":[{"type":{"names":["string"]},"description":"Type of notification","name":"type"},{"type":{"names":["string"]},"description":"Notification title","name":"title"},{"type":{"names":["string"]},"optional":true,"description":"Notification body text","name":"body"}],"name":"exports","longname":"module.exports","memberof":"module","scope":"static","$longname":"module.exports","$kind":"typedef","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Initialize the plugin\n *\n * @param {PluginContext} APP\n * @returns {Plugin}\n */","meta":{"range":[492,665],"filename":"dashboard-example.js","lineno":27,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{"id":"astnode100007362","name":"module.exports","type":"FunctionExpression","value":"dashboardExample","paramnames":["APP"]},"vars":{"undefined":null}},"description":"Initialize the plugin","params":[{"type":{"names":["PluginContext"]},"name":"APP"}],"returns":[{"type":{"names":["Plugin"]}}],"name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Initialize the plugin\n *\n * @param {PluginContext} APP\n * @returns {Plugin}\n */","meta":{"range":[314,629],"filename":"file-browser.js","lineno":20,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{"id":"astnode100007517","name":"module.exports","type":"FunctionExpression","value":"fileBrowserInit","paramnames":["APP"]},"vars":{"":null}},"description":"Initialize the plugin","params":[{"type":{"names":["PluginContext"]},"name":"APP"}],"returns":[{"type":{"names":["Plugin"]}}],"name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Handle socket authentication\n * @param  {SocketIO~Socket} socket   - The socket\n * @param  {SocketContext}   context  - Helpers\n */","meta":{"range":[298,1980],"filename":"auth.js","lineno":11,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010274","name":"module.exports","type":"FunctionExpression","value":"handleAuth","paramnames":["socket",""]},"vars":{"createAuthTimeout":"module.exports~createAuthTimeout","":null,"authTimeoutId":"module.exports~authTimeoutId","socket.authenticated":"socket.authenticated","socket.user":"socket.user"}},"description":"Handle socket authentication","params":[{"type":{"names":["SocketIO~Socket"]},"description":"The socket","name":"socket"},{"type":{"names":["SocketContext"]},"description":"Helpers","name":"context"}],"name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Wrap socket.on with authorization and error handling\n *\n * We check for authentication before we let requests past. You can\n * disable this by setting authCheckEnabled to false.\n * \n * @param  {SocketIO~Socket}       client                    - Socket IO connected socket\n * @param  {Logger}                logger                    - Logging module\n * @param  {ErrorResponse~compose} composeErrorResponse      - ErrorResponse composer\n * @param  {boolean}               [authCheckEnabled = true] - Wether auth checks should occur before handling\n * @return {SocketHandlerFactory} \n */","meta":{"range":[838,1706],"filename":"socket-request-handler.js","lineno":25,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010610","name":"module.exports","type":"FunctionExpression","value":"createSocketHandlerFactory","paramnames":["socket","logger","composeErrorResponse","authCheckEnabled"]},"vars":{"":null}},"description":"Wrap socket.on with authorization and error handling\n\nWe check for authentication before we let requests past. You can\ndisable this by setting authCheckEnabled to false.","params":[{"type":{"names":["SocketIO~Socket"]},"description":"Socket IO connected socket","name":"client"},{"type":{"names":["Logger"]},"description":"Logging module","name":"logger"},{"type":{"names":["ErrorResponse~compose"]},"description":"ErrorResponse composer","name":"composeErrorResponse"},{"type":{"names":["boolean"]},"optional":true,"defaultvalue":true,"description":"Wether auth checks should occur before handling","name":"authCheckEnabled"}],"returns":[{"type":{"names":["SocketHandlerFactory"]}}],"name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n * Handle socket connections for sync\n * @param  {SocketIO~Socket} socket   - The socket\n * @param  {SocketContext}   context  - Helpers\n */","meta":{"range":[145,2608],"filename":"sync.js","lineno":6,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010717","name":"module.exports","type":"FunctionExpression","value":"handleSync","paramnames":["socket",""]},"vars":{"subscriptions":"module.exports~subscriptions","":null}},"description":"Handle socket connections for sync","params":[{"type":{"names":["SocketIO~Socket"]},"description":"The socket","name":"socket"},{"type":{"names":["SocketContext"]},"description":"Helpers","name":"context"}],"name":"exports","longname":"module.exports","kind":"function","memberof":"module","scope":"static","$longname":"module.exports","$kind":"method","$docmaLink":"api/#module.exports"},{"comment":"/**\n\t * @param  {Permissions} permissions The Permissions object\n\t * @return {AuthMiddleware}\n\t */","meta":{"range":[181,263],"filename":"middleware.js","lineno":8,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000552","name":"module.exports","type":"MethodDefinition","paramnames":["permissions"]},"vars":{"":null}},"params":[{"type":{"names":["Permissions"]},"description":"The Permissions object","name":"permissions"}],"returns":[{"type":{"names":["AuthMiddleware"]}}],"name":"exports","longname":"module.exports#module.exports","kind":"class","memberof":"module.exports#module","scope":"static","$longname":"module.exports#module.exports","$kind":"constructor","$docmaLink":"api/#module.exports#module.exports"},{"comment":"/**\n\t * Create a new authorizaton error.\n\t *\n\t * Can be converted to authentication error by \n\t * changing status to 401 Unauthorized instead of 403 Forbidden.\n\t * \n\t * @param  {string} message Error message\n\t * @param  {Number} status  Error HTTP status\n\t * @return {AuthError}\n\t */","meta":{"range":[382,499],"filename":"AuthError.js","lineno":14,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100002217","name":"module.exports","type":"MethodDefinition","paramnames":["message","status"]},"vars":{"":null}},"description":"Create a new authorizaton error.\n\nCan be converted to authentication error by \nchanging status to 401 Unauthorized instead of 403 Forbidden.","params":[{"type":{"names":["string"]},"description":"Error message","name":"message"},{"type":{"names":["Number"]},"description":"Error HTTP status","name":"status","defaultvalue":403}],"returns":[{"type":{"names":["AuthError"]}}],"name":"exports","longname":"module.exports#module.exports","kind":"class","memberof":"module.exports#module","scope":"static","$longname":"module.exports#module.exports","$kind":"constructor","$docmaLink":"api/#module.exports#module.exports"},{"comment":"","meta":{"range":[50,154],"filename":"UserError.js","lineno":2,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/helpers","code":{"id":"astnode100003336","name":"module.exports","type":"MethodDefinition","paramnames":["message","status"]},"vars":{"":null}},"undocumented":true,"name":"exports","longname":"module.exports#module.exports","kind":"class","memberof":"module.exports#module","scope":"static","params":[],"$longname":"module.exports#module.exports","$kind":"constructor","$docmaLink":"api/#module.exports#module.exports"},{"comment":"/**\n * Notifications service state\n * \n * @typedef {Record.<string, Notification[]>} NotificationServiceState\n */","meta":{"filename":"notifications.js","lineno":14,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{}},"description":"Notifications service state","kind":"typedef","name":"NotificationServiceState","type":{"names":["Record.<string, Array.<Notification>>"]},"longname":"NotificationServiceState","scope":"global","$longname":"NotificationServiceState","$kind":"typedef","$docmaLink":"api/#NotificationServiceState"},{"comment":"/**\n\t\t * Action options\n\t\t * @typedef {ActionOptions}\n\t\t */","meta":{"range":[3320,3560],"filename":"Service.js","lineno":138,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011156","name":"options","type":"ObjectExpression","funcscope":"<anonymous>","value":"{\"handler\":\"\",\"schema\":null,\"permissions\":\"\"}","paramnames":[]}},"description":"Action options","kind":"typedef","type":{"names":["ActionOptions"]},"name":"options","longname":"<anonymous>~options","memberof":"<anonymous>","scope":"inner","$longname":"options","$kind":"typedef","$docmaLink":"api/#options"},{"comment":"/**\n * Permission evaluation handler\n * @callback PermissionEvaluationHandler\n * @param   {object}        data    - The request data\n * @param   {ActionContext} context  Action context with helpers\n */","meta":{"filename":"Service.js","lineno":20,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{}},"description":"Permission evaluation handler","kind":"typedef","name":"PermissionEvaluationHandler","type":{"names":["function"]},"params":[{"type":{"names":["object"]},"description":"The request data","name":"data"},{"type":{"names":["ActionContext"]},"description":" Action context with helpers","name":"context"}],"longname":"PermissionEvaluationHandler","scope":"global","$longname":"PermissionEvaluationHandler","$kind":"callback","$docmaLink":"api/#PermissionEvaluationHandler"},{"comment":"/**\n * Class responsible for evaluation role-based permissions\n */","meta":{"range":[155,1309],"filename":"permissions.js","lineno":7,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000684","name":"Permissions","type":"ClassDeclaration","paramnames":["grants"]}},"name":"Permissions","longname":"Permissions","kind":"class","classdesc":"Class responsible for evaluation role-based permissions","scope":"global","$longname":"Permissions","$kind":"class","$docmaLink":"api/#Permissions","$constructor":{"comment":"","meta":{"range":[176,380],"filename":"permissions.js","lineno":8,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000687","name":"Permissions","type":"MethodDefinition","paramnames":["grants"]},"vars":{"":null}},"undocumented":true,"name":"Permissions","longname":"Permissions","kind":"class","scope":"global","params":[],"$longname":"Permissions","$kind":"constructor","$docmaLink":"api/#Permissions"}},{"comment":"/**\n\t\t\t\t * Permissions helper\n\t\t\t\t * @type {Permissions}\n\t\t\t\t */","meta":{"range":[8031,8073],"filename":"Service.js","lineno":314,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011485","name":"permissions","type":"MemberExpression","value":"this.dependencies.permissions"}},"description":"Permissions helper","type":{"names":["Permissions"]},"name":"permissions","longname":"permissions","kind":"member","scope":"global","$longname":"permissions","$kind":"property","$docmaLink":"api/#permissions"},{"comment":"/**\n\t * Determine role for permission check\n\t * @param  {string} role [description]\n\t * @return {Object}      Role API\n\t */","meta":{"range":[653,1307],"filename":"permissions.js","lineno":31,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000733","name":"Permissions#can","type":"MethodDefinition","paramnames":["role"]},"vars":{"":null}},"description":"Determine role for permission check","params":[{"type":{"names":["string"]},"description":"[description]","name":"role"}],"returns":[{"type":{"names":["Object"]},"description":"Role API"}],"name":"can","longname":"Permissions#can","kind":"function","memberof":"Permissions","scope":"instance","$longname":"Permissions#can","$kind":"method","$docmaLink":"api/#Permissions#can"},{"comment":"/**\n * Crud actions for permissions\n * @readonly\n * @enum {string}\n */","meta":{"range":[1382,1644],"filename":"permissions.js","lineno":60,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000779","name":"Permissions.CRUD","type":"ObjectExpression","value":"{\"create\":\"create\",\"read\":\"read\",\"update\":\"update\",\"delete\":\"delete\"}","paramnames":[]}},"description":"Crud actions for permissions","readonly":true,"kind":"member","isEnum":true,"type":{"names":["string"]},"name":"CRUD","longname":"Permissions.CRUD","memberof":"Permissions","scope":"static","properties":[{"comment":"/** User allowed to create a resource */","meta":{"range":[1446,1462],"filename":"permissions.js","lineno":62,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000784","name":"create","type":"Literal","value":"create"}},"description":"User allowed to create a resource","name":"create","longname":"Permissions.CRUD.create","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"create"},{"comment":"/** User allowed to delete a resource */","meta":{"range":[1626,1642],"filename":"permissions.js","lineno":71,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000790","name":"delete","type":"Literal","value":"delete"}},"description":"User allowed to delete a resource","name":"delete","longname":"Permissions.CRUD.delete","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"delete"},{"comment":"/** User allowed to read a resource */","meta":{"range":[1506,1518],"filename":"permissions.js","lineno":65,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000786","name":"read","type":"Literal","value":"read"}},"description":"User allowed to read a resource","name":"read","longname":"Permissions.CRUD.read","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"read"},{"comment":"/** User allowed to update a resource */","meta":{"range":[1564,1580],"filename":"permissions.js","lineno":68,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000788","name":"update","type":"Literal","value":"update"}},"description":"User allowed to update a resource","name":"update","longname":"Permissions.CRUD.update","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"update"}],"$longname":"Permissions.CRUD","$kind":"enum","$docmaLink":"api/#Permissions.CRUD","$members":[{"comment":"/** User allowed to create a resource */","meta":{"range":[1446,1462],"filename":"permissions.js","lineno":62,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000784","name":"create","type":"Literal","value":"create"}},"description":"User allowed to create a resource","name":"create","longname":"Permissions.CRUD.create","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"create","$longname":"Permissions.CRUD.create","$kind":"property","$docmaLink":"api/#Permissions.CRUD.create"},{"comment":"/** User allowed to delete a resource */","meta":{"range":[1626,1642],"filename":"permissions.js","lineno":71,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000790","name":"delete","type":"Literal","value":"delete"}},"description":"User allowed to delete a resource","name":"delete","longname":"Permissions.CRUD.delete","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"delete","$longname":"Permissions.CRUD.delete","$kind":"property","$docmaLink":"api/#Permissions.CRUD.delete"},{"comment":"/** User allowed to read a resource */","meta":{"range":[1506,1518],"filename":"permissions.js","lineno":65,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000786","name":"read","type":"Literal","value":"read"}},"description":"User allowed to read a resource","name":"read","longname":"Permissions.CRUD.read","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"read","$longname":"Permissions.CRUD.read","$kind":"property","$docmaLink":"api/#Permissions.CRUD.read"},{"comment":"/** User allowed to update a resource */","meta":{"range":[1564,1580],"filename":"permissions.js","lineno":68,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000788","name":"update","type":"Literal","value":"update"}},"description":"User allowed to update a resource","name":"update","longname":"Permissions.CRUD.update","kind":"member","memberof":"Permissions.CRUD","scope":"static","type":{"names":["string"]},"defaultvalue":"update","$longname":"Permissions.CRUD.update","$kind":"property","$docmaLink":"api/#Permissions.CRUD.update"}]},{"comment":"/**\n * Permission scopes\n * @readonly\n * @enum {string}\n */","meta":{"range":[1707,1851],"filename":"permissions.js","lineno":79,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000793","name":"Permissions.Scope","type":"ObjectExpression","value":"{\"any\":\"any\",\"own\":\"own\"}","paramnames":[]}},"description":"Permission scopes","readonly":true,"kind":"member","isEnum":true,"type":{"names":["string"]},"name":"Scope","longname":"Permissions.Scope","memberof":"Permissions","scope":"static","properties":[{"comment":"/** User allowed to access any resource */","meta":{"range":[1774,1784],"filename":"permissions.js","lineno":81,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000798","name":"any","type":"Literal","value":"any"}},"description":"User allowed to access any resource","name":"any","longname":"Permissions.Scope.any","kind":"member","memberof":"Permissions.Scope","scope":"static","type":{"names":["string"]},"defaultvalue":"any"},{"comment":"/** User allowed to access their own resources */","meta":{"range":[1839,1849],"filename":"permissions.js","lineno":84,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000800","name":"own","type":"Literal","value":"own"}},"description":"User allowed to access their own resources","name":"own","longname":"Permissions.Scope.own","kind":"member","memberof":"Permissions.Scope","scope":"static","type":{"names":["string"]},"defaultvalue":"own"}],"$longname":"Permissions.Scope","$kind":"enum","$docmaLink":"api/#Permissions.Scope","$members":[{"comment":"/** User allowed to access any resource */","meta":{"range":[1774,1784],"filename":"permissions.js","lineno":81,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000798","name":"any","type":"Literal","value":"any"}},"description":"User allowed to access any resource","name":"any","longname":"Permissions.Scope.any","kind":"member","memberof":"Permissions.Scope","scope":"static","type":{"names":["string"]},"defaultvalue":"any","$longname":"Permissions.Scope.any","$kind":"property","$docmaLink":"api/#Permissions.Scope.any"},{"comment":"/** User allowed to access their own resources */","meta":{"range":[1839,1849],"filename":"permissions.js","lineno":84,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000800","name":"own","type":"Literal","value":"own"}},"description":"User allowed to access their own resources","name":"own","longname":"Permissions.Scope.own","kind":"member","memberof":"Permissions.Scope","scope":"static","type":{"names":["string"]},"defaultvalue":"own","$longname":"Permissions.Scope.own","$kind":"property","$docmaLink":"api/#Permissions.Scope.own"}]},{"comment":"/**\n * Array data structure for permissions\n * @typedef {Array<Permissions.CRUD | String | Permissions.Scope>} PermissionTriple\n */","meta":{"filename":"permissions.js","lineno":87,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{}},"description":"Array data structure for permissions","kind":"typedef","name":"PermissionTriple","type":{"names":["Array.<(Permissions.CRUD|String|Permissions.Scope)>"]},"longname":"PermissionTriple","scope":"global","$longname":"PermissionTriple","$kind":"typedef","$docmaLink":"api/#PermissionTriple"},{"comment":"/**\n * The plugin object\n * @typedef {Object} Plugin\n * @property {string?} name\n * @property {string} version\n * @property {string} description\n * @property {string?} author\n */","meta":{"filename":"dashboard-example.js","lineno":12,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{}},"description":"The plugin object","kind":"typedef","name":"Plugin","type":{"names":["Object"]},"properties":[{"type":{"names":["string"]},"nullable":true,"name":"name"},{"type":{"names":["string"]},"name":"version"},{"type":{"names":["string"]},"name":"description"},{"type":{"names":["string"]},"nullable":true,"name":"author"}],"longname":"Plugin","scope":"global","$longname":"Plugin","$kind":"typedef","$docmaLink":"api/#Plugin"},{"comment":"/**\n * The plugin object\n * @typedef {Object} Plugin\n * @property {string?} name\n * @property {string} version\n * @property {string} description\n * @property {string?} author\n */","meta":{"filename":"types.js","lineno":23,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"The plugin object","kind":"typedef","name":"Plugin","type":{"names":["Object"]},"properties":[{"type":{"names":["string"]},"nullable":true,"name":"name"},{"type":{"names":["string"]},"name":"version"},{"type":{"names":["string"]},"name":"description"},{"type":{"names":["string"]},"nullable":true,"name":"author"}],"longname":"Plugin","scope":"global","$longname":"Plugin","$kind":"typedef","$docmaLink":"api/#Plugin"},{"comment":"/**\n * The APP object\n * @typedef {Object} PluginContext\n * @type {object}\n * @property {Object} state\n * @property {Object} logger\n * @property {Object} config\n * @property {Object} dashboard\n * @property {Object} http\n */","meta":{"filename":"dashboard-example.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{}},"description":"The APP object","kind":"typedef","name":"PluginContext","type":{"names":["Object"]},"properties":[{"type":{"names":["Object"]},"name":"state"},{"type":{"names":["Object"]},"name":"logger"},{"type":{"names":["Object"]},"name":"config"},{"type":{"names":["Object"]},"name":"dashboard"},{"type":{"names":["Object"]},"name":"http"}],"longname":"PluginContext","scope":"global","$longname":"PluginContext","$kind":"typedef","$docmaLink":"api/#PluginContext","$members":[{"comment":"/**\n\t\t * UserError type for use in plugins\n\t\t * @type {Class.<AuthError>}\n\t\t */","meta":{"range":[1995,2021],"filename":"PluginContext.js","lineno":97,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009695","name":"this.AuthError","type":"Identifier","value":"AuthError","paramnames":[]}},"description":"UserError type for use in plugins","type":{"names":["Class.<AuthError>"]},"name":"AuthError","longname":"PluginContext#AuthError","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#AuthError","$kind":"property","$docmaLink":"api/#PluginContext#AuthError"},{"comment":"/**\n\t\t * Mission Control config instance\n\t\t * @type {Config}\n\t\t */","meta":{"range":[874,907],"filename":"PluginContext.js","lineno":30,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009608","name":"this.config","type":"MemberExpression","value":"dependencies.config","paramnames":[]}},"description":"Mission Control config instance","type":{"names":["Config"]},"name":"config","longname":"PluginContext#config","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#config","$kind":"property","$docmaLink":"api/#PluginContext#config"},{"comment":"/**\n\t\t * Dashboard API\n\t\t * @type {DynamicDashboard}\n\t\t */","meta":{"range":[1183,1227],"filename":"PluginContext.js","lineno":48,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009636","name":"this.dashboard","type":"MemberExpression","value":"dependencies.http.dashboard","paramnames":[]}},"description":"Dashboard API","type":{"names":["DynamicDashboard"]},"name":"dashboard","longname":"PluginContext#dashboard","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#dashboard","$kind":"property","$docmaLink":"api/#PluginContext#dashboard"},{"comment":"/**\n\t\t * Database API\n\t\t * @type {Database}\n\t\t */","meta":{"range":[964,1001],"filename":"PluginContext.js","lineno":36,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009616","name":"this.database","type":"MemberExpression","value":"dependencies.database","paramnames":[]}},"description":"Database API","type":{"names":["Database"]},"name":"database","longname":"PluginContext#database","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#database","$kind":"property","$docmaLink":"api/#PluginContext#database"},{"comment":"/**\n\t\t * HTTP API\n\t\t * @type {HTTPContext}\n\t\t */","meta":{"range":[1057,1116],"filename":"PluginContext.js","lineno":42,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009624","name":"this.http","type":"CallExpression","value":"","paramnames":[]}},"description":"HTTP API","type":{"names":["HTTPContext"]},"name":"http","longname":"PluginContext#http","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#http","$kind":"property","$docmaLink":"api/#PluginContext#http"},{"comment":"/**\n\t\t * Logger API\n\t\t * @type {Logger}\n\t\t */","meta":{"range":[1473,1531],"filename":"PluginContext.js","lineno":66,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009664","name":"this.logger","type":"CallExpression","value":"","paramnames":[]}},"description":"Logger API","type":{"names":["Logger"]},"name":"logger","longname":"PluginContext#logger","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#logger","$kind":"property","$docmaLink":"api/#PluginContext#logger"},{"comment":"/**\n\t\t * Permissions API\n\t\t * @type {Permissions}\n\t\t */","meta":{"range":[1372,1420],"filename":"PluginContext.js","lineno":60,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009654","name":"this.permissions","type":"MemberExpression","value":"dependencies.auth.permissions","paramnames":[]}},"description":"Permissions API","type":{"names":["Permissions"]},"name":"permissions","longname":"PluginContext#permissions","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#permissions","$kind":"property","$docmaLink":"api/#PluginContext#permissions"},{"comment":"/**\n\t\t  * Sync API\n\t\t  * @type {Sync}\n\t\t  */","meta":{"range":[1280,1309],"filename":"PluginContext.js","lineno":54,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009646","name":"this.sync","type":"MemberExpression","value":"dependencies.sync","paramnames":[]}},"description":"Sync API","type":{"names":["Sync"]},"name":"sync","longname":"PluginContext#sync","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#sync","$kind":"property","$docmaLink":"api/#PluginContext#sync"},{"comment":"/**\n\t\t * UserError type for use in plugins\n\t\t * @type {Class.<UserError>}\n\t\t */","meta":{"range":[1881,1907],"filename":"PluginContext.js","lineno":91,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009689","name":"this.UserError","type":"Identifier","value":"UserError","paramnames":[]}},"description":"UserError type for use in plugins","type":{"names":["Class.<UserError>"]},"name":"UserError","longname":"PluginContext#UserError","kind":"member","memberof":"PluginContext","scope":"instance","$longname":"PluginContext#UserError","$kind":"property","$docmaLink":"api/#PluginContext#UserError"}]},{"comment":"/**\n * The APP object\n * @typedef {Object} PluginContext\n * @type {object}\n * @property {Object} state\n * @property {Object} logger\n * @property {Object} config\n * @property {Object} dashboard\n * @property {Object} http\n */","meta":{"filename":"file-browser.js","lineno":2,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins/internal","code":{}},"description":"The APP object","kind":"typedef","name":"PluginContext","type":{"names":["Object"]},"properties":[{"type":{"names":["Object"]},"name":"state"},{"type":{"names":["Object"]},"name":"logger"},{"type":{"names":["Object"]},"name":"config"},{"type":{"names":["Object"]},"name":"dashboard"},{"type":{"names":["Object"]},"name":"http"}],"longname":"PluginContext","scope":"global","$longname":"PluginContext","$kind":"typedef","$docmaLink":"api/#PluginContext"},{"comment":"/**\n * Plugin API context passed to the plugin init function.\n * \n * This context used to interact with the mission-control system.\n * It contains methods for auth, permissions, http, the sync system, database, etc.\n * \n * The API is supposed to be developer friendly and well documented \n * and that goal should be kept in mind while developing.\n * \n * @class PluginContext\n */","meta":{"filename":"PluginContext.js","lineno":7,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"Plugin API context passed to the plugin init function.\n\nThis context used to interact with the mission-control system.\nIt contains methods for auth, permissions, http, the sync system, database, etc.\n\nThe API is supposed to be developer friendly and well documented \nand that goal should be kept in mind while developing.","kind":"class","name":"PluginContext","longname":"PluginContext","scope":"global","$longname":"PluginContext","$kind":"class","$docmaLink":"api/#PluginContext","$constructor":{"comment":"/**\n\t * Create a new PluginContext.\n\t * \n\t * @param {string}             name         - The name of the plugin.\n\t * @param {PluginDependencies} dependencies - The context dependencies (modules)\n\t */","meta":{"range":[769,2025],"filename":"PluginContext.js","lineno":25,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009601","name":"PluginContext","type":"MethodDefinition","paramnames":["name","dependencies"]},"vars":{"":null}},"description":"Create a new PluginContext.","params":[{"type":{"names":["string"]},"description":"The name of the plugin.","name":"name"},{"type":{"names":["PluginDependencies"]},"description":"The context dependencies (modules)","name":"dependencies"}],"name":"PluginContext","longname":"PluginContext","kind":"class","scope":"global","$longname":"PluginContext","$kind":"constructor","$docmaLink":"api/#PluginContext"}},{"comment":"/**\n\t\t\t * A Joi instance\n\t\t\t * @type {Joi}\n\t\t\t */","meta":{"range":[1787,1790],"filename":"PluginContext.js","lineno":84,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009686","name":"Joi","type":"Identifier","value":"Joi"}},"description":"A Joi instance","type":{"names":["Joi"]},"name":"Joi","longname":"PluginContext#helpers.Joi","kind":"member","memberof":"PluginContext#helpers","scope":"static","$longname":"PluginContext#helpers.Joi","$kind":"property","$docmaLink":"api/#PluginContext#helpers.Joi"},{"comment":"/**\n * Module dependency injection for plugins\n * @typedef   {Object}   PluginDependencies\n * @property  {Auth}     auth     - The Auth module\n * @property  {HTTP}     http     - The HTTP module\n * @property  {Sync}     sync     - The Sync instance\n * @property  {Config}   config   - The Mission Control config\n * @property  {Logging}  logging  - The logging module\n * @property  {Database} database - The database instance\n */","meta":{"filename":"types.js","lineno":32,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"Module dependency injection for plugins","kind":"typedef","name":"PluginDependencies","type":{"names":["Object"]},"properties":[{"type":{"names":["Auth"]},"description":"The Auth module","name":"auth"},{"type":{"names":["HTTP"]},"description":"The HTTP module","name":"http"},{"type":{"names":["Sync"]},"description":"The Sync instance","name":"sync"},{"type":{"names":["Config"]},"description":"The Mission Control config","name":"config"},{"type":{"names":["Logging"]},"description":"The logging module","name":"logging"},{"type":{"names":["Database"]},"description":"The database instance","name":"database"}],"longname":"PluginDependencies","scope":"global","$longname":"PluginDependencies","$kind":"typedef","$docmaLink":"api/#PluginDependencies"},{"comment":"/**\n\t\t * Helper functions and objects\n\t\t * @typedef {Object} PluginHelpers\n\t\t */","meta":{"filename":"PluginContext.js","lineno":68,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"Helper functions and objects","kind":"typedef","name":"PluginHelpers","type":{"names":["Object"]},"longname":"PluginHelpers","scope":"global","$longname":"PluginHelpers","$kind":"typedef","$docmaLink":"api/#PluginHelpers"},{"comment":"/**\n * Plugin manager that handles plugin loading and initialization.\n * @emits progress\n */","meta":{"range":[365,3888],"filename":"Plugins.js","lineno":15,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009749","name":"Plugins","type":"ClassDeclaration","paramnames":["modules"]}},"name":"Plugins","longname":"Plugins","kind":"class","classdesc":"Plugin manager that handles plugin loading and initialization.","fires":["event:progress"],"scope":"global","description":"Create the plugin manager without loading plugins just yet.","params":[{"type":{"names":["PluginDependencies"]},"description":"Modules Dependency Injection","name":"modules"}],"$longname":"Plugins","$kind":"class","$docmaLink":"api/#Plugins","$constructor":{"comment":"/**\n\t * Create the plugin manager without loading plugins just yet.\n\t * \n\t * @param  {PluginDependencies} modules - Modules Dependency Injection \n\t */","meta":{"range":[555,908],"filename":"Plugins.js","lineno":21,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{"id":"astnode100009753","name":"Plugins","type":"MethodDefinition","paramnames":["modules"]},"vars":{"":null}},"description":"Create the plugin manager without loading plugins just yet.","params":[{"type":{"names":["PluginDependencies"]},"description":"Modules Dependency Injection","name":"modules"}],"name":"Plugins","longname":"Plugins","kind":"class","scope":"global","undocumented":true,"$longname":"Plugins","$kind":"constructor","$docmaLink":"api/#Plugins"}},{"comment":"/**\n * The HTTP context object\n * @typedef {express.Router} Router\n * @type {object}\n * @property {Object} state\n * @property {Object} logger\n * @property {Object} config\n * @property {Object} dashboard\n * @property {Object} http\n */","meta":{"filename":"types.js","lineno":2,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"The HTTP context object","kind":"typedef","name":"Router","type":{"names":["express.Router"]},"properties":[{"type":{"names":["Object"]},"name":"state"},{"type":{"names":["Object"]},"name":"logger"},{"type":{"names":["Object"]},"name":"config"},{"type":{"names":["Object"]},"name":"dashboard"},{"type":{"names":["Object"]},"name":"http"}],"longname":"Router","scope":"global","$longname":"Router","$kind":"typedef","$docmaLink":"api/#Router"},{"comment":"/**\n * Sync engine service class\n */","meta":{"range":[1176,12535],"filename":"Service.js","lineno":48,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011046","name":"Service","type":"ClassDeclaration","paramnames":["name","initialState","dependencies"]}},"name":"Service","longname":"Service","kind":"class","classdesc":"Sync engine service class","scope":"global","description":"A Sync engine service","params":[{"type":{"names":["string"]},"description":"Service name / identifier","name":"name"},{"type":{"names":["object"]},"description":"Initial service state","name":"initialState"},{"type":{"names":["DependencyInjectionModules"]},"description":"Dependency Injection","name":"dependencies"}],"$longname":"Service","$kind":"class","$docmaLink":"api/#Service","$constructor":{"comment":"/**\n\t * A Sync engine service\n\t * @param  {string}                     name         - Service name / identifier\n\t * @param  {object}                     initialState - Initial service state\n\t * @param  {DependencyInjectionModules} dependencies - Dependency Injection\n\t */","meta":{"range":[1466,2353],"filename":"Service.js","lineno":55,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011049","name":"Service","type":"MethodDefinition","paramnames":["name","initialState","dependencies"]},"vars":{"":null}},"description":"A Sync engine service","params":[{"type":{"names":["string"]},"description":"Service name / identifier","name":"name"},{"type":{"names":["object"]},"description":"Initial service state","name":"initialState"},{"type":{"names":["DependencyInjectionModules"]},"description":"Dependency Injection","name":"dependencies"}],"name":"Service","longname":"Service","kind":"class","scope":"global","undocumented":true,"$longname":"Service","$kind":"constructor","$docmaLink":"api/#Service"}},{"comment":"/**\n\t * Create new action\n\t * @param  {string} name                          Action name / identifier\n\t * @param  {object | undefined} options           Action handler options\n\t * @param  {ActionHandler | undefined}                [options.handler] The action handler\n\t * @param  {object | undefined}                       [options.schema]  The Joi schema\n\t * @param  {Array.<PermissionTriple> | undefined}     [options.permissions]  The Joi schema\n\t * @return {ActionBuilder}                        The action builder helpers\n\t */","meta":{"range":[3227,6639],"filename":"Service.js","lineno":133,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011147","name":"Service#action","type":"MethodDefinition","paramnames":["name","options"]},"vars":{"":null}},"description":"Create new action","params":[{"type":{"names":["string"]},"description":"Action name / identifier","name":"name"},{"type":{"names":["object","undefined"]},"description":"Action handler options","name":"options"},{"type":{"names":["ActionHandler","undefined"]},"optional":true,"description":"The action handler","name":"options.handler"},{"type":{"names":["object","undefined"]},"optional":true,"description":"The Joi schema","name":"options.schema"},{"type":{"names":["Array.<PermissionTriple>","undefined"]},"optional":true,"description":"The Joi schema","name":"options.permissions"}],"returns":[{"type":{"names":["ActionBuilder"]},"description":"The action builder helpers"}],"name":"action","longname":"Service#action","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#action","$kind":"method","$docmaLink":"api/#Service#action"},{"comment":"/**\n\t * Add a filter function to the state filter\n\t *\n\t * Filters will be chained! The first one you set will be the first one called.\n\t * So keep in mind, that later filter functions receive previously filtered data.\n\t *\n\t * @see {Service~filter}\n\t * @param  {Service~filterFn} fn - The filter function\n\t * @return {Service}           - Service instance for chaining\n\t */","meta":{"range":[11896,11955],"filename":"Service.js","lineno":467,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011772","name":"Service#addFilter","type":"MethodDefinition","paramnames":["fn"]},"vars":{"":null}},"description":"Add a filter function to the state filter\n\nFilters will be chained! The first one you set will be the first one called.\nSo keep in mind, that later filter functions receive previously filtered data.","see":["{Service~filter}"],"params":[{"type":{"names":["Service~filterFn"]},"description":"The filter function","name":"fn"}],"returns":[{"type":{"names":["Service"]},"description":"- Service instance for chaining"}],"name":"addFilter","longname":"Service#addFilter","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#addFilter","$kind":"method","$docmaLink":"api/#Service#addFilter"},{"comment":"/**\n\t\t * Injected dependencies\n\t\t *\n\t\t * Used in action context as well\n\t\t * \n\t\t * @type {DependencyInjectionModules}\n\t\t */","meta":{"range":[2298,2330],"filename":"Service.js","lineno":102,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011106","name":"this.dependencies","type":"Identifier","value":"dependencies","paramnames":[]}},"description":"Injected dependencies\n\nUsed in action context as well","type":{"names":["DependencyInjectionModules"]},"name":"dependencies","longname":"Service#dependencies","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#dependencies","$kind":"property","$docmaLink":"api/#Service#dependencies"},{"comment":"/**\n\t\t * Internal event emitter\n\t\t * @type {EventEmitter}\n\t\t */","meta":{"range":[2014,2047],"filename":"Service.js","lineno":87,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011085","name":"this.emitter","type":"NewExpression","value":"","paramnames":[]}},"description":"Internal event emitter","type":{"names":["EventEmitter"]},"name":"emitter","longname":"Service#emitter","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#emitter","$kind":"property","$docmaLink":"api/#Service#emitter"},{"comment":"/**\n\t * Run added state filter functions with a given state\n\t *\n\t * This allows you to:\n\t * \t- user specific data\n\t * \t- filter state based on permissions\n\t * \t- filter state according to your needs\n\t *\n\t * @see {Service~addFilter}\n\t * @param  {object} state - The state to filter\n\t * @param  {User}   user  - The user the state should be filtered for\n\t * @return {object}       - The filtered state\n\t */","meta":{"range":[12364,12533],"filename":"Service.js","lineno":486,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011787","name":"Service#filter","type":"MethodDefinition","paramnames":["state","user"]},"vars":{"":null}},"description":"Run added state filter functions with a given state\n\nThis allows you to:\n\t- user specific data\n\t- filter state based on permissions\n\t- filter state according to your needs","see":["{Service~addFilter}"],"params":[{"type":{"names":["object"]},"description":"The state to filter","name":"state"},{"type":{"names":["User"]},"description":"The user the state should be filtered for","name":"user"}],"returns":[{"type":{"names":["object"]},"description":"- The filtered state"}],"name":"filter","longname":"Service#filter","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#filter","$kind":"method","$docmaLink":"api/#Service#filter"},{"comment":"/**\n\t * This callback is displayed as part of the Requester class.\n\t * @callback Service~filterFn\n\t * @param {number} responseCode\n\t * @param {string} responseMessage\n\t */","meta":{"filename":"Service.js","lineno":450,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{}},"description":"This callback is displayed as part of the Requester class.","kind":"typedef","name":"filterFn","type":{"names":["function"]},"params":[{"type":{"names":["number"]},"name":"responseCode"},{"type":{"names":["string"]},"name":"responseMessage"}],"memberof":"Service","longname":"Service~filterFn","scope":"inner","$longname":"Service~filterFn","$kind":"callback","$docmaLink":"api/#Service~filterFn"},{"comment":"/**\n\t\t * List of filters to filter state by before sync\n\t\t * @type {Array.<Service~filterFn>}\n\t\t */","meta":{"range":[1926,1943],"filename":"Service.js","lineno":81,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011079","name":"this.filters","type":"ArrayExpression","value":"[]","paramnames":[]}},"description":"List of filters to filter state by before sync","type":{"names":["Array.<Service~filterFn>"]},"name":"filters","longname":"Service#filters","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#filters","$kind":"property","$docmaLink":"api/#Service#filters"},{"comment":"/**\n\t\t * The action handlers and metadata\n\t\t * @type {HandlerData}\n\t\t */","meta":{"range":[1801,1819],"filename":"Service.js","lineno":75,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011073","name":"this.handlers","type":"ObjectExpression","value":"{}","paramnames":[]}},"description":"The action handlers and metadata","type":{"names":["HandlerData"]},"name":"handlers","longname":"Service#handlers","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#handlers","$kind":"property","$docmaLink":"api/#Service#handlers"},{"comment":"/**\n\t\t\t * Action handler\n\t\t\t * @type {ActionHandler}\n\t\t\t */","meta":{"range":[4040,4064],"filename":"Service.js","lineno":172,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011227","name":"handler","type":"MemberExpression","value":"options.handler"}},"description":"Action handler","type":{"names":["ActionHandler"]},"name":"handler","longname":"Service#handlers[undefined].handler","kind":"member","memberof":"Service#handlers[undefined]","scope":"static","$longname":"Service#handlers[undefined].Service#handlers[undefined].handler","$kind":"property","$docmaLink":"api/#Service#handlers[undefined].Service#handlers[undefined].handler"},{"comment":"/**\n\t\t\t * Required permission triples\n\t\t\t * @type {Array.<PermissionTriple>}\n\t\t\t */","meta":{"range":[3939,3971],"filename":"Service.js","lineno":166,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011223","name":"permissions","type":"MemberExpression","value":"options.permissions"}},"description":"Required permission triples","type":{"names":["Array.<PermissionTriple>"]},"name":"permissions","longname":"Service#handlers[undefined].permissions","kind":"member","memberof":"Service#handlers[undefined]","scope":"static","$longname":"Service#handlers[undefined].Service#handlers[undefined].permissions","$kind":"property","$docmaLink":"api/#Service#handlers[undefined].Service#handlers[undefined].permissions"},{"comment":"/**\n\t\t\t * Joi schema\n\t\t\t * @type {object}\n\t\t\t */","meta":{"range":[3824,3846],"filename":"Service.js","lineno":160,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011219","name":"schema","type":"MemberExpression","value":"options.schema"}},"description":"Joi schema","type":{"names":["object"]},"name":"schema","longname":"Service#handlers[undefined].schema","kind":"member","memberof":"Service#handlers[undefined]","scope":"static","$longname":"Service#handlers[undefined].Service#handlers[undefined].schema","$kind":"property","$docmaLink":"api/#Service#handlers[undefined].Service#handlers[undefined].schema"},{"comment":"/**\n\t * Run action handler if it exists\n\t * \n\t * @param  {String} name                     - Action name / identifier\n\t * @param  {Object} data                     - Action data object\n\t * @param  {User}   [user = User.systemUser] - Role of user to validate permissions for\n\t *\n\t * @example await notificationsService.handleAction('create', { /* ... *\\/ }, 'user');\n\t */","meta":{"range":[7014,10647],"filename":"Service.js","lineno":270,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011387","name":"Service#invokeAction","type":"MethodDefinition","paramnames":["name","data","user"]},"vars":{"":null}},"description":"Run action handler if it exists","params":[{"type":{"names":["String"]},"description":"Action name / identifier","name":"name"},{"type":{"names":["Object"]},"description":"Action data object","name":"data"},{"type":{"names":["User"]},"optional":true,"defaultvalue":"User.systemUser","description":"Role of user to validate permissions for","name":"user"}],"examples":["await notificationsService.handleAction('create', { /* ... *\\/ }, 'user');"],"name":"invokeAction","longname":"Service#invokeAction","kind":"function","memberof":"Service","scope":"instance","async":true,"$longname":"Service#invokeAction","$kind":"method","$docmaLink":"api/#Service#invokeAction"},{"comment":"/**\n\t\t * Service logger\n\t\t * @type {Logger}\n\t\t */","meta":{"range":[2104,2167],"filename":"Service.js","lineno":93,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011092","name":"this.logger","type":"CallExpression","value":"","paramnames":[]}},"description":"Service logger","type":{"names":["Logger"]},"name":"logger","longname":"Service#logger","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#logger","$kind":"property","$docmaLink":"api/#Service#logger"},{"comment":"/**\n\t\t * The service name\n\t\t * @type {string}\n\t\t */","meta":{"range":[1570,1586],"filename":"Service.js","lineno":60,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011057","name":"this.name","type":"Identifier","value":"name","paramnames":[]}},"description":"The service name","type":{"names":["string"]},"name":"name","longname":"Service#name","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#name","$kind":"property","$docmaLink":"api/#Service#name"},{"comment":"/**\n\t * Run a handler when an action has been successfully called\n\t * @param  {string} actionName The action name to listen for\n\t * @param  {Function} handler  Callback\n\t * @return {Function}          Function to unsubscribe and cleanup\n\t */","meta":{"range":[11187,11345],"filename":"Service.js","lineno":444,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011741","name":"Service#on","type":"MethodDefinition","paramnames":["actionName","handler"]},"vars":{"":null}},"description":"Run a handler when an action has been successfully called","params":[{"type":{"names":["string"]},"description":"The action name to listen for","name":"actionName"},{"type":{"names":["function"]},"description":"Callback","name":"handler"}],"returns":[{"type":{"names":["function"]},"description":"Function to unsubscribe and cleanup"}],"name":"on","longname":"Service#on","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#on","$kind":"method","$docmaLink":"api/#Service#on"},{"comment":"/**\n\t * Set the state and merge the new data\n\t *\n\t * When setting state with this function, state will me merged with Object.assign\n\t * \n\t * @param {object} newState New state\n\t * @emits state\n\t */","meta":{"range":[2555,2691],"filename":"Service.js","lineno":115,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011115","name":"Service#setState","type":"MethodDefinition","paramnames":["newState"]},"vars":{"":null}},"description":"Set the state and merge the new data\n\nWhen setting state with this function, state will me merged with Object.assign","params":[{"type":{"names":["object"]},"description":"New state","name":"newState"}],"fires":["event:state"],"name":"setState","longname":"Service#setState","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#setState","$kind":"method","$docmaLink":"api/#Service#setState"},{"comment":"/**\n\t\t * The service internal state\n\t\t *\n\t\t * @readonly\n\t\t * \n\t\t * @type {object}\n\t\t */","meta":{"range":[1681,1721],"filename":"Service.js","lineno":69,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011063","name":"this.state","type":"CallExpression","value":"","paramnames":[]}},"description":"The service internal state","readonly":true,"type":{"names":["object"]},"name":"state","longname":"Service#state","kind":"member","memberof":"Service","scope":"instance","$longname":"Service#state","$kind":"property","$docmaLink":"api/#Service#state"},{"comment":"/**\n\t * Subscribe to service state changes\n\t * @param  {Function} handler State change handler\n\t * @return {Function}         Function to unsubscribe and cleanup\n\t */","meta":{"range":[10818,10941],"filename":"Service.js","lineno":432,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011717","name":"Service#subscribe","type":"MethodDefinition","paramnames":["handler"]},"vars":{"":null}},"description":"Subscribe to service state changes","params":[{"type":{"names":["function"]},"description":"State change handler","name":"handler"}],"returns":[{"type":{"names":["function"]},"description":"Function to unsubscribe and cleanup"}],"name":"subscribe","longname":"Service#subscribe","kind":"function","memberof":"Service","scope":"instance","$longname":"Service#subscribe","$kind":"method","$docmaLink":"api/#Service#subscribe"},{"comment":"/**\n\t\t * Consume a service  listen to updates and invoke actions\n\t\t * @typedef {ServiceAPI}\n\t\t */","meta":{"range":[3693,4191],"filename":"Sync.js","lineno":121,"columnno":8,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011955","name":"serviceAPI","type":"ObjectExpression","value":"{\"state\":\"\",\"invoke\":\"\",\"subscribe\":\"\",\"filter\":\"\"}"}},"description":"Consume a service  listen to updates and invoke actions","kind":"typedef","type":{"names":["ServiceAPI"]},"name":"serviceAPI","longname":"<anonymous>~serviceAPI","memberof":"<anonymous>","scope":"inner","params":[],"$longname":"serviceAPI","$kind":"typedef","$docmaLink":"api/#serviceAPI","$members":[{"comment":"/**\n\t\t\t * Filter state based on custom rules\n\t\t\t * @type {Service~filter} \n\t\t\t */","meta":{"range":[4165,4187],"filename":"Sync.js","lineno":146,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011973","name":"filter","type":"MemberExpression","value":"service.filter"}},"description":"Filter state based on custom rules","type":{"names":["Service~filter"]},"name":"filter","longname":"<anonymous>~serviceAPI.filter","kind":"member","memberof":"<anonymous>~serviceAPI","scope":"static","$longname":"serviceAPI.filter","$kind":"property","$docmaLink":"api/#serviceAPI.filter"},{"comment":"/**\n\t\t\t * Invoke an action on the service\n\t\t\t * @type {Service~handleAction} \n\t\t\t */","meta":{"range":[3924,3952],"filename":"Sync.js","lineno":134,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011965","name":"invoke","type":"MemberExpression","value":"service.invokeAction"}},"description":"Invoke an action on the service","type":{"names":["Service~handleAction"]},"name":"invoke","longname":"<anonymous>~serviceAPI.invoke","kind":"member","memberof":"<anonymous>~serviceAPI","scope":"static","$longname":"serviceAPI.invoke","$kind":"property","$docmaLink":"api/#serviceAPI.invoke"},{"comment":"/** \n\t\t\t * Get the current service state\n\t\t\t * @return {object} \n\t\t\t */","meta":{"range":[3786,3830],"filename":"Sync.js","lineno":126,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011958","name":"state","paramnames":[]}},"description":"Get the current service state","returns":[{"type":{"names":["object"]}}],"name":"state","longname":"<anonymous>~serviceAPI.state","kind":"member","memberof":"<anonymous>~serviceAPI","scope":"static","$longname":"serviceAPI.state","$kind":"property","$docmaLink":"api/#serviceAPI.state"},{"comment":"/**\n\t\t\t * Subscribe to service state changes\n\t\t\t * @type {Service~subscribe} \n\t\t\t */","meta":{"range":[4046,4074],"filename":"Sync.js","lineno":140,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011969","name":"subscribe","type":"MemberExpression","value":"service.subscribe"}},"description":"Subscribe to service state changes","type":{"names":["Service~subscribe"]},"name":"subscribe","longname":"<anonymous>~serviceAPI.subscribe","kind":"member","memberof":"<anonymous>~serviceAPI","scope":"static","$longname":"serviceAPI.subscribe","$kind":"property","$docmaLink":"api/#serviceAPI.subscribe"}]},{"comment":"/**\n\t\t * Context object with helpers for socket handlers\n\t\t * @typedef {SocketContext}\n\t\t */","meta":{"range":[1586,2743],"filename":"index.js","lineno":50,"columnno":8,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010558","name":"socketContext","type":"ObjectExpression","value":"{\"on\":\"\",\"unsafeOn\":\"\",\"composeErrorResponse\":\"\",\"tokens\":\"\",\"users\":\"\",\"sync\":\"\",\"logger\":\"\"}"}},"description":"Context object with helpers for socket handlers","kind":"typedef","type":{"names":["SocketContext"]},"name":"socketContext","longname":"<anonymous>~socketContext","memberof":"<anonymous>","scope":"inner","params":[],"$longname":"socketContext","$kind":"typedef","$docmaLink":"api/#socketContext","$members":[{"comment":"/**\n\t\t\t * Compose an error response out of an error\n\t\t\t * @type {ErrorResponse~compose}\n\t\t\t */","meta":{"range":[2406,2426],"filename":"index.js","lineno":74,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010575","name":"composeErrorResponse","type":"Identifier","value":"composeErrorResponse"}},"description":"Compose an error response out of an error","type":{"names":["ErrorResponse~compose"]},"name":"composeErrorResponse","longname":"<anonymous>~socketContext.composeErrorResponse","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.composeErrorResponse","$kind":"property","$docmaLink":"api/#socketContext.composeErrorResponse"},{"comment":"/**\n\t\t\t * Logger module\n\t\t\t * @type {Logger}\n\t\t\t */","meta":{"range":[2733,2739],"filename":"index.js","lineno":98,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010589","name":"logger","type":"Identifier","value":"logger"}},"description":"Logger module","type":{"names":["Logger"]},"name":"logger","longname":"<anonymous>~socketContext.logger","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.logger","$kind":"property","$docmaLink":"api/#socketContext.logger"},{"comment":"/**\n\t\t\t * Listen for socket events safely, with error handling already built around it.\n\t\t\t *\n\t\t\t * This allows us to be able to simply throw errors and have them be handled gracefully.\n\t\t\t *\n\t\t\t * @example on('test-event', data => ({ success: data.test > 30 }));\n\t\t\t * @type {SocketHandlerFactory}\n\t\t\t */","meta":{"range":[1916,1990],"filename":"index.js","lineno":59,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010561","name":"on","type":"CallExpression","value":""}},"description":"Listen for socket events safely, with error handling already built around it.\n\nThis allows us to be able to simply throw errors and have them be handled gracefully.","examples":["on('test-event', data => ({ success: data.test > 30 }));"],"type":{"names":["SocketHandlerFactory"]},"name":"on","longname":"<anonymous>~socketContext.on","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.on","$kind":"property","$docmaLink":"api/#socketContext.on"},{"comment":"/**\n\t\t\t * Sync module\n\t\t\t * @type {Sync}\n\t\t\t */","meta":{"range":[2668,2672],"filename":"index.js","lineno":92,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010587","name":"sync","type":"Identifier","value":"sync"}},"description":"Sync module","type":{"names":["Sync"]},"name":"sync","longname":"<anonymous>~socketContext.sync","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.sync","$kind":"property","$docmaLink":"api/#socketContext.sync"},{"comment":"/**\n\t\t\t * Permissions\n\t\t\t * @type {Permissions}\n\t\t\t */","meta":{"range":[2490,2509],"filename":"index.js","lineno":80,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010577","name":"tokens","type":"MemberExpression","value":"auth.tokens"}},"description":"Permissions","type":{"names":["Permissions"]},"name":"tokens","longname":"<anonymous>~socketContext.tokens","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.tokens","$kind":"property","$docmaLink":"api/#socketContext.tokens"},{"comment":"/**\n\t\t\t * Listen for socket events with just error handling. Authentication is disabled!\n\t\t\t *\n\t\t\t * Use with caution, socket.user is not guaranteed in your request handler.\n\t\t\t *\n\t\t\t * @type {SocketHandlerFactory}\n\t\t\t */","meta":{"range":[2221,2302],"filename":"index.js","lineno":68,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010568","name":"unsafeOn","type":"CallExpression","value":""}},"description":"Listen for socket events with just error handling. Authentication is disabled!\n\nUse with caution, socket.user is not guaranteed in your request handler.","type":{"names":["SocketHandlerFactory"]},"name":"unsafeOn","longname":"<anonymous>~socketContext.unsafeOn","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.unsafeOn","$kind":"property","$docmaLink":"api/#socketContext.unsafeOn"},{"comment":"/**\n\t\t\t * Users database API\n\t\t\t * @type {Database~UsersAPI}\n\t\t\t */","meta":{"range":[2586,2611],"filename":"index.js","lineno":86,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/socket","code":{"id":"astnode100010581","name":"users","type":"MemberExpression","value":"database.api.users"}},"description":"Users database API","type":{"names":["Database~UsersAPI"]},"name":"users","longname":"<anonymous>~socketContext.users","kind":"member","memberof":"<anonymous>~socketContext","scope":"static","$longname":"socketContext.users","$kind":"property","$docmaLink":"api/#socketContext.users"}]},{"comment":"/**\n\t * Register socket event handler\n\t * @callback SocketHandlerFactory\n\t * @param  {string} event   - The event name\n\t * @param  {SocketEventHandler} handler - The event handler\n\t */","meta":{"filename":"socket-request-handler.js","lineno":26,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/socket","code":{}},"description":"Register socket event handler","kind":"typedef","name":"SocketHandlerFactory","type":{"names":["function"]},"params":[{"type":{"names":["string"]},"description":"The event name","name":"event"},{"type":{"names":["SocketEventHandler"]},"description":"The event handler","name":"handler"}],"longname":"SocketHandlerFactory","scope":"global","$longname":"SocketHandlerFactory","$kind":"callback","$docmaLink":"api/#SocketHandlerFactory"},{"comment":"/**\n\t\t\t\t * Service state object\n\t\t\t\t *\n\t\t\t\t * The state is wrapped in a proxy to detect changes.\n\t\t\t\t * These changes are queued up and once the app handler finished will be flushed\n\t\t\t\t * to listeners.\n\t\t\t\t *\n\t\t\t\t * Changes can also be flushed manually using `state.flush()`.\n\t\t\t\t * \n\t\t\t\t * @type {object}\n\t\t\t\t */","meta":{"range":[8572,8617],"filename":"Service.js","lineno":339,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011499","name":"state","paramnames":[]}},"description":"Service state object\n\nThe state is wrapped in a proxy to detect changes.\nThese changes are queued up and once the app handler finished will be flushed\nto listeners.\n\nChanges can also be flushed manually using `state.flush()`.","type":{"names":["object"]},"name":"state","longname":"state","kind":"member","scope":"global","$longname":"state","$kind":"property","$docmaLink":"api/#state"},{"comment":"/**\n * Sync is the main thing\n */","meta":{"range":[2374,5592],"filename":"Sync.js","lineno":66,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011859","name":"Sync","type":"ClassDeclaration","paramnames":["dependencies"]}},"name":"Sync","longname":"Sync","kind":"class","classdesc":"Sync is the main thing","scope":"global","description":"Create a new sync engine","params":[{"type":{"names":["DependencyInjectionModules"]},"description":"Dependency injection with internal modules (like permissions)","name":"dependencies"}],"$longname":"Sync","$kind":"class","$docmaLink":"api/#Sync","$constructor":{"comment":"/**\n\t * Create a new sync engine\n\t * @param {DependencyInjectionModules} dependencies - Dependency injection with internal modules (like permissions)                    \n\t */","meta":{"range":[2564,2932],"filename":"Sync.js","lineno":71,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011862","name":"Sync","type":"MethodDefinition","paramnames":["dependencies"]},"vars":{"":null}},"description":"Create a new sync engine","params":[{"type":{"names":["DependencyInjectionModules"]},"description":"Dependency injection with internal modules (like permissions)","name":"dependencies"}],"name":"Sync","longname":"Sync","kind":"class","scope":"global","undocumented":true,"$longname":"Sync","$kind":"constructor","$docmaLink":"api/#Sync"}},{"comment":"/**\n\t * Create a service and add it to Sync\n\t * \n\t * @param  {string} name Service name / identifier\n\t * @return {Service}     The service\n\t */","meta":{"range":[3080,3320],"filename":"Sync.js","lineno":95,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011883","name":"Sync#createService","type":"MethodDefinition","paramnames":["name","initialState"]},"vars":{"":null}},"description":"Create a service and add it to Sync","params":[{"type":{"names":["string"]},"description":"Service name / identifier","name":"name"}],"returns":[{"type":{"names":["Service"]},"description":"The service"}],"name":"createService","longname":"Sync#createService","kind":"function","memberof":"Sync","scope":"instance","$longname":"Sync#createService","$kind":"method","$docmaLink":"api/#Sync#createService"},{"comment":"/**\n\t\t * Dependency injection with internal modules like permissions\n\t\t * @type {DependencyInjectionModules}\n\t\t */","meta":{"range":[2877,2909],"filename":"Sync.js","lineno":84,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011874","name":"this.dependencies","type":"Identifier","value":"dependencies","paramnames":[]}},"description":"Dependency injection with internal modules like permissions","type":{"names":["DependencyInjectionModules"]},"name":"dependencies","longname":"Sync#dependencies","kind":"member","memberof":"Sync","scope":"instance","$longname":"Sync#dependencies","$kind":"property","$docmaLink":"api/#Sync#dependencies"},{"comment":"/**\n\t * Invoke an action on a given service\n\t *\n\t * @param   {string} serviceName                  - The service name / identifier\n\t * @param   {string} action                   - The action name / identifier\n\t * @param   {object} data                     - Action data\n\t * @param   {User}   [user = User.systemUser] - The user role\n\t * @returns {object}                          - The data returned by the action\n\t */","meta":{"range":[4640,5193],"filename":"Sync.js","lineno":161,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011979","name":"Sync#invokeAction","type":"MethodDefinition","paramnames":["serviceName","action","data","user"]},"vars":{"":null}},"description":"Invoke an action on a given service","params":[{"type":{"names":["string"]},"description":"The service name / identifier","name":"serviceName"},{"type":{"names":["string"]},"description":"The action name / identifier","name":"action"},{"type":{"names":["object"]},"description":"Action data","name":"data"},{"type":{"names":["User"]},"optional":true,"defaultvalue":"User.systemUser","description":"The user role","name":"user"}],"returns":[{"type":{"names":["object"]},"description":"- The data returned by the action"}],"name":"invokeAction","longname":"Sync#invokeAction","kind":"function","memberof":"Sync","scope":"instance","async":true,"$longname":"Sync#invokeAction","$kind":"method","$docmaLink":"api/#Sync#invokeAction"},{"comment":"/**\n\t * Get a service\n\t * @param  {string}  name  Service name / identifier\n\t * @return {ServiceAPI}   \n\t */","meta":{"range":[3433,4217],"filename":"Sync.js","lineno":110,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011925","name":"Sync#service","type":"MethodDefinition","paramnames":["name"]},"vars":{"":null}},"description":"Get a service","params":[{"type":{"names":["string"]},"description":"Service name / identifier","name":"name"}],"returns":[{"type":{"names":["ServiceAPI"]}}],"name":"service","longname":"Sync#service","kind":"function","memberof":"Sync","scope":"instance","$longname":"Sync#service","$kind":"method","$docmaLink":"api/#Sync#service"},{"comment":"/**\n\t\t * The services that sync manages\n\t\t * @type {Object.<string, Service>}\n\t\t */","meta":{"range":[2680,2753],"filename":"Sync.js","lineno":76,"columnno":2,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011868","name":"this.services","type":"ObjectExpression","value":"{}","paramnames":[]}},"description":"The services that sync manages","type":{"names":["Object.<string, Service>"]},"name":"services","longname":"Sync#services","kind":"member","memberof":"Sync","scope":"instance","$longname":"Sync#services","$kind":"property","$docmaLink":"api/#Sync#services"},{"comment":"/**\n\t * Get the state of all services\n\t * \n\t * @example sync.state.notifications === sync.service('notifications').state;\n\t * \n\t * @return {object}                 State object with service names as keys or state for service with service name.\n\t */","meta":{"range":[5446,5590],"filename":"Sync.js","lineno":185,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100012020","name":"Sync#state","type":"MethodDefinition","paramnames":[]},"vars":{"":null}},"description":"Get the state of all services","examples":["sync.state.notifications === sync.service('notifications').state;"],"returns":[{"type":{"names":["object"]},"description":"State object with service names as keys or state for service with service name."}],"name":"state","longname":"Sync#state","kind":"member","memberof":"Sync","scope":"instance","params":[],"$longname":"Sync#state","$kind":"property","$docmaLink":"api/#Sync#state"},{"comment":"/** \n\t * System user is meant for core and plugins invoking actions.\n\t *\n\t * We have this so the authorization system always has an authenticated \"user\" to deal with\n\t * and we don't need to check for \"do we have a user\" all the time.\n\t */","meta":{"range":[1764,1780],"filename":"User.js","lineno":75,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006137","name":"system","type":"Literal","value":"system"}},"description":"System user is meant for core and plugins invoking actions.\n\nWe have this so the authorization system always has an authenticated \"user\" to deal with\nand we don't need to check for \"do we have a user\" all the time.","name":"system","longname":"system","kind":"member","scope":"global","$longname":"system","$kind":"property","$docmaLink":"api/#system"},{"comment":"","meta":{"range":[235,323],"filename":"tokens.js","lineno":9,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000847","name":"Tokens","type":"MethodDefinition","paramnames":["sessionSecret"]},"vars":{"":null}},"undocumented":true,"name":"Tokens","longname":"Tokens","kind":"class","scope":"global","params":[],"$longname":"Tokens","$kind":"constructor","$docmaLink":"api/#Tokens"},{"comment":"/**\n * The schema of JWT tokens to validate content against\n * @type {Joi~Schema}\n */","meta":{"range":[1062,1237],"filename":"tokens.js","lineno":51,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{"id":"astnode100000958","name":"Tokens.tokenSchema","type":"CallExpression","value":"","paramnames":[]}},"description":"The schema of JWT tokens to validate content against","type":{"names":["Joi~Schema"]},"name":"tokenSchema","longname":"Tokens.tokenSchema","kind":"member","memberof":"Tokens","scope":"static","$longname":"Tokens.tokenSchema","$kind":"property","$docmaLink":"api/#Tokens.tokenSchema"},{"comment":"/**\n * User object\n * @typedef {express.Router} User\n * @type {object}\n * @property {string} username Username\n * @property {string} password Password (hashed)\n * @property {string} avatarUrl URL to the avatar\n * @property {string} displayName The name but nice\n */","meta":{"filename":"types.js","lineno":1,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/auth","code":{}},"description":"User object","kind":"typedef","name":"User","type":{"names":["express.Router"]},"properties":[{"type":{"names":["string"]},"description":"Username","name":"username"},{"type":{"names":["string"]},"description":"Password (hashed)","name":"password"},{"type":{"names":["string"]},"description":"URL to the avatar","name":"avatarUrl"},{"type":{"names":["string"]},"description":"The name but nice","name":"displayName"}],"longname":"User","scope":"global","$longname":"User","$kind":"typedef","$docmaLink":"api/#User","$members":[{"comment":"/**\n * The system user\n * @type {User}\n */","meta":{"range":[1829,1976],"filename":"User.js","lineno":82,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006140","name":"User.systemUser","type":"CallExpression","value":"","paramnames":[]}},"description":"The system user","type":{"names":["User"]},"name":"systemUser","longname":"User.systemUser","kind":"member","memberof":"User","scope":"static","$longname":"User.systemUser","$kind":"property","$docmaLink":"api/#User.systemUser"},{"comment":"/**\n * Preset user roles\n * @readonly\n * @enum {string}\n */","meta":{"range":[1296,1783],"filename":"User.js","lineno":59,"columnno":0,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006122","name":"User.UserRole","type":"CallExpression","value":"","paramnames":[]}},"description":"Preset user roles","readonly":true,"kind":"member","isEnum":true,"type":{"names":["string"]},"name":"UserRole","longname":"User.UserRole","memberof":"User","scope":"static","$longname":"User.UserRole","$kind":"enum","$docmaLink":"api/#User.UserRole"}]},{"comment":"/**\n * User type\n * @typedef {User}\n * @property {string}   username    - The username\n * @property {string}   [password]  - The hashed user password\n * @property {string}   displayName - The user's displayable name\n * @property {string}   [avatarUrl] - The url for the user profile avatar\n * @property {UserRole} role        - The url for the user profile avatar\n */","meta":{"range":[497,885],"filename":"User.js","lineno":16,"columnno":6,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006006","name":"User","type":"CallExpression","value":""}},"description":"User type","kind":"typedef","type":{"names":["User"]},"properties":[{"type":{"names":["string"]},"description":"The username","name":"username"},{"type":{"names":["string"]},"optional":true,"description":"The hashed user password","name":"password"},{"type":{"names":["string"]},"description":"The user's displayable name","name":"displayName"},{"type":{"names":["string"]},"optional":true,"description":"The url for the user profile avatar","name":"avatarUrl"},{"type":{"names":["UserRole"]},"description":"The url for the user profile avatar","name":"role"}],"name":"User","longname":"User","scope":"global","params":[],"$longname":"User","$kind":"typedef","$docmaLink":"api/#User"},{"comment":"/** Normal user, can do non-sensitive tasks */","meta":{"range":[1444,1456],"filename":"User.js","lineno":64,"columnno":1,"path":"/Users/mat/Projects/mission-control/app/models","code":{"id":"astnode100006133","name":"user","type":"Literal","value":"user"}},"description":"Normal user, can do non-sensitive tasks","name":"user","longname":"user","kind":"member","scope":"global","$longname":"user","$kind":"property","$docmaLink":"api/#user"},{"comment":"/**\n\t\t\t\t * Current user\n\t\t\t\t * @type {User}\n\t\t\t\t */","meta":{"range":[8242,8246],"filename":"Service.js","lineno":326,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011497","name":"user","type":"Identifier","value":"user"}},"description":"Current user","type":{"names":["User"]},"name":"user","longname":"user","kind":"member","scope":"global","$longname":"user","$kind":"property","$docmaLink":"api/#user"},{"comment":"/**\n\t\t\t\t * UserError class\n\t\t\t\t * @type {UserError}\n\t\t\t\t */","meta":{"range":[7785,7794],"filename":"Service.js","lineno":296,"columnno":4,"path":"/Users/mat/Projects/mission-control/app/sync","code":{"id":"astnode100011479","name":"UserError","type":"Identifier","value":"UserError"}},"description":"UserError class","type":{"names":["UserError"]},"name":"UserError","longname":"UserError","kind":"member","scope":"global","$longname":"UserError","$kind":"property","$docmaLink":"api/#UserError"},{"comment":"/**\n\t\t\t * Generate a new UUID\n\t\t\t * @function uuid\n\t\t\t * @returns {string}\n\t\t\t */","meta":{"filename":"PluginContext.js","lineno":73,"columnno":3,"path":"/Users/mat/Projects/mission-control/app/plugins","code":{}},"description":"Generate a new UUID","kind":"function","name":"uuid","returns":[{"type":{"names":["string"]}}],"longname":"uuid","scope":"global","$longname":"uuid","$kind":"method","$docmaLink":"api/#uuid"}],"symbols":["@config","@database~DatabaseAPI","@database~DatabaseAPI#database","@database~DatabaseAPI#init","@database~UsersAPI","@database~UsersAPI#_setUser","@database~UsersAPI#_setUsers","@database~UsersAPI#_tempPassword","@database~UsersAPI#all","@database~UsersAPI#create","@database~UsersAPI#delete","@database~UsersAPI#find","@database~UsersAPI#findUnsafe","@database~UsersAPI#init","@database~UsersAPI#update","@database~UsersAPI#updatePassword","@helpers/log","@helpers/log~createLogFunction","@helpers/log.createLogger","@helpers/log~logLevel","@helpers/log.logLevelFromString","@helpers/log.logLevelToString","@helpers/log.logReadyMessage","@helpers/log.setLogLevel","@helpers/uuid","@helpers/uuid","@socket","@socket","ActionHandler","admin","Array.<Permissions.CRUD","AuthError","builder","builder.custom","builder.custom","builder.evaluatePermissions","builder.handler","builder.requirePermission","builder.requirePermissions","builder.validate","builder.vue","builder.vue","buildErrorResponseComposer","comparePassword","composeCrudHandler","ConnectionStatus","controllers.login.logout","controllers.login.serveLoginPage","database","Database","database","Database#_saveData","Database#api","Database#api.users","Database#data","Database#get","Database#init","Database#path","Database#set","DynamicDashboard","DynamicDashboard#component","DynamicDashboard#components","DynamicDashboard#pages","ErrorResponse~compose","filter","guest","hashPassword","hashPasswordSync","HTTP","HTTP#addErrorHandler","HTTP#app","HTTP#attachComponentsAndPagesMiddleware","HTTP#auth","HTTP#composeErrorResponse","HTTP#config","HTTP#createHTTPPluginContext","HTTP#dashboard","HTTP#listen","HTTP#logger","HTTP#logging","HTTP#onError","HTTP#port","HTTP#server","HTTP#url","HTTPContext","HttpContext","HTTPContext#baseURL","HTTPContext#dashboard","HTTPContext#proxy","HTTPContext#proxyLogLevel","HTTPContext#root","HTTPContext#unsafe","Joi","JoiBuilderFunction","module.exports","module.exports","module.exports","module.exports","module.exports","module.exports","module.exports","module.exports","module.exports#isUserError","module.exports#module.exports","module.exports#module.exports","module.exports#module.exports","module.exports#onlyUnauthenticated","module.exports#requireAuthentication","module.exports#requirePermission","module.exports~service","module.exports~service","module.exports~updateHomebridgeDevices","NotificationServiceState","options","PermissionEvaluationHandler","Permissions","permissions","Permissions#can","Permissions.CRUD","Permissions.Scope","PermissionTriple","Plugin","Plugin","PluginContext","PluginContext","PluginContext","PluginContext#AuthError","PluginContext#config","PluginContext#dashboard","PluginContext#database","PluginContext#helpers.Joi","PluginContext#http","PluginContext#logger","PluginContext#permissions","PluginContext#sync","PluginContext#UserError","PluginDependencies","PluginHelpers","Plugins","Router","Service","Service#action","Service#addFilter","Service#dependencies","Service#emitter","Service#filter","Service~filterFn","Service#filters","Service#handlers","Service#handlers[undefined].Service#handlers[undefined].handler","Service#handlers[undefined].Service#handlers[undefined].permissions","Service#handlers[undefined].Service#handlers[undefined].schema","Service#invokeAction","Service#logger","Service#name","Service#on","Service#setState","Service#state","Service#subscribe","serviceAPI","serviceAPI.filter","serviceAPI.invoke","serviceAPI.state","serviceAPI.subscribe","socketContext","socketContext.composeErrorResponse","socketContext.logger","socketContext.on","socketContext.sync","socketContext.tokens","socketContext.unsafeOn","socketContext.users","SocketHandlerFactory","state","Sync","Sync#createService","Sync#dependencies","Sync#invokeAction","Sync#service","Sync#services","Sync#state","system","Tokens","Tokens.tokenSchema","User","User","user","user","User.systemUser","User.UserRole","UserError","uuid"]}},"app":{"routing":{"method":"path","caseSensitive":true},"title":"Mission Control Documentation","favicon":"resources/favicon.png","entrance":"content:welcome","meta":null,"base":"/","server":"static"},"template":{"name":"docma-template-mission-control","description":"Mission Control template for Docma. https://github.com/onury/docma","version":"1.0.0","supportedDocmaVersion":">=2.0.0","author":"Onur Yldrm","license":"MIT","mainHTML":"index.html","options":{"title":{"label":"Mission Control","href":"/"},"logo":{"light":"img/favicon.png","dark":"img/favicon.png"},"sidebar":{"itemsFolded":true,"enabled":true,"outline":"tree","collapsed":false,"toolbar":true,"itemsOverflow":"crop","badges":true,"search":true,"animations":true},"navbar":{"enabled":true,"dark":true,"menu":[{"label":"Docs","iconClass":"fas fa-book","href":"/"},{"label":"API Reference","iconClass":"fas fa-book","href":"/api"}],"fixed":true,"animations":true},"symbols":{"autoLink":true,"params":"list","enums":"list","props":"list","meta":false},"contentView":{"bookmarks":false,"faVersion":"5.5.0","faLibs":"all"}}},"partials":{"api":"docma-api","content":"docma-content","notFound":"docma-404"},"elementID":"docma-main","contentElementID":"docma-content","defaultApiName":"_def_","logsEnabled":false}));

!function(){"use strict";var c="path"===docma.app.routing.method;function o(a){return(a.params[1]||"").replace(/\/$/,"")}function a(a,e){a=o(a)||docma._.defaultApiName,a=docma.createRoute(a,DocmaWeb.Route.Type.API);if(!a||!a.exists())return e();a.apply()}docma.app.base&&page.base(docma.app.base),page.redirect("(/)?"+docma.template.main,""),c&&(page("(/)?api/(.+)",a),page("(/)?api(/)?",a),page("(/)?(.*)",function(a,e){a=o(a),a=docma.createRoute(a,DocmaWeb.Route.Type.CONTENT);if(!a||!a.exists())return e();a.apply()})),page("(/)?",function(t,n){!function(){if(c){var a=sessionStorage.getItem("redirectPath")||null;if(a)return sessionStorage.removeItem("redirectPath"),docma.info("Redirecting to:",a),page.redirect(a),1}}()&&setTimeout(function(){var a,e,e=(e=(e=t.querystring)||window.location.search,(e=/^[?&]/.test(e)?e.slice(1):e)||null);if(c){if(e)return n();a=docma._.appEntranceRI}else docma.log("Query-string:",e),a=e?docma.createRouteFromQuery(e):docma._.appEntranceRI;if(!a||!a.exists())return n();function o(){docma._trigger(DocmaWeb.Event.Navigate,[a])}a.isCurrent()?o():a.apply(function(a){200===a&&o()})},100)}),page("*",function(a){docma.warn("Unknown Route:",a.path),docma.log("context:",a),docma.createRoute(null).apply()}),docma.info("Docma SPA Configuration:"),docma.info("App Title:          ",docma.app.title),docma.info("Routing Method:     ",docma.app.routing.method),docma.info("App Server:         ",docma.app.server),docma.info("Base Path:          ",docma.app.base),docma.info("Entrance Route ID:  ",docma.app.entrance),window.onload=function(){docma._.initialLoad=!0,docma._.appEntranceRI=docma.createRouteFromID(docma.app.entrance),page.start({click:!0,popstate:!0,dispatch:!0,hashbang:!1,decodeURLComponents:!0}),docma.info("Docma SPA loaded!")}}();