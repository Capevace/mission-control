(function(t){function e(e){for(var a,i,c=e[0],o=e[1],l=e[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"070d":function(t,e,r){},"0810":function(t,e,r){"use strict";var a=r("3e83"),n=r.n(a);n.a},"0853":function(t,e,r){"use strict";var a=r("070d"),n=r.n(a);n.a},"0b66":function(t,e,r){},1:function(t,e){},"10b0":function(t,e,r){"use strict";var a=r("218d"),n=r.n(a);n.a},"110c":function(t,e,r){},1243:function(t,e,r){"use strict";var a=r("a13a"),n=r.n(a);n.a},"142d":function(t,e,r){},"188e":function(t,e,r){"use strict";var a=r("ad36"),n=r.n(a);n.a},"1b0b":function(t,e,r){"use strict";var a=r("36cd"),n=r.n(a);n.a},"218d":function(t,e,r){},"2cbc":function(t,e,r){},"2d32":function(t,e,r){"use strict";var a=r("6e9c"),n=r.n(a);n.a},3209:function(t,e,r){"use strict";var a=r("3b2e"),n=r.n(a);n.a},"34b2":function(t,e,r){"use strict";var a=r("c697"),n=r.n(a);n.a},3659:function(t,e,r){},"36cd":function(t,e,r){},3777:function(t,e,r){},"37a9":function(t,e,r){"use strict";var a=r("2cbc"),n=r.n(a);n.a},"3a3a":function(t,e,r){"use strict";var a=r("e681"),n=r.n(a);n.a},"3b2e":function(t,e,r){},"3c93":function(t,e,r){"use strict";var a=r("3659"),n=r.n(a);n.a},"3e83":function(t,e,r){},"41f9":function(t,e,r){"use strict";var a=r("3777"),n=r.n(a);n.a},4356:function(t,e,r){"use strict";var a=r("dec1"),n=r.n(a);n.a},"441d":function(t,e,r){},"481e":function(t,e,r){"use strict";var a=r("ed38"),n=r.n(a);n.a},"49fc":function(t,e,r){"use strict";var a=r("66ac"),n=r.n(a);n.a},5342:function(t,e,r){"use strict";var a=r("441d"),n=r.n(a);n.a},"56cc":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app",attrs:{id:"app"}},[r("notification"),t.notFound?t._e():r("app-layout"),t.notFound?r("not-found-view"):t._e()],1)},s=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),c=r("2f62"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-layout"},[r("navbar"),r("div",{staticClass:"app-layout__wrap"},[r("sidebar"),r("div",{staticClass:"app-layout__main"},[r("router-view")],1)],1),r("player")],1)},l=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar"},[r("navbar-history"),r("navbar-search"),r("navbar-nav")],1)},p=[],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navbar-history"},[r("a",{staticClass:"navbar-history__link",on:{click:t.onPrevClick}},[r("icon",{attrs:{name:"chevron-left"}})],1),r("a",{staticClass:"navbar-history__link",on:{click:t.onNextClick}},[r("icon",{attrs:{name:"chevron-right"}})],1)])},m=[],d={name:"navbar-history",methods:{onNextClick:function(){this.$router.forward()},onPrevClick:function(){this.$router.back()}}},b=d,y=(r("3209"),r("2877")),h=Object(y["a"])(b,f,m,!1,null,"0e6a31b6",null),v=h.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"navbar-search"},[r("input",{staticClass:"navbar-search__input",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},on:{focus:t.onFocus,keyup:t.onKeyUp}}),r("button",{staticClass:"navbar-search__btn"},[r("icon",{attrs:{name:"search"}})],1)])},O=[],k=(r("386d"),r("a481"),r("7f7f"),r("8c4f")),_=r("0e44"),w={notFound:!1},j={notFound:function(t){return t.notFound}},P={SET_NOT_FOUND:function(t,e){t.notFound=e}},E={notFoundPage:function(t,e){var r=t.commit;r("SET_NOT_FOUND",e)},init:function(t){var e=t.dispatch,r=t.rootGetters;r["auth/getAccessToken"]&&e("user/getUserProfile",null,{root:!0}),e("player/init",null,{root:!0})}},C={namespaced:!0,state:w,getters:j,mutations:P,actions:E},x=C,S=(r("96cf"),r("3b8d")),T=r("bc3a"),A=r.n(T),D="https://stark-harbor-25810.herokuapp.com/",R=A.a.create({baseURL:D}),I=R,U={getUserAuthURL:function(){return I.get("login")},refreshToken:function(t){return I.get("refresh_token?refresh_token=".concat(t))}},q=A.a.create({baseURL:"https://api.spotify.com/v1/"}),L=q,M={getUserProfile:function(t){return t?L.get("users/".concat(t)):L.get("me")}};function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var V={getCurrentUserPlaylists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1?arguments[1]:void 0;return L.get("me/playlists",{params:{limit:t,offset:e}})},getPlaylist:function(t,e,r){return L.get("users/".concat(t,"/playlists/").concat(e),{params:{fields:r}})},getPlalistsTracks:function(t,e,r,a,n){return L.get("users/".concat(t,"/playlists/").concat(e,"/tracks"),{params:{fields:n,limit:a,offset:r}})},getUserPlalists:function(t,e,r){return L.get("users/".concat(t,"/playlists"),{params:{limit:r,offset:e}})},createPlaylist:function(t,e,r){return L.post("users/".concat(t,"/playlists"),{name:e,description:r})},updatePlaylist:function(t,e,r,a){return L.put("users/".concat(t,"/playlists/").concat(e),{name:r,description:a})},updatePlaylistCover:function(t,e,r){return L({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/images"),headers:{"content-type":"image/jpeg"},data:F({},r)})}};function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $={nextTrack:function(t){return L.post("me/player/next",{device_id:t})},previousTrack:function(t){return L.post("me/player/previous",{device_id:t})},pause:function(t){return L.put("me/player/pause",{device_id:t})},play:function(t,e,r){return L({method:"put",url:"me/player/play",data:Q({offset:e,uris:r},t&&{context_uri:t})})},volume:function(t,e){return L({method:"put",url:"/me/player/volume",params:{volume_percent:t,device_id:e}})},shuffle:function(t,e){return L({method:"put",url:"/me/player/shuffle",params:{state:!t,device_id:e}})},repeat:function(t,e){return L({method:"put",url:"/me/player/repeat",params:{state:t,device_id:e}})},seekToPosition:function(t,e){return L({method:"put",url:"/me/player/seek",params:{position_ms:t,device_id:e}})},getUserDevices:function(){return L.get("me/player/devices")},getCurrentPlayback:function(){return L.get("me/player")},transferUsersPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L.put("me/player",{device_ids:t,play:e})}},G={getTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0;return L.get("me/tracks",{params:{limit:e,offset:t,market:r}})},getAlbums:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0;return L.get("me/albums",{params:{limit:e,offset:t,market:r}})},checkUserSavedTracks:function(t){return L.get("me/tracks/contains",{params:{ids:t}})},saveTracks:function(t){return L.put("me/tracks",{ids:t})},removeTracks:function(t){return L.delete("me/tracks",{data:{ids:t}})}},Y={getNewReleases:function(t,e,r){return L.get("browse/new-releases",{params:{limit:e,offset:t,country:r}})},getCategories:function(t,e,r,a){return L.get("browse/categories",{params:{limit:e,offset:t,country:r,locale:a}})},getCategoryPlaylists:function(t,e,r,a){return L.get("browse/categories/".concat(t,"/playlists"),{params:{category_id:t,limit:r,offset:e,country:a}})}},K={getAlbum:function(t){return L.get("albums/".concat(t))},getAlbumTracks:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3?arguments[3]:void 0;return L.get("albums/".concat(t,"/tracks"),{params:{limit:r,offset:e,market:a}})},getAlbums:function(t,e){return L.get("albums",{ids:t,market:e})}},z={getArtist:function(t){return L.get("artists/".concat(t))},getArtistTopTracks:function(t,e){return L.get("artists/".concat(t,"/top-tracks"),{params:{country:e}})},getArtistAlbums:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,n=arguments.length>4?arguments[4]:void 0;return L.get("artists/".concat(t,"/albums"),{params:{include_groups:e,limit:a,offset:r,market:n}})}},H={followArtist:function(t,e){return L.put("me/following",{params:{type:t,ids:e}})},unfollowArtist:function(t,e){return L.delete("me/following",{params:{type:t,ids:e}})},checkIfUserFollowPlaylist:function(t,e,r){return L.get("users/".concat(t,"/playlists/").concat(e,"/followers/contains"),{params:{ids:r}})},followPlaylist:function(t,e){return L({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/followers"),headers:{"content-type":"application/json"}})},unfollowPlaylist:function(t,e){return L.delete("users/".concat(t,"/playlists/").concat(e,"/followers"))},getFollowedArtists:function(t,e){return L.get("me/following?type=artist",{params:{limit:t,after:e}})}},J={search:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"album,artist,playlist,track",r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return L.get("search",{params:{q:t,type:e,limit:a,offset:r,market:n,include_external:s}})}},Z={request:L,users:M,playlists:V,player:$,library:G,browse:Y,albums:K,artists:z,follow:H,search:J},W={auth:U,spotify:Z},X={accessToken:window.MISSION_CONTROL_SPOTIFY_TOKEN||"",refreshToken:"",expiryTime:window.MISSION_CONTROL_SPOTIFY_EXPIRY||""},tt={getAccessToken:function(t){return t.accessToken},getRefreshToken:function(t){return t.refreshToken},getExpiryTime:function(t){return t.expiryTime}},et={SET_ACCESS_TOKEN:function(t,e){t.accessToken=e},SET_REFRESH_TOKEN:function(t,e){t.refreshToken=e},SET_EXPIRY_TIME:function(t,e){t.expiryTime=e}},rt={login:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),refreshToken:function(t){t.commit,t.state;return new Promise((function(t){console.log("TRYING TO REFRESH TOKEN"),setTimeout(t,2e3)}))},logout:function(){var t=document.createElement("script");t.src="https://www.spotify.com/logout/",document.getElementById("app").appendChild(t),window.localStorage.clear(),window.sessionStorage.clear(),setTimeout((function(){location.reload()}),1e3)},setAccessToken:function(t,e){var r=t.commit;r("SET_ACCESS_TOKEN",e)},setRefreshToken:function(t,e){var r=t.commit;r("SET_REFRESH_TOKEN",e)},setExpiryTime:function(t,e){var r=t.commit;r("SET_EXPIRY_TIME",e)}},at={namespaced:!0,state:X,getters:tt,mutations:et,actions:rt},nt=at,st=r("75fc"),it={profile:"",playlists:""},ct={getProfile:function(t){return t.profile},getPlaylists:function(t){return t.playlists}},ot={SET_PROFILE:function(t,e){t.profile=e},SET_PLAYLISTS:function(t,e){var r;t.playlists?(t.playlists.limit=e.limit,t.playlists.offset=e.offset,t.playlists.next=e.next,t.playlists.total=e.total,(r=t.playlists.items).push.apply(r,Object(st["a"])(e.items))):t.playlists=e},CLEAR_PLAYLISTS:function(t){t.playlists=""}},lt={getUserProfile:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,W.spotify.users.getUserProfile();case 4:a=t.sent,r("SET_PROFILE",a.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),getCurrentUserPlaylists:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.getters,a=e.commit,n=c.length>1&&void 0!==c[1]?c[1]:50,s=0,r.getPlaylists&&(s=r.getPlaylists.limit+r.getPlaylists.offset),r.getPlaylists.total<s){t.next=15;break}return t.prev=5,t.next=8,W.spotify.playlists.getCurrentUserPlaylists(n,s);case 8:i=t.sent,a("SET_PLAYLISTS",i.data),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));function e(e){return t.apply(this,arguments)}return e}(),clearUserPlaylists:function(t){var e=t.commit;e("CLEAR_PLAYLISTS")}},ut={namespaced:!0,state:it,getters:ct,mutations:ot,actions:lt},pt=ut;function ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var dt={query:"",result:"",isLoading:!1,error:null,albums:"",albumsIsLoading:!1,albumsError:null,artists:"",artistsIsLoading:!1,artistsError:null,playlists:"",playlistsIsLoading:!1,playlistsError:null,tracks:"",tracksIsLoading:!1,tracksError:null},bt={},yt={SET_SEARCH_QUERY:function(t,e){t.query=e},REQUEST_SEARCH:function(t){t.isLoading=!0},REQUEST_SEARCH_SUCCESS:function(t,e){t.result=e,t.albums=e.albums,t.artists=e.artists,t.playlists=e.playlists,t.tracks=e.tracks,t.isLoading=!1},REQUEST_SEARCH_ERROR:function(t,e){t.isLoading=!1,t.error=e},REQUEST_GET_ALBUMS:function(t){t.albumsIsLoading=!0},REQUEST_GET_ALBUMS_SUCCESS:function(t,e){t.albumsIsLoading=!1,t.albums=mt(mt({},e.albums),{},{items:[].concat(Object(st["a"])(t.albums.items),Object(st["a"])(e.albums.items))})},REQUEST_GET_ALBUMS_ERROR:function(t,e){t.albumsIsLoading=!1,t.albumsError=e},REQUEST_GET_ARTISTS:function(t){t.artistsIsLoading=!0},REQUEST_GET_ARTISTS_SUCCESS:function(t,e){t.artistsIsLoading=!1,t.artists=mt(mt({},e.artists),{},{items:[].concat(Object(st["a"])(t.artists.items),Object(st["a"])(e.artists.items))})},REQUEST_GET_ARTISTS_ERROR:function(t,e){t.artistsIsLoading=!1,t.artistsError=e},REQUEST_GET_PLAYLISTS:function(t){t.playlistsIsLoading=!0},REQUEST_GET_PLAYLISTS_SUCCESS:function(t,e){t.playlistsIsLoading=!1,t.playlists=mt(mt({},e.playlists),{},{items:[].concat(Object(st["a"])(t.playlists.items),Object(st["a"])(e.playlists.items))})},REQUEST_GET_PLAYLISTS_ERROR:function(t,e){t.playlistsIsLoading=!1,t.playlistsError=e},REQUEST_GET_TRACKS:function(t){t.tracksIsLoading=!0},REQUEST_GET_TRACKS_SUCCESS:function(t,e){t.tracksIsLoading=!1,t.tracks=mt(mt({},e.tracks),{},{items:[].concat(Object(st["a"])(t.tracks.items),Object(st["a"])(e.tracks.items))})},REQUEST_GET_TRACKS_ERROR:function(t,e){t.tracksIsLoading=!1,t.tracksError=e}},ht={setSearchQuery:function(t,e){var r=t.commit;r("SET_SEARCH_QUERY",e)},requestSearch:function(t){var e=t.commit;e("REQUEST_SEARCH")},requestSearchSuccess:function(t,e){var r=t.commit;r("REQUEST_SEARCH_SUCCESS",e)},requestSearchError:function(t,e){var r=t.commit;r("REQUEST_SEARCH_ERROR",e)},search:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,a=e.dispatch,a("requestSearch"),a("setSearchQuery",r),t.prev=3,t.next=6,W.spotify.search.search(r);case 6:n=t.sent,a("requestSearchSuccess",n.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),a("requestSearchError",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e,r){return t.apply(this,arguments)}return e}(),requestGetAlbums:function(t){var e=t.commit;e("REQUEST_GET_ALBUMS")},requestGetAlbumsSuccess:function(t,e){var r=t.commit;r("REQUEST_GET_ALBUMS_SUCCESS",e)},requestGetAlbumsError:function(t,e){var r=t.commit;r("REQUEST_GET_ALBUMS_ERROR",e)},getAlbums:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,r=e.dispatch,a=e.state,n=a.albums,s=a.query,r("requestGetAlbums"),t.prev=2,!n.next){t.next=9;break}return i=n.offset+n.limit,t.next=7,W.spotify.search.search(s,"album",i);case 7:c=t.sent,r("requestGetAlbumsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),r("requestGetAlbumsError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e){return t.apply(this,arguments)}return e}(),requestGetArtists:function(t){var e=t.commit;e("REQUEST_GET_ARTISTS")},requestGetArtistsSuccess:function(t,e){var r=t.commit;r("REQUEST_GET_ARTISTS_SUCCESS",e)},requestGetArtistsError:function(t,e){var r=t.commit;r("REQUEST_GET_ARTISTS_ERROR",e)},getArtists:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,r=e.dispatch,a=e.state,n=a.artists,s=a.query,r("requestGetArtists"),t.prev=2,!n.next){t.next=9;break}return i=n.offset+n.limit,t.next=7,W.spotify.search.search(s,"artist",i);case 7:c=t.sent,r("requestGetArtistsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),r("requestGetArtistsError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e){return t.apply(this,arguments)}return e}(),requestGetPlaylists:function(t){var e=t.commit;e("REQUEST_GET_PLAYLISTS")},requestGetPlaylistsSuccess:function(t,e){var r=t.commit;r("REQUEST_GET_PLAYLISTS_SUCCESS",e)},requestGetPlaylistsError:function(t,e){var r=t.commit;r("REQUEST_GET_PLAYLISTS_ERROR",e)},getPlaylists:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,r=e.dispatch,a=e.state,n=a.playlists,s=a.query,r("requestGetPlaylists"),t.prev=2,!n.next){t.next=9;break}return i=n.offset+n.limit,t.next=7,W.spotify.search.search(s,"playlist",i);case 7:c=t.sent,r("requestGetPlaylistsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),r("requestGetPlaylistsError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e){return t.apply(this,arguments)}return e}(),requestGetTracks:function(t){var e=t.commit;e("REQUEST_GET_TRACKS")},requestGetTracksSuccess:function(t,e){var r=t.commit;r("REQUEST_GET_TRACKS_SUCCESS",e)},requestGetTracksError:function(t,e){var r=t.commit;r("REQUEST_GET_TRACKS_ERROR",e)},getTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,r=e.dispatch,a=e.state,n=a.tracks,s=a.query,r("requestGetTracks"),t.prev=2,!n.next){t.next=9;break}return i=n.offset+n.limit,t.next=7,W.spotify.search.search(s,"track",i);case 7:c=t.sent,r("requestGetTracksSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),r("requestGetTracksError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e){return t.apply(this,arguments)}return e}()},vt={namespaced:!0,state:dt,getters:bt,mutations:yt,actions:ht},gt=vt,Ot={deviceID:"",playback:"",playbackContext:""},kt={getDeviceID:function(t){return t.deviceID},getPlayback:function(t){return t.playback},getPlaybackContext:function(t){return t.playbackContext},isPlaying:function(t){return t.playback.is_playing}},_t={SET_DEVICE_ID:function(t,e){t.deviceID=e},SET_PLAYBACK:function(t,e){t.playback=e},SET_PLAYBACK_CONTEXT:function(t,e){t.playbackContext=e}},wt={init:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,i,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=function(){return o=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=setInterval(Object(S["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getCurrentState();case 2:n=a.sent,null!==n&&(t(n),clearInterval(r));case 4:case"end":return a.stop()}}),a)}))))})));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},c=function(t){return o.apply(this,arguments)},i=function(){return i=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){window.Spotify?t(window.Spotify):window.onSpotifyWebPlaybackSDKReady=function(){t(window.Spotify)}})));case 1:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)},s=function(){return i.apply(this,arguments)},r=e.commit,a=e.rootGetters,n=e.dispatch,window.onSpotifyWebPlaybackSDKReady=function(){},Object(S["a"])(regeneratorRuntime.mark((function t(){var e,i,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:return e=t.sent,i=e.Player,o=a["auth/getAccessToken"],l=new i({name:"Mission Control Spotify",getOAuthToken:function(t){t(o)}}),l.addListener("initialization_error",(function(t){var e=t.message;console.error(e)})),l.addListener("authentication_error",(function(t){var e=t.message;console.error(e),console.log("AUTH")})),l.addListener("account_error",(function(t){var e=t.message;console.error(e)})),l.addListener("playback_error",(function(t){var e=t.message;console.error(e)})),l.addListener("player_state_changed",(function(t){t&&(n("setPlaybackContext",t),n("setPlayback")),console.log("player state",t)})),l.addListener("ready",(function(t){var e=t.device_id;console.log("Ready with Device ID",e),r("SET_DEVICE_ID",e),W.spotify.player.transferUsersPlayback([e],!0)})),l.addListener("not_ready",(function(t){var e=t.device_id;console.log("Device ID has gone offline",e)})),t.next=15,l.connect();case 15:if(u=t.sent,!u){t.next=19;break}return t.next=19,c(l);case 19:case"end":return t.stop()}}),t)})))();case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),setPlayback:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,W.spotify.player.getCurrentPlayback();case 4:a=t.sent,r("SET_PLAYBACK",a.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),setPlaybackContext:function(t,e){var r=t.commit;r("SET_PLAYBACK_CONTEXT",e)}},jt={namespaced:!0,state:Ot,getters:kt,mutations:_t,actions:wt},Pt=jt,Et={lastSavedTrack:"",lastRemovedTrack:""},Ct={getSavedTrack:function(t){return t.lastSavedTrack},getRemovedTrack:function(t){return t.lastRemovedTrack}},xt={SET_SAVED_TRACK:function(t,e){t.lastRemovedTrack="",t.lastSavedTrack=e},SET_REMOVED_TRACK:function(t,e){t.lastSavedTrack="",t.lastRemovedTrack=e}},St={saveTrack:function(t,e){var r=t.commit;r("SET_SAVED_TRACK",e)},removeTrack:function(t,e){var r=t.commit;r("SET_REMOVED_TRACK",e)}},Tt={namespaced:!0,state:Et,getters:Ct,mutations:xt,actions:St},At=Tt,Dt={playlist:""},Rt={getPlaylist:function(t){return t.playlist}},It={SET_PLAYLIST:function(t,e){t.playlist=e}},Ut={fetchPlaylist:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,n="uri, name, type, images, description, owner, followers",t.next=5,W.spotify.playlists.getPlaylist(r.userID,r.playlistID,n);case 5:s=t.sent,a("SET_PLAYLIST",s.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,r){return t.apply(this,arguments)}return e}()},qt={namespaced:!0,state:Dt,getters:Rt,mutations:It,actions:Ut},Lt=qt,Mt={notifications:[]},Nt={getNotifications:function(t){return t.notifications}},Ft={NOTIFICATION_ADD:function(t,e){t.notifications.push(e)},NOTIFICATION_REMOVE:function(t,e){var r=t.notifications.indexOf(e);t.notifications.splice(r,1)}},Vt={add:function(t,e){var r=t.commit,a=t.dispatch;r("NOTIFICATION_ADD",e),e.duration>0&&setTimeout((function(){a("remove",e)}),e.duration)},remove:function(t,e){var r=t.commit;r("NOTIFICATION_REMOVE",e)}},Bt={namespaced:!0,state:Mt,getters:Nt,mutations:Ft,actions:Vt},Qt=Bt,$t=!1,Gt=function(t){L.interceptors.request.use((function(e){return t.getters["auth/getAccessToken"]&&(e.headers.common["Authorization"]="Bearer ".concat(t.getters["auth/getAccessToken"])),e}),null),L.interceptors.response.use(null,(function(e){var r=e.response,a=r.status,n=r.data;if(t.getters["auth/getAccessToken"]&&401===a&&!$t)$t=!0,t.dispatch("auth/refreshToken").then((function(){$t=!1}));else{if(404===a)throw e.response;403===a?"PREMIUM_REQUIRED"===n.error.reason&&t.dispatch("notification/add",{type:"warning",message:"You need to have premium account."}):t.dispatch("auth/login")}}))},Yt=Gt,Kt=!1;a["a"].use(c["a"]);var zt=Object(_["a"])({key:"spotify_app_state",reducer:function(t){return{auth:t.auth}}}),Ht=new c["a"].Store({modules:{app:x,auth:nt,user:pt,search:gt,player:Pt,library:At,playlist:Lt,notification:Qt},plugins:[Yt,zt],strict:Kt});window.store=Ht;var Jt=Ht,Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"})},Wt=[];function Xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ee={name:"Login",methods:te({},Object(c["b"])("auth",["setAccessToken","setRefreshToken","setExpiryTime"])),created:function(){var t=this.$route.query,e=t.access_token,r=t.refresh_token,a=t.expires_in,n=t.error;n?console.error(n):e&&r&&a&&(this.setAccessToken(e),this.setRefreshToken(r),this.setExpiryTime(a)),js.push("/")}},re=ee,ae=Object(y["a"])(re,Zt,Wt,!1,null,null,null),ne=ae.exports,se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"user-view",on:{vScroll:t.loadMore}},[r("div",{staticClass:"user-view__info"},[t.user.images&&t.user.images[0]?r("img",{staticClass:"user-view__avatar",attrs:{src:t.user.images[0].url}}):r("div",{staticClass:"user-view__avatar"},[r("icon",{staticClass:"user-view__user-icon",attrs:{name:"user"}})],1),r("h1",{staticClass:"user-view__name"},[t._v(t._s(t.user.display_name))])]),t.playlists.items.length?r("entity-header",{attrs:{title:"Public Playlists",small:!0}}):t._e(),r("media-container",t._l(t.playlists.items,(function(t){return r("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})})),1)],1)},ie=[],ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.elClass},[r("h2",{staticClass:"entity-header__title"},[t._v(t._s(t.title))])])},oe=[],le=(r("f386"),{name:"entity-header",props:{title:{type:String},small:{type:Boolean,default:!1}},computed:{elClass:function(){return["entity-header",{"entity-header--small":this.small}]}}}),ue=le,pe=(r("3c93"),Object(y["a"])(ue,ce,oe,!1,null,"24a4df1a",null)),fe=pe.exports,me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.elClass},[r("router-link",{staticClass:"media-object__cover",attrs:{tag:"div",to:t.createUrl()}},[t.coverImg[0]?r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverImg[0].url,expression:"coverImg[0].url"}],staticClass:"media-object__cover-inner",attrs:{alt:t.name+"-cover"}}):r("div",{staticClass:"media-object__cover-inner"},[r("icon",{staticClass:"media-object__music-icon",attrs:{name:"music"}})],1),r("div",{staticClass:"media-object__cover-hover"},[r("button",{staticClass:"media-object__play icon-play-circle",on:{click:t.onPlay}}),r("button",{staticClass:"media-object__sound-on icon-sound-on"}),r("button",{staticClass:"media-object__pause icon-pause-circle",on:{click:t.onPause}})])]),r("div",{staticClass:"media-object__info"},[r("div",[r("router-link",{staticClass:"media-object__name",attrs:{to:t.createUrl()}},[t._v(t._s(t.name))])],1),t._l(t.artists,(function(e,a){return t.artists?r("router-link",{key:e.id,staticClass:"media-object__artist",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n      "+t._s(e.name)+"\n      "),a!==t.artists.length-1?[t._v(", ")]:t._e()],2):t._e()}))],2)],1)},de=[];r("28a5");function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var he={name:"media-object",props:{id:{required:!0},uri:{required:!0},coverImg:{required:!0},name:{type:String,required:!0},type:{required:!0},artists:{required:!1}},computed:ye(ye({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"})),{},{elClass:function(){return["media-object",{"media-object--playing":this.playbackContext&&!this.playbackContext.paused&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--active":this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--no-image":!this.coverImg[0]}]}}),methods:{createUrl:function(){var t=this.uri.split(":"),e=null;switch(this.type){case"album":e={name:"album",params:{id:this.id}};break;case"artist":e={name:"artist",params:{id:this.id}};break;case"playlist":e={name:"playlist",params:{user_id:t[2],playlist_id:t[t.length-1]}};break}return e},onPlay:function(t){t.stopPropagation(),this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0?W.spotify.player.play():W.spotify.player.play(this.uri)},onPause:function(t){t.stopPropagation(),W.spotify.player.pause()}}},ve=he,ge=(r("ee1e"),Object(y["a"])(ve,me,de,!1,null,"f792e4f6",null)),Oe=ge.exports,ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"media-container"},[t._t("default")],2)},_e=[],we={name:"media-container"},je=we,Pe=(r("1243"),Object(y["a"])(je,ke,_e,!1,null,null,null)),Ee=Pe.exports;function Ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Se={name:"user-view",components:{EntityHeader:fe,MediaObject:Oe,MediaContainer:Ee},data:function(){return{user:"",userID:"",playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},methods:xe(xe({},Object(c["b"])({notFoundPage:"app/notFoundPage"})),{},{getUser:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.users.getUserProfile(e);case 3:r=t.sent,this.user=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getUserPlaylists:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=9;break}return t.next=4,W.spotify.playlists.getUserPlalists(e,this.playlists.offset,this.playlists.limit);case 4:a=t.sent,this.playlists.offset=a.data.offset+this.playlists.limit,this.playlists.total=a.data.total,(r=this.playlists.items).push.apply(r,Object(st["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getUserPlaylists(this.userID));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){this.userID=this.$route.params.id,this.getUser(this.userID),this.getUserPlaylists(this.userID)}},Te=Se,Ae=(r("9a93"),Object(y["a"])(Te,se,ie,!1,null,"3b05d04f",null)),De=Ae.exports,Re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-view"},[t.query?t._e():r("div",{staticClass:"search-view__info"},[t._v("\n    Find your favorite songs, artists, albums and playlists.\n  ")]),t.query?r("nav-view",{attrs:{links:t.navLinks}}):t._e(),t.isNoResultVisible?r("div",{staticClass:"search-view__info"},[t._v("\n    No result found for "),r("strong",[t._v('"'+t._s(t.query)+'"')]),r("div",[t._v("\n      Please make sure your words are spelled correctly or use less of different keywords.\n    ")])]):t._e(),t.isLoadingData?r("loading-spinner"):t._e(),r("div",{staticClass:"search-view__content"},[r("router-view")],1)],1)},Ie=[],Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"nav-view"},[r("ul",{staticClass:"nav-view__nav"},t._l(t.links,(function(e,a){return r("router-link",{directives:[{name:"show",rawName:"v-show",value:void 0===e.isVisible||e.isVisible,expression:"item.isVisible !== undefined ? item.isVisible : true"}],key:a,staticClass:"nav-view__nav-item",attrs:{to:e.to,exact:"",tag:"li","active-class":"nav-view__nav-item--active"}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),1)])},qe=[],Le={name:"nav-view",props:{links:{required:!0}}},Me=Le,Ne=(r("2d32"),Object(y["a"])(Me,Ue,qe,!1,null,"09984456",null)),Fe=Ne.exports,Ve=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loading-spinner"},t._l(12,(function(t){return r("div",{class:["circle-"+t]})})),0)},Be=[],Qe={name:"loading-spinner"},$e=Qe,Ge=(r("10b0"),Object(y["a"])($e,Ve,Be,!1,null,"49fd646b",null)),Ye=Ge.exports;function Ke(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var He={name:"search-view",components:{NavView:Fe,LoadingSpinner:Ye},computed:ze(ze({},Object(c["d"])("search",["query","result","isLoading","error","albumsIsLoading","artistsIsLoading","playlistsIsLoading","tracksIsLoading"])),{},{isLoadingData:function(){return this.isLoading||this.tracksIsLoading||this.albumsIsLoading||this.artistsIsLoading||this.playlistsIsLoading},isTracksExists:function(){return this.result&&this.result.tracks&&this.result.tracks.total>0},isPlaylistsExists:function(){return this.result&&this.result.playlists&&this.result.playlists.total>0},isAlbumsExists:function(){return this.result&&this.result.albums&&this.result.albums.total>0},isArtistsExists:function(){return this.result&&this.result.artists&&this.result.artists.total>0},isResult:function(){return this.isTracksExists||this.isAlbumsExists||this.isPlaylistsExists||this.isArtistsExists},isNoResultVisible:function(){return!this.isResult&&this.query&&!this.isLoading},navLinks:function(){return[{to:{name:"search-result",params:{query:this.query}},name:"Top results"},{to:{name:"search-track",params:{query:this.query}},name:"Tracks",isVisible:this.isTracksExists},{to:{name:"search-playlist",params:{query:this.query}},name:"Playlists",isVisible:this.isPlaylistsExists},{to:{name:"search-album",params:{query:this.query}},name:"Albums",isVisible:this.isAlbumsExists},{to:{name:"search-artist",params:{query:this.query}},name:"Artists",isVisible:this.isArtistsExists}]}}),methods:ze({},Object(c["b"])({notFoundPage:"app/notFoundPage"}))},Je=He,Ze=(r("84d1"),Object(y["a"])(Je,Re,Ie,!1,null,"7d636059",null)),We=Ze.exports,Xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}]},[r("div",[t.isTracksExists?[r("entity-header",{attrs:{title:"Tracks",small:""},nativeOn:{click:function(e){return t.goTo("search-track")}}}),r("tracks-list",{attrs:{tracks:t.getTracks}})]:t._e(),t.isPlaylistsExists?[r("entity-header",{attrs:{title:"Playlists",small:""},nativeOn:{click:function(e){return t.goTo("search-playlist")}}}),r("media-container",t._l(t.playlists.items,(function(e,a){return a<t.maxResults?r("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,type:e.type}}):t._e()})),1)]:t._e(),t.isAlbumsExists?[r("entity-header",{attrs:{title:"Albums",small:""},nativeOn:{click:function(e){return t.goTo("search-album")}}}),r("media-container",t._l(t.albums.items,(function(e,a){return a<t.maxResults?r("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,artists:e.artists,type:e.type}}):t._e()})),1)]:t._e(),t.isArtistsExists?[r("entity-header",{attrs:{title:"Artists",small:""},nativeOn:{click:function(e){return t.goTo("search-artist")}}}),r("media-container",t._l(t.artists.items,(function(e,a){return a<t.maxResults?r("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,name:e.name,type:e.type,coverImg:e.images}}):t._e()})),1)]:t._e()],2)])},tr=[],er=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.tracks?r("div",{staticClass:"tracks-list"},t._l(t.tracks,(function(e,a){return r("div",{key:a,staticClass:"tracks-list__row",class:t.isActiveTrack(e)},[e.album?r("div",{staticClass:"tracks-list__cell"},[r("img",{staticClass:"tracks-list__img",attrs:{src:e.album.images[2].url,alt:e.album.name}})]):t._e(),r("div",{staticClass:"tracks-list__cell tracks-list__cell--index"},[r("span",{staticClass:"tracks-list__cell-index"},[t._v(t._s(a+1))]),r("track-playback",{attrs:{trackUri:e.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:a}})],1),r("div",{staticClass:"tracks-list__cell"},[r("track-addition",{attrs:{trackID:e.id,isSaved:t.savedTracks[a]},on:{updateTrackstatus:t.onTrackUpdate}})],1),r("div",{staticClass:"tracks-list__cell tracks-list__cell--name"},[t._v("\n      "+t._s(e.name)+"\n      "),e.artists&&t.showArtists?r("span",[t._v("\n           - \n          "),t._l(e.artists,(function(a,n){return r("router-link",{key:a.id,staticClass:"tracks-list__link",attrs:{to:{name:"artist",params:{id:a.id}}}},[t._v("\n           "+t._s(a.name)+"\n          "),n!==e.artists.length-1?[t._v(", ")]:t._e()],2)}))],2):t._e()]),e.explicit?r("div",{staticClass:"tracks-list__cell tracks-list__cell--explicit"},[r("span",{staticClass:"tracks-list__explicit-label"},[t._v("Explicit")])]):t._e(),r("div",{staticClass:"tracks-list__cell tracks-list__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.duration_ms))+"\n    ")])])})),0):t._e()},rr=[],ar=(r("6b54"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"track-addition"},[t.isSaved?t._e():r("button",{staticClass:"track-addition__button",attrs:{title:"Save to your library"},on:{click:t.saveTrack}},[r("icon",{attrs:{name:"plus"}})],1),t.isSaved?r("button",{staticClass:"track-addition__button track-addition__button--remove",attrs:{title:"Remove from your library"},on:{click:t.removeTrack}},[r("icon",{staticClass:"track-addition__check-icon",attrs:{name:"check"}}),r("icon",{staticClass:"track-addition__times-icon",attrs:{name:"times"}})],1):t._e()])}),nr=[];function sr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var cr={name:"track-addition",components:{},props:{trackID:{required:!0},isSaved:{default:!1}},data:function(){return{}},computed:ir({},Object(c["c"])("library",{savedTrack:"getSavedTrack",removedTrack:"getRemovedTrack"})),methods:ir(ir({},Object(c["b"])("library",{saveLastTrack:"saveTrack",removeLastTrack:"removeTrack"})),{},{saveTrack:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.library.saveTracks([this.trackID]);case 3:this.saveLastTrack(this.trackID),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),removeTrack:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.library.removeTracks([this.trackID]);case 3:this.removeLastTrack(this.trackID),this.$emit("savedTrackRemove",this.trackID),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}),watch:{savedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)},removedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)}}},or=cr,lr=(r("188e"),Object(y["a"])(or,ar,nr,!1,null,"7a0f2b2b",null)),ur=lr.exports,pr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.elClass},[r("button",{staticClass:"track-playback__button track-playback__button--sound-on icon-sound-on"}),r("button",{staticClass:"track-playback__button track-playback__button--play icon-play-circle",on:{click:t.play}}),r("button",{staticClass:"track-playback__button track-playback__button--pause icon-pause-circle",on:{click:t.pause}})])},fr=[];function mr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mr(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var br={name:"track-playback",props:{trackUri:{required:!0},tracksUris:{required:!1},contextUri:{required:!1},offset:{required:!1}},computed:dr(dr({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"})),{},{elClass:function(){var t=this.playback.item&&this.playback.item.uri===this.trackUri;return["track-playback",{"track-playback--active":t,"track-playback--paused":t&&this.context&&this.context.paused}]}}),methods:{play:function(){this.contextUri?W.spotify.player.play(this.contextUri,{position:this.offset}):this.playback.item&&this.playback.item.uri===this.trackUri?W.spotify.player.play():W.spotify.player.play(null,{uri:this.trackUri},this.tracksUris)},pause:function(){W.spotify.player.pause()}}},yr=br,hr=(r("49fc"),Object(y["a"])(yr,pr,fr,!1,null,"16f2011c",null)),vr=hr.exports;function gr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gr(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var kr={name:"tracks-list",components:{TrackAddition:ur,TrackPlayback:vr},props:{tracks:{type:Array,required:!0},showArtists:{type:Boolean,default:!1},contextUri:{type:String,required:!1}},data:function(){return{tracksIds:"",savedTracks:[]}},computed:Or(Or({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"})),{},{tracksUris:function(){return this.tracks?this.tracks.map((function(t){return t.uri})):[]}}),methods:{fetchTrackIds:function(){this.tracks&&(this.tracksIds=this.tracks.map((function(t){return t.id})))},checkSavedTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,W.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:a=t.sent,e.offset=e.offset+e.limit,(r=e.items).push.apply(r,Object(st["a"])(a.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-list__row--active":e,"tracks-list__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()}},watch:{tracks:function(){this.fetchTrackIds(),this.checkSavedTracks()}}},_r=kr,wr=(r("37a9"),Object(y["a"])(_r,er,rr,!1,null,null,null)),jr=wr.exports;function Pr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pr(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Cr={name:"search-result-view",components:{TracksList:jr,MediaObject:Oe,EntityHeader:fe,MediaContainer:Ee},data:function(){return{maxResults:12}},computed:Er(Er({},Object(c["d"])("search",["query","result","isLoading","error","albums","tracks","artists","playlists"])),{},{isTracksExists:function(){return this.tracks&&this.tracks.total>0},isAlbumsExists:function(){return this.albums&&this.albums.total>0},isArtistsExists:function(){return this.artists&&this.artists.total>0},isPlaylistsExists:function(){return this.playlists&&this.playlists.total>0},getTracks:function(){var t=this;return this.tracks&&this.tracks.items?Object.keys(this.tracks.items).slice(0,5).map((function(e){return Er({},t.tracks.items[e])})):[]}}),methods:{goTo:function(t){js.push({name:t,params:{query:this.query}})}}},xr=Cr,Sr=Object(y["a"])(xr,Xe,tr,!1,null,null,null),Tr=Sr.exports,Ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){return t.loadMore(e,t.albums.next,t.getAlbums)}}},[r("media-container",t._l(t.albums.items,(function(t){return r("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,artists:t.artists,type:t.type}})})),1)],1)},Dr=[],Rr={methods:{loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r,a){var n,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=s.length>3&&void 0!==s[3]?s[3]:70,r&&e.detail.scrollbarV.percent>n&&a();case 2:case"end":return t.stop()}}),t)})));function e(e,r,a){return t.apply(this,arguments)}return e}()}};function Ir(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var qr={name:"search-album-view",mixins:[Rr],components:{MediaObject:Oe,MediaContainer:Ee},computed:Ur({},Object(c["d"])("search",["albums"])),methods:Ur({},Object(c["b"])({getAlbums:"search/getAlbums"}))},Lr=qr,Mr=Object(y["a"])(Lr,Ar,Dr,!1,null,null,null),Nr=Mr.exports,Fr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){return t.loadMore(e,t.artists.next,t.getArtists)}}},[r("media-container",t._l(t.artists.items,(function(t){return r("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,name:t.name,type:t.type,coverImg:t.images}})})),1)],1)},Vr=[];function Br(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Br(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $r={name:"search-artist-view",mixins:[Rr],components:{MediaObject:Oe,MediaContainer:Ee},computed:Qr({},Object(c["d"])("search",["artists"])),methods:Qr({},Object(c["b"])({getArtists:"search/getArtists"}))},Gr=$r,Yr=Object(y["a"])(Gr,Fr,Vr,!1,null,null,null),Kr=Yr.exports,zr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){return t.loadMore(e,t.playlists.next,t.getPlaylists)}}},[r("media-container",t._l(t.playlists.items,(function(t){return r("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})})),1)],1)},Hr=[];function Jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jr(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Wr={name:"search-playlist-view",mixins:[Rr],components:{MediaObject:Oe,MediaContainer:Ee},computed:Zr({},Object(c["d"])("search",["playlists"])),methods:Zr({},Object(c["b"])({getPlaylists:"search/getPlaylists"}))},Xr=Wr,ta=Object(y["a"])(Xr,zr,Hr,!1,null,null,null),ea=ta.exports,ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){return t.loadMore(e,t.tracks.next,t.getTracks)}}},[r("tracks-list",{attrs:{tracks:t.tracks.items}})],1)},aa=[];function na(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?na(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ia={name:"search-playlist-view",mixins:[Rr],components:{TracksList:jr},computed:sa({},Object(c["d"])("search",["tracks"])),methods:sa({},Object(c["b"])({getTracks:"search/getTracks"}))},ca=ia,oa=Object(y["a"])(ca,ra,aa,!1,null,null,null),la=oa.exports,ua=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"browse-view"},[r("ul",{staticClass:"browse-view__nav"},[r("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-genres"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      Genres & Moods\n    ")]),r("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-new-releases"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      New releases\n    ")])],1),r("div",{staticClass:"browse-view__content"},[r("router-view")],1)])},pa=[],fa={name:"browse-view"},ma=fa,da=(r("ca24"),Object(y["a"])(ma,ua,pa,!1,null,"33303ddc",null)),ba=da.exports,ya=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view"},[r("entity-header",{attrs:{title:"Genres & Moods",small:!0}}),r("div",{staticClass:"genres-view__inner"},t._l(t.categories,(function(e,a){return r("div",{key:a,staticClass:"genres-view__category"},[r("router-link",{attrs:{to:{name:"genres",params:{id:e.id}}}},[r("img",{staticClass:"genres-view__category-img",attrs:{src:e.icons[0].url,alt:e.name}}),r("div",{staticClass:"genres-view__category-name"},[t._v(t._s(e.name))])])],1)})),0)],1)},ha=[],va={name:"genres",components:{EntityHeader:fe},data:function(){return{categories:""}},methods:{getCategories:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.browse.getCategories();case 3:e=t.sent,this.categories=e.data.categories.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getCategories()}},ga=va,Oa=(r("0853"),Object(y["a"])(ga,ya,ha,!1,null,"ffcbc6c2",null)),ka=Oa.exports,_a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view",on:{vScroll:t.loadMore}},[r("entity-header",{attrs:{title:t.title}}),r("media-container",t._l(t.playlists.items,(function(t,e){return r("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})})),1)],1)},wa=[];function ja(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ja(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ja(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ea={name:"genres",components:{EntityHeader:fe,MediaObject:Oe,MediaContainer:Ee},data:function(){return{categoryID:null,playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},computed:{title:function(){return"".concat(this.categoryID.replace("_"," ")," playlists")}},methods:Pa(Pa({},Object(c["b"])({notFoundPage:"app/notFoundPage"})),{},{getCategoryPlaylists:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=10;break}return t.next=4,W.spotify.browse.getCategoryPlaylists(e,this.playlists.offset,this.playlists.limit);case 4:a=t.sent,n=a.data.playlists,this.playlists.offset=n.offset+this.playlists.limit,this.playlists.total=n.total,(r=this.playlists.items).push.apply(r,Object(st["a"])(n.items)),this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.notFoundPage(!0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(e){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getCategoryPlaylists(this.categoryID));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=this.$route.params.id;this.categoryID=t,this.getCategoryPlaylists(t)}},Ca=Ea,xa=(r("d005"),Object(y["a"])(Ca,_a,wa,!1,null,null,null)),Sa=xa.exports,Ta=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"new-releases-view",on:{vScroll:t.loadMore}},[r("entity-header",{attrs:{title:"New albums & singles",small:!0}}),r("div",{staticClass:"new-releases-view__inner"},[r("media-container",t._l(t.albums.items,(function(t,e){return r("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,artists:t.artists,type:t.type}})})),1)],1)],1)},Aa=[],Da={name:"new-releases",components:{EntityHeader:fe,MediaObject:Oe,MediaContainer:Ee},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},more:null}},methods:{getNewReleases:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,W.spotify.browse.getNewReleases(this.albums.offset,this.albums.limit);case 4:r=t.sent,this.albums.offset=r.data.albums.offset+this.albums.limit,this.albums.total=r.data.albums.total,(e=this.albums.items).push.apply(e,Object(st["a"])(r.data.albums.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getNewReleases());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getNewReleases()}},Ra=Da,Ia=(r("5342"),Object(y["a"])(Ra,Ta,Aa,!1,null,"1e62ec8c",null)),Ua=Ia.exports,qa=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artist-view",on:{vScroll:t.loadMore}},[r("div",{staticClass:"artist-view__content"},[t.artist?r("entity-info",{attrs:{coverImg:t.artist.images,type:t.artist.type,name:t.artist.name,uri:t.artist.uri,followers:t.artist.followers.total}}):t._e(),r("entity-header",{attrs:{title:"Popular",small:!0}}),r("tracks-list",{attrs:{tracks:t.tracks}}),t.albums?r("entity-header",{attrs:{title:"Albums",small:!0}}):t._e(),r("media-container",t._l(t.albums.items,(function(e,a){return t.albums?r("media-object",{key:a,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,artists:e.artists,type:e.type}}):t._e()})),1)],1)])},La=[],Ma=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.elClass},[r("div",{staticClass:"entity-info__cover"},[t.coverImg[0]?r("img",{staticClass:"entity-info__cover-img",attrs:{src:t.coverImg[0].url,alt:"cover"}}):t._e(),r("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"music"}}),r("div",{staticClass:"entity-info__cover-hover",attrs:{title:"Edit image"},on:{click:t.onCoverClick}},[r("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"pencil-alt"}})],1)],1),r("div",{staticClass:"entity-info__info"},[r("div",{staticClass:"entity-info__type"},[t._v(t._s(t.type))]),r("h2",{staticClass:"entity-info__name"},[t._v(t._s(t.name))]),t.description?r("p",{staticClass:"entity-info__desc",domProps:{innerHTML:t._s(t.$options.filters.convertURLs(t.description))}}):t._e(),t.artists?r("div",{staticClass:"entity-info__artists"},[t._v("\n      By\n      "),t._l(t.artists,(function(e,a){return r("router-link",{key:a,staticClass:"entity-info__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),a!==t.artists.length-1?[t._v(", ")]:t._e()],2)}))],2):t._e(),t.author?r("div",{staticClass:"entity-info__author"},[t._v("Author: "+t._s(t.author))]):t._e(),"playlist"===t.type?r("entity-action",{attrs:{type:t.type,playlistID:t.playlistID,uri:t.uri,ownerID:t.ownerID}}):t._e()],1),t.followers?r("div",{staticClass:"entity-info__followers"},[r("div",[t._v("Followers")]),t._v("\n    "+t._s(t.followers)+"\n  ")]):t._e(),t.ownerID===t.user.id&&"playlist"===t.type?r("playlist-update-modal"):t._e()],1)},Na=[],Fa=(r("c5f6"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"update-modal"},[r("v-modal",{attrs:{modalName:t.modalName,width:"500px"}},[r("template",{slot:"header"},[t._v("\n      Update Playlist Details\n    ")]),r("template",{slot:"body"},[r("form",{staticClass:"update-modal__form"},[r("div",{staticClass:"update-modal__form-left"},[r("v-input-file",{attrs:{"cover-url":t.coverUrl},on:{onFileChange:t.onFileChange}})],1),r("div",{staticClass:"update-modal__form-right"},[r("div",[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",[r("label",{attrs:{for:"description"}},[t._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])])]),r("template",{slot:"footer"},[r("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),r("v-button",{attrs:{onClick:t.update}},[t._v("Save")])],1)],2)],1)}),Va=[],Ba=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{class:t.elClass,on:{click:t.onClick}},[t._t("default")],2)},Qa=[],$a={name:"Button",props:{onClick:{required:!0},isBlack:{default:!1}},computed:{elClass:function(){return["btn",{"btn--black":this.isBlack}]}}},Ga=$a,Ya=(r("3a3a"),Object(y["a"])(Ga,Ba,Qa,!1,null,"754197fb",null)),Ka=Ya.exports,za=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"input-file",attrs:{for:"input-file__input"}},[r("div",{staticClass:"input-file__avatar",style:t.avatarStyles,attrs:{"data-text":t.hoverText}},[r("input",{staticClass:"input-file__input",attrs:{id:"input-file__input",type:"file"},on:{change:t.onFileChange}}),r("icon",{staticClass:"input-file__icon",attrs:{name:"camera"}})],1)])},Ha=[],Ja={name:"input-file",data:function(){return{avatarImg:"",avatarFile:""}},props:{hoverText:{type:String,required:!1,default:"Upload photo"},coverUrl:{type:String,required:!1}},computed:{avatarStyles:function(){return"background-image: url(".concat(this.avatarImg,");")}},methods:{onFileChange:function(t){var e=this,r=t.target.files||t.dataTransfer.files,a=new FileReader;r.length&&(this.avatarFile=r[0],a.onload=function(t){e.avatarImg=t.target.result},a.readAsDataURL(this.avatarFile),this.$emit("onFileChange",this.avatarFile))}},created:function(){this.coverUrl&&(this.avatarImg=this.coverUrl)}},Za=Ja,Wa=(r("7cd3"),Object(y["a"])(Za,za,Ha,!1,null,"0f717dd6",null)),Xa=Wa.exports,tn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal"},[r("modal",{attrs:{name:t.modalName,width:t.width}},[r("div",{staticClass:"modal__header"},[t._t("header")],2),r("div",{staticClass:"modal__body"},[t._t("body")],2),r("div",{staticClass:"modal__footer"},[t._t("footer")],2)])],1)},en=[],rn={name:"v-modal",props:{modalName:{type:String,required:!0},width:{required:!1,default:"400px"}},computed:{}},an=rn,nn=(r("481e"),Object(y["a"])(an,tn,en,!1,null,null,null)),sn=nn.exports;function cn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ln={name:"playlist-modal",components:{VButton:Ka,VInputFile:Xa,VModal:sn},data:function(){return{modalName:"playlist-update-modal",name:"",description:"",coverUrl:"",coverBase64:""}},computed:on({},Object(c["c"])({user:"user/getProfile",playlist:"playlist/getPlaylist"})),methods:on(on({},Object(c["b"])({addNotification:"notification/add",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists",fetchPlaylist:"playlist/fetchPlaylist"})),{},{hide:function(){this.$modal.hide(this.modalName)},getPlaylistID:function(){var t=this.playlist.uri.split(":");return t[t.length-1]},onFileChange:function(t){var e=this,r=new FileReader;r.readAsDataURL(t),r.onload=function(){e.coverBase64=r.result}},validate:function(){var t=!0;return this.name?this.description?t:(this.addNotification({type:"error",message:"You must give your playlist a description.",duration:3e3}),!1):(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},updateCover:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.coverBase64){t.next=12;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,W.spotify.playlists.updatePlaylistCover(this.user.id,e,this.coverBase64);case 5:r=t.sent,console.log(r),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(){return t.apply(this,arguments)}return e}(),update:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,W.spotify.playlists.updatePlaylist(this.user.id,e,this.name,this.description);case 5:this.fetchPlaylist({userID:this.userID,playlistID:e}),this.clearUserPlaylists(),this.getUserPlaylists(),this.addNotification({type:"success",message:"Playlist details updated.",duration:2e3}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error(t.t0);case 14:this.hide();case 15:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),init:function(){this.name=this.playlist.name,this.description=this.playlist.description,this.coverUrl="",this.playlist.images[0]&&(this.coverUrl=this.playlist.images[0].url)}}),watch:{playlist:function(){this.init()}},created:function(){this.init()}},un=ln,pn=(r("c1d0"),Object(y["a"])(un,Fa,Va,!1,null,"0975fe7a",null)),fn=pn.exports,mn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.elClass},[r("v-button",{staticClass:"entity-action__btn entity-action__btn--play",attrs:{onClick:t.onPlay}},[t._v("Play")]),r("v-button",{staticClass:"entity-action__btn entity-action__btn--pause",attrs:{onClick:t.onPause}},[t._v("Pause")]),"playlist"===t.type?[r("v-button",{staticClass:"entity-action__btn entity-action__btn--follow",attrs:{onClick:t.onFollow,isBlack:"true"}},[t._v("Follow")]),r("v-button",{staticClass:"entity-action__btn entity-action__btn--unfollow",attrs:{onClick:t.onUnfollow,isBlack:"true"}},[t._v("Unfollow")])]:t._e()],2)},dn=[];function bn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var hn={name:"entity-action",components:{vButton:Ka},props:{uri:{type:String,required:!0},playlistID:{type:String,required:!0},ownerID:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{isFollowing:!1}},computed:yn(yn({},Object(c["c"])({user:"user/getProfile",playbackContext:"player/getPlaybackContext"})),{},{elClass:function(){return["entity-action",{"entity-action--playing":!this.playbackContext.paused&&this.playbackContext.context&&this.playbackContext.context.uri===this.uri,"entity-action--following":this.isFollowing}]}}),methods:yn(yn({},Object(c["b"])({getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"})),{},{onPlay:function(){this.playbackContext.context.uri===this.uri?W.spotify.player.play():W.spotify.player.play(this.uri)},onPause:function(){W.spotify.player.pause()},onFollow:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.follow.followPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),onUnfollow:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.follow.unfollowPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),checkIfUserFollowPlaylist:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.follow.checkIfUserFollowPlaylist(e,r,a);case 3:n=t.sent,this.isFollowing=n.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e,r,a){return t.apply(this,arguments)}return e}(),init:function(){this.isFollowing=null,this.checkIfUserFollowPlaylist(this.ownerID,this.playlistID,this.user.id)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},vn=hn,gn=(r("96f5"),Object(y["a"])(vn,mn,dn,!1,null,"26e11096",null)),On=gn.exports;function kn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var wn={name:"entity-info",components:{PlaylistUpdateModal:fn,EntityAction:On},props:{uri:{required:!0},playlistID:{type:String,required:!1},coverImg:{type:Array,required:!1},type:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!1},author:{type:String,required:!1},artists:{type:Array,required:!1},followers:{type:[Number,String],required:!1},ownerID:{type:String,required:!1}},data:function(){return{}},computed:_n(_n({},Object(c["c"])({user:"user/getProfile"})),{},{elClass:function(){return["entity-info",{"entity-info--editable":this.ownerID===this.user.id&&"playlist"===this.type}]}}),methods:{onCoverClick:function(){this.$modal.show("playlist-update-modal")}}},jn=wn,Pn=(r("705c"),Object(y["a"])(jn,Ma,Na,!1,null,"be8335f2",null)),En=Pn.exports;function Cn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Sn={name:"artist-view",components:{EntityHeader:fe,EntityInfo:En,MediaObject:Oe,MediaContainer:Ee,TracksList:jr},data:function(){return{artistID:null,artist:null,tracks:null,albums:null,isMore:null}},methods:xn(xn({},Object(c["b"])({notFoundPage:"app/notFoundPage"})),{},{initData:function(){this.artist=null,this.tracks=null,this.albums={limit:25,offset:0,total:1,items:[]}},getArtist:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.artists.getArtist(e);case 3:r=t.sent,this.artist=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getArtistAlbums:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,W.spotify.artists.getArtistAlbums(e,"album,single",this.albums.offset,this.albums.limit);case 4:a=t.sent,this.albums.offset=a.data.offset+this.albums.limit,this.albums.total=a.data.total,(r=this.albums.items).push.apply(r,Object(st["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}(),getArtistTopTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.artists.getArtistTopTracks(e,"PL");case 3:r=t.sent,this.tracks=r.data.tracks,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtistAlbums(this.artistID));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),init:function(){this.artistID=this.$route.params.id,this.initData(),this.getArtist(this.artistID),this.getArtistAlbums(this.artistID),this.getArtistTopTracks(this.artistID)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},Tn=Sn,An=Object(y["a"])(Tn,qa,La,!1,null,"e8d4bca8",null),Dn=An.exports,Rn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"album-view"},[r("div",[t.album?r("entity-info",{attrs:{coverImg:t.album.images,type:t.album.type,name:t.album.name,description:t.album.description,artists:t.album.artists,uri:t.album.uri}}):t._e(),t.album&&t.tracks?r("tracks-list",{attrs:{tracks:t.tracks,showArtists:!0,contextUri:t.album.uri}}):t._e()],1)])},In=[];function Un(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ln={name:"album-view",components:{EntityInfo:En,TracksList:jr},data:function(){return{albumID:null,album:null,tracks:null}},methods:qn(qn({},Object(c["b"])({notFoundPage:"app/notFoundPage"})),{},{getAlbum:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.albums.getAlbum(e);case 3:r=t.sent,this.album=r.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),getAlbumTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.albums.getAlbumTracks(e);case 3:r=t.sent,this.tracks=r.data.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){this.albumID=this.$route.params.id,this.getAlbum(this.albumID),this.getAlbumTracks(this.albumID)}},Mn=Ln,Nn=Object(y["a"])(Mn,Rn,In,!1,null,"171635d7",null),Fn=Nn.exports,Vn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"playlist-view",on:{vScroll:t.loadMore}},[r("div",{staticClass:"playlist-view__content"},[t.playlist?r("entity-info",{attrs:{coverImg:t.playlist.images,type:t.playlist.type,name:t.playlist.name,description:t.playlist.description,author:t.playlist.owner.display_name,followers:t.playlist.followers.total,uri:t.playlist.uri,playlistID:t.playlistID,ownerID:t.playlist.owner.id}}):t._e(),r("tracks-table",{attrs:{tracks:t.tracks.items,contextUri:t.playlist.uri}})],1)])},Bn=[],Qn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.tracks.length?r("div",{staticClass:"tracks-table"},[r("div",{staticClass:"tracks-table__row tracks-table__row--header"},[r("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"}),r("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"}),r("div",{staticClass:"tracks-table__cell tracks-table__cell--name"},[t._v("\n      Title\n    ")]),r("div",{staticClass:"tracks-table__cell tracks-table__cell--artist"},[t._v("\n      Artist\n    ")]),r("div",{staticClass:"tracks-table__cell tracks-table__cell--album"},[t._v("\n      Album\n    ")]),r("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[r("icon",{attrs:{name:"calendar-alt"}})],1),r("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[r("icon",{attrs:{name:"clock"}})],1)]),t._l(t.tracks,(function(e,a){return r("div",{key:a,staticClass:"tracks-table__row",class:t.isActiveTrack(e.track),attrs:{"data-id":e.track.id}},[r("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"},[r("track-playback",{attrs:{trackUri:e.track.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:a}})],1),r("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"},[r("track-addition",{attrs:{trackID:e.track.id,isSaved:t.savedTracks[a]},on:{updateTrackstatus:t.onTrackUpdate,savedTrackRemove:t.onSavedTrackRemove}})],1),r("div",{staticClass:"tracks-table__cell"},[t._v("\n      "+t._s(e.track.name)+"\n      "),e.track.explicit?r("span",{staticClass:"tracks-table__explicit-label"},[t._v("\n          Explicit\n        ")]):t._e()]),r("div",{staticClass:"tracks-table__cell"},[r("div",t._l(e.track.artists,(function(a,n){return r("router-link",{key:n,staticClass:"tracks-table__link",attrs:{to:{name:"artist",params:{id:a.id}}}},[t._v("\n          "+t._s(a.name)+"\n          "),n!==e.track.artists.length-1?[t._v(", ")]:t._e()],2)})),1)]),r("div",{staticClass:"tracks-table__cell"},[r("router-link",{staticClass:"tracks-table__link",attrs:{to:{name:"album",params:{id:e.track.album.id}}}},[t._v("\n        "+t._s(e.track.album.name)+"\n      ")])],1),r("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[t._v("\n      "+t._s(t._f("moment")(e.added_at,"MM-DD-YYYY"))+"\n    ")]),r("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.track.duration_ms))+"\n    ")])])}))],2):t._e()},$n=[];function Gn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Kn={name:"tracks-table",components:{TrackAddition:ur,TrackPlayback:vr},props:{tracks:{required:!0,default:[]},type:{type:String,required:!1},contextUri:{required:!1}},data:function(){return{tracksUris:"",tracksIds:"",savedTracks:[]}},computed:Yn({},Object(c["c"])({user:"user/getProfile",playback:"player/getPlayback",context:"player/getPlaybackContext"})),methods:{sortBy:function(t,e){},fetchTrackUris:function(){this.tracksUris=this.tracks.map((function(t){return t.track.uri}))},fetchTrackIds:function(){this.tracksIds=this.tracks.map((function(t){return t.track.id}))},checkSavedTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,W.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:a=t.sent,e.offset=e.offset+e.limit,(r=e.items).push.apply(r,Object(st["a"])(a.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-table__row--active":e,"tracks-table__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()},onSavedTrackRemove:function(t){"library"===this.type&&document.querySelectorAll("[data-id='".concat(t,"']"))[0].remove()}},watch:{tracks:function(){this.fetchTrackUris(),this.fetchTrackIds(),this.checkSavedTracks()}}},zn=Kn,Hn=(r("79bf"),Object(y["a"])(zn,Qn,$n,!1,null,null,null)),Jn=Hn.exports;function Zn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Xn={name:"playlist-view",components:{EntityInfo:En,TracksTable:Jn},data:function(){return{userID:null,playlistID:null,tracks:null,more:null}},computed:Wn({},Object(c["c"])("playlist",{playlist:"getPlaylist"})),methods:Wn(Wn({},Object(c["b"])({notFoundPage:"app/notFoundPage",fetchPlaylist:"playlist/fetchPlaylist"})),{},{initData:function(){this.tracks={limit:50,offset:0,total:1,items:[]}},getPlaylistTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,W.spotify.playlists.getPlalistsTracks(e,r,this.tracks.offset,this.tracks.limit);case 4:n=t.sent,this.tracks.offset=n.data.offset+this.tracks.limit,this.tracks.total=n.data.total,(a=this.tracks.items).push.apply(a,Object(st["a"])(n.data.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.notFoundPage(!0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e,r){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getPlaylistTracks(this.userID,this.playlistID));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),init:function(){var t=this.$route.params,e=t.user_id,r=t.playlist_id;this.userID=e,this.playlistID=r,this.initData(),this.getPlaylistTracks(this.userID,this.playlistID),this.fetchPlaylist({userID:this.userID,playlistID:this.playlistID})}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},ts=Xn,es=Object(y["a"])(ts,Vn,Bn,!1,null,"03c833bb",null),rs=es.exports,as=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"tracks-view",on:{vScroll:t.loadMore}},[r("div",{staticClass:"tracks-view__content"},[r("entity-header",{attrs:{title:"Songs"}}),r("tracks-table",{attrs:{tracks:t.tracks.items,type:"library"}})],1)])},ns=[],ss={name:"Tracks",components:{EntityHeader:fe,TracksTable:Jn},data:function(){return{tracks:{limit:25,offset:0,total:1,items:[]},isMore:null}},computed:{},methods:{getTracks:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,W.spotify.library.getTracks(this.tracks.offset,this.tracks.limit);case 4:r=t.sent,this.tracks.offset=r.data.offset+this.tracks.limit,this.tracks.total=r.data.total,(e=this.tracks.items).push.apply(e,Object(st["a"])(r.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getTracks());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getTracks()}},is=ss,cs=Object(y["a"])(is,as,ns,!1,null,"813dc906",null),os=cs.exports,ls=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"albums-view",on:{vScroll:t.loadMore}},[r("entity-header",{attrs:{title:"Albums"}}),r("div",{staticClass:"albums-view__content"},[r("media-container",t._l(t.albums.items,(function(t,e){return r("media-object",{key:e,attrs:{id:t.album.id,uri:t.album.uri,coverImg:t.album.images,name:t.album.name,artists:t.album.artists,type:t.album.type}})})),1)],1)],1)},us=[],ps={name:"Albums",components:{MediaObject:Oe,EntityHeader:fe,MediaContainer:Ee},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},isMore:null}},methods:{getAlbums:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,W.spotify.library.getAlbums(this.albums.offset,this.albums.limit);case 4:r=t.sent,this.albums.offset=r.data.offset+this.albums.limit,this.albums.total=r.data.total,(e=this.albums.items).push.apply(e,Object(st["a"])(r.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getAlbums());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getAlbums()}},fs=ps,ms=Object(y["a"])(fs,ls,us,!1,null,"8c4b84ec",null),ds=ms.exports,bs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artists-view",on:{vScroll:t.loadMore}},[r("entity-header",{attrs:{title:"Artists"}}),r("div",{staticClass:"artists-view__content"},[r("media-container",[t._l(t.artists.items,(function(t){return r("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,name:t.name,type:t.type,coverImg:t.images}})}))],2)],1)],1)},ys=[];r("3b2b");function hs(t,e,r){var a;return function(){var n=this,s=arguments,i=function(){a=null,r||t.apply(n,s)},c=r&&!a;clearTimeout(a),a=setTimeout(i,e),c&&t.apply(n,s)}}function vs(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),a=r.exec(e);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var gs={name:"ArtistsView",components:{MediaObject:Oe,EntityHeader:fe,MediaContainer:Ee},data:function(){return{artists:{limit:1,offset:0,total:1,after:null,items:[]},isMore:null}},methods:{getArtist:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.artists.total>this.artists.offset)){t.next=10;break}return t.next=4,W.spotify.follow.getFollowedArtists(this.artists.limit,this.artists.after);case 4:r=t.sent,this.artists.after=vs("after",r.data.artists.next),this.artists.total=r.data.artists.total,(e=this.artists.items).push.apply(e,Object(st["a"])(r.data.artists.items)),this.artists.offset=this.artists.items.length,this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}(),loadMore:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtist());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getArtist()}},Os=gs,ks=Object(y["a"])(Os,bs,ys,!1,null,"632b691d",null),_s=ks.exports;a["a"].use(k["a"]);var ws=new k["a"]({routes:[{path:"/login",name:"Login",component:ne},{path:"/",name:"Home",redirect:{name:"browse"}},{path:"/search",name:"search",component:We,children:[{path:"result/:query",name:"search-result",component:Tr},{path:"album/:query",name:"search-album",component:Nr},{path:"artist/:query",name:"search-artist",component:Kr},{path:"playlist/:query",name:"search-playlist",component:ea},{path:"track/:query",name:"search-track",component:la}]},{path:"/user/:id",name:"user",component:De},{path:"/artist/:id",name:"artist",component:Dn},{path:"/album/:id",name:"album",component:Fn},{path:"/genres/:id",name:"genres",component:Sa},{path:"/browse",name:"browse",component:ba,redirect:{name:"browse-genres"},children:[{name:"browse-genres",path:"genres",component:ka},{name:"browse-new-releases",path:"newreleases",component:Ua}]},{path:"/collection/tracks",name:"tracks-collection",component:os},{path:"/collection/albums",name:"albums-collection",component:ds},{path:"/collection/artists",name:"artists-collection",component:_s},{path:"/user/:user_id/playlist/:playlist_id",name:"playlist",component:rs},{path:"*",beforeEnter:function(t,e,r){Jt.dispatch("app/notFoundPage",!0),r()}}]});ws.beforeEach((function(t,e,r){Jt.getters["app/notFound"]&&Jt.dispatch("app/notFoundPage",!1),Jt.getters["auth/getAccessToken"]||"Login"===t.name||(Jt.dispatch("auth/login"),r(!1)),r()}));var js=ws;function Ps(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Cs={name:"navbar-search",methods:Es(Es({},Object(c["b"])({search:"search/search"})),{},{onFocus:function(t){var e=this.$route,r=e.name,a=e.params.query,n=t.target.value;n?js.push({name:"search-result",params:{query:n}}):"search"===r||a||js.push("/search")},onKeyUp:function(t){var e=t.target.value;""!==e&&(this.$router.replace({name:"search-result",params:{query:e}}),this.search(e))}})},xs=Cs,Ss=(r("87f9"),Object(y["a"])(xs,g,O,!1,null,"f8f3d6a4",null)),Ts=Ss.exports,As=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.user?r("div",{staticClass:"navbar-nav"},[r("div",{staticClass:"navbar-nav__item"},[r("router-link",{staticClass:"navbar-nav__link",attrs:{to:{name:"user",params:{id:t.user.id}}}},[t._v("\n      "+t._s(t.user.display_name)+"\n    ")])],1)]):t._e()},Ds=[];function Rs(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rs(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rs(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Us={name:"navbar-nav",data:function(){return{isVisible:!1}},computed:Is({},Object(c["c"])({user:"user/getProfile"})),methods:Is(Is({},Object(c["b"])("auth",["logout"])),{},{clickOutEvent:function(t){var e=this.$el.children[0];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible?setTimeout((function(){return document.addEventListener("click",t.clickOutEvent)}),100):this.close()},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)}})},qs=Us,Ls=(r("707a"),Object(y["a"])(qs,As,Ds,!1,null,"e79a6f8e",null)),Ms=Ls.exports,Ns={name:"navbar",components:{NavbarHistory:v,NavbarSearch:Ts,NavbarNav:Ms}},Fs=Ns,Vs=(r("1b0b"),Object(y["a"])(Fs,u,p,!1,null,"9bec4faa",null)),Bs=Vs.exports,Qs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar"},[r("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"sidebar__inner",on:{scrollReachBottom:t.loadMore}},[r("sidebar-nav",{attrs:{links:t.browse}}),r("sidebar-nav",{attrs:{title:"Library",links:t.library}}),r("sidebar-nav",{attrs:{title:"Playlists",links:t.playlists.items}})],1),r("button",{staticClass:"sidebar__btn",on:{click:function(e){return t.$modal.show("playlist-create-modal")}}},[r("icon",{staticClass:"sidebar__btn-icon",attrs:{name:"plus"}}),r("span",[t._v("New playlist")])],1),r("playlist-create-modal")],1)},$s=[],Gs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar-nav"},[t.title?r("h2",{staticClass:"sidebar-nav__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),r("ul",t._l(t.links,(function(e,a){return r("router-link",{key:a,staticClass:"sidebar-nav__item",attrs:{tag:"li","active-class":"sidebar-nav__item--active",to:t.createRoute(e)}},[t._v("\n      "+t._s(e.name)+"\n      "),t.playbackContext.context&&t.playbackContext.context.uri===e.uri?r("button",{staticClass:"sidebar-nav__playing-icon icon-sound-on"}):t._e()])})),1)])},Ys=[];function Ks(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function zs(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ks(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Hs={name:"sidebar-nav",props:{title:{type:String,required:!1},links:{type:Array,required:!0,default:function(){return[]}}},computed:zs({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"})),methods:{createRoute:function(t){var e={name:t.type};switch(t.type){case"playlist":Object.assign(e,{params:{user_id:t.owner.id,playlist_id:t.id}});break}return e}}},Js=Hs,Zs=(r("34b2"),Object(y["a"])(Js,Gs,Ys,!1,null,"4e585924",null)),Ws=Zs.exports,Xs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"playlist-create-modal"},[r("v-modal",{attrs:{modalName:t.modalName}},[r("template",{slot:"header"},[t._v("\n      Create Playlist\n    ")]),r("template",{slot:"body"},[r("form",[r("div",[r("label",{attrs:{for:"name"}},[t._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",[r("label",{attrs:{for:"description"}},[t._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),r("template",{slot:"footer"},[r("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),r("v-button",{attrs:{onClick:t.create}},[t._v("Create")])],1)],2)],1)},ti=[];function ei(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ei(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ai={name:"playlist-modal",components:{VButton:Ka,VModal:sn},data:function(){return{modalName:"playlist-create-modal",name:"",description:""}},computed:ri({},Object(c["c"])({user:"user/getProfile"})),methods:ri(ri({},Object(c["b"])({addNotification:"notification/add",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"})),{},{hide:function(){this.$modal.hide(this.modalName)},clearForm:function(){this.name="",this.description=""},validate:function(){var t=!0;return this.name?t:(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},create:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,t.next=4,W.spotify.playlists.createPlaylist(this.user.id,this.name,this.description);case 4:e=t.sent,this.clearUserPlaylists(),this.getUserPlaylists(),this.$router.push({name:"playlist",params:{user_id:this.user.id,playlist_id:e.data.id}}),this.hide(),this.clearForm(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));function e(){return t.apply(this,arguments)}return e}()})},ni=ai,si=Object(y["a"])(ni,Xs,ti,!1,null,null,null),ii=si.exports;function ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ci(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var li={name:"sidebar",components:{PlaylistCreateModal:ii,SidebarNav:Ws},computed:oi(oi({},Object(c["c"])("user",{playlists:"getPlaylists"})),{},{browse:function(){return[{type:"browse",name:"Browse"}]},library:function(){return[{type:"tracks-collection",name:"Songs"},{type:"albums-collection",name:"Albums"},{type:"artists-collection",name:"Artists"}]}}),methods:oi(oi({},Object(c["b"])("user",{getUserPlaylists:"getCurrentUserPlaylists"})),{},{loadMore:function(){this.getUserPlaylists(25)}}),created:function(){this.getUserPlaylists()}},ui=li,pi=(r("894a"),Object(y["a"])(ui,Qs,$s,!1,null,"39143cf6",null)),fi=pi.exports,mi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"player"},[t.playback?r("div",{staticClass:"player__inner"},[r("current-track",{staticClass:"player__left"}),r("div",{staticClass:"player__center"},[r("player-controls"),r("player-playback")],1),r("div",{staticClass:"player__right"},[r("device-picker"),r("volume-bar")],1)],1):t._e()])},di=[],bi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"volume-bar"},[r("button",{class:t.classesButton,on:{click:t.onButtonClick}}),r("vue-slider",{staticClass:"volume-bar__slider",attrs:{tooltip:!1,"dot-size":15,"process-style":{background:"#a4a1ed"},"bg-style":{background:"#3d3c5a",width:"80px"}},on:{"drag-start":t.onDragStart,callback:t.onSliderChange,"drag-end":t.onDragEnd},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)},yi=[];function hi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hi(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var gi={name:"volume-bar",data:function(){return{volume:0,tmpVolume:0,dragStartVolume:0}},computed:vi(vi({},Object(c["c"])("player",{playback:"getPlayback"})),{},{classesButton:function(){return["volume-bar__button",{"icon-sound-on":this.volume,"icon-sound-off":!this.volume}]}}),methods:{setVolume:function(t){try{W.spotify.player.volume(t)}catch(e){console.log(e)}},onButtonClick:function(){this.volume>0?(this.tmpVolume=this.volume,this.volume=0):this.volume=this.tmpVolume,this.setVolume(this.volume)},onDragStart:function(t){var e=t.currentValue;this.dragStartVolume=e},onDragEnd:function(t){var e=t.currentValue;this.setVolume(e)},onSliderChange:function(t){var e=Math.abs(this.dragStartVolume-t);e>=10&&(this.dragStartVolume=t,this.setVolume(t))}},watch:{playback:function(t){this.volume=t.device.volume_percent}},mounted:function(){this.volume=this.playback.device.volume_percent}},Oi=gi,ki=(r("c0f8"),Object(y["a"])(Oi,bi,yi,!1,null,null,null)),_i=ki.exports,wi=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.playback?r("div",{staticClass:"current-track"},[r("div",{staticClass:"current-track__cover"},[r("router-link",{attrs:{to:t.createUrlForCover(t.playback.context)}},[r("img",{staticClass:"current-track__img",attrs:{src:t.playback.item.album.images[2].url}})])],1),r("div",{staticClass:"current-track__info"},[r("router-link",{staticClass:"current-track__name",attrs:{to:{name:"album",params:{id:t.playback.item.album.id}}}},[t._v("\n      "+t._s(t.playback.item.name)+"\n    ")]),r("track-addition",{attrs:{trackID:t.currentTrackID,isSaved:t.isSavedTrack},on:{updateTrackstatus:t.onTrackUpdate}}),r("div",{staticClass:"current-track__artists"},t._l(t.playback.item.artists,(function(e,a){return r("router-link",{key:a,staticClass:"current-track__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),a!==t.playback.item.artists.length-1?[t._v(", ")]:t._e()],2)})),1)],1)]):t._e()},ji=[];function Pi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ei(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pi(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ci={name:"current-track",components:{TrackAddition:ur},computed:Ei({},Object(c["c"])("player",{playback:"getPlayback"})),data:function(){return{currentTrackID:"",isSavedTrack:!1}},methods:{checkSavedTrack:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.library.checkUserSavedTracks(e);case 3:r=t.sent,this.isSavedTrack=r.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),createUrlForCover:function(t){if(t){var e=t.uri.split(":"),r={name:t.type};switch(t.type){case"playlist":Object.assign(r,{params:{user_id:e[2],playlist_id:e[e.length-1]}});break;case"album":case"artist":Object.assign(r,{params:{id:e[e.length-1]}});break}return r}return{}},onTrackUpdate:function(t){this.checkSavedTrack(t)}},watch:{playback:function(){this.currentTrackID!==this.playback.item.id&&(this.currentTrackID=this.playback.item.id),this.checkSavedTrack(this.currentTrackID)}},created:function(){this.currentTrackID=this.playback.item.id,this.checkSavedTrack(this.currentTrackID)}},xi=Ci,Si=(r("b809"),Object(y["a"])(xi,wi,ji,!1,null,null,null)),Ti=Si.exports,Ai=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.playback?r("div",{staticClass:"player-controls"},[r("button",{class:t.classesShuffle,attrs:{title:"Shuffle"},on:{click:t.shuffle}}),r("button",{staticClass:"player-controls__button icon-previous",attrs:{title:"Previous"},on:{click:t.prev}}),t.context.paused?[r("button",{staticClass:"player-controls__button player-controls__button--play icon-play-circle",on:{click:t.play}})]:[r("button",{staticClass:"player-controls__button player-controls__button--pause icon-pause-circle",on:{click:t.pause}})],r("button",{staticClass:"player-controls__button icon-next",attrs:{title:"Next"},on:{click:t.next}}),r("button",{class:t.classesRepeat,attrs:{title:"Repeat"},on:{click:t.repeat}})],2):t._e()},Di=[];r("14b9");function Ri(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ri(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ri(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ui={name:"player-controls",computed:Ii(Ii({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"})),{},{classesShuffle:function(){return["player-controls__button","icon-shuffle",{"player-controls__button--active":this.context.shuffle}]},classesRepeat:function(){return["player-controls__button",{"icon-repeat":2!==this.context.repeat_mode,"icon-repeat-one":2===this.context.repeat_mode,"player-controls__button--active":this.context.repeat_mode>0}]}}),methods:{next:function(){W.spotify.player.nextTrack()},prev:function(){W.spotify.player.previousTrack()},pause:function(){W.spotify.player.pause()},play:function(){W.spotify.player.play()},shuffle:function(){W.spotify.player.shuffle(this.context.shuffle)},repeat:function(){var t=["off","context","track"],e=this.context.repeat_mode,r=2===e?0:e+1;W.spotify.player.repeat(t[r])}}},qi=Ui,Li=(r("b154"),Object(y["a"])(qi,Ai,Di,!1,null,"e09b4056",null)),Mi=Li.exports,Ni=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.context?r("div",{staticClass:"player-playback"},[r("div",{staticClass:"player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.progress)))]),r("div",{staticClass:"player-playback__progress-bar"},[r("vue-slider",{attrs:{max:t.songDuration,tooltip:!1,"dot-size":15,"process-style":{background:"#a4a1ed"},"bg-style":{background:"#3d3c5a"}},on:{"drag-start":t.onDragStart,callback:t.onProgressChange,"drag-end":t.onDragEnd},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),r("div",{staticClass:" player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.songDuration)))])]):t._e()},Fi=[];function Vi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vi(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Qi={name:"player-player-playback",data:function(){return{progress:0,progressInterval:null,isDragStart:!1,songDuration:0}},computed:Bi({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext",isPlaying:"isPlaying"})),methods:{updateProgress:function(){var t=this;clearInterval(this.progressInterval),this.progress=this.context.position,this.context.paused||(this.progressInterval=setInterval((function(){t.playback&&t.progress+1e3<=t.songDuration&&(t.progress=t.progress+1e3)}),1e3))},onDragStart:function(t){t.currentValue;this.isDragStart=!0},onDragEnd:function(t){var e=t.currentValue;this.isDragStart=!1,W.spotify.player.seekToPosition(e)},onProgressChange:function(t){this.isDragStart||(this.isDragStart=!1,W.spotify.player.seekToPosition(t))}},watch:{playback:function(){this.songDuration=this.playback.item.duration_ms},context:function(){this.progress=this.context.position},isPlaying:function(){this.updateProgress()}},created:function(){this.updateProgress(),this.songDuration=this.playback.item.duration_ms}},$i=Qi,Gi=(r("7160"),Object(y["a"])($i,Ni,Fi,!1,null,null,null)),Yi=Gi.exports,Ki=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("button",{staticClass:"device-picker__button",on:{click:t.onClick}},[a("icon",{staticClass:"device-picker__button-d",attrs:{name:"desktop"}}),a("icon",{staticClass:"device-picker__button-m",attrs:{name:"mobile-alt"}})],1),t.isVisible?a("div",{staticClass:"device-picker__container"},[a("h3",{staticClass:"device-picker__title"},[t._v("Connect to a device")]),a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"device-picker__content"},[a("img",{staticClass:"device-picker__header",attrs:{src:r("c121"),alt:"connect-header"}}),a("ul",{staticClass:"device-picker__list"},t._l(t.devices,(function(e,r){return a("li",{key:r,staticClass:"device-picker__list-item",class:{"device-picker__list-item--active":e.is_active}},[a("button",{staticClass:"device-picker__list-item",on:{click:function(r){return t.onDeviceConnect(e.id)}}},["Smartphone"===e.type?a("icon",{staticClass:"device-picker__device-icon",attrs:{name:"mobile-alt"}}):t._e(),"Computer"===e.type?a("icon",{staticClass:"device-picker__device-icon",attrs:{name:"laptop"}}):t._e(),a("div",{staticClass:"device-picker__device-info"},[a("span",{staticClass:"device-picker__device-title"},[e.is_active?t._e():[t._v(t._s(e.name))],e.is_active?[t._v("Listening On")]:t._e()],2),a("span",{staticClass:"device-picker__device-subtitle icon-sound-on"},[e.is_active?[t._v(t._s(e.name))]:[t._v(" Spotify Connect")]],2)])],1)])})),0)])]):t._e()])},zi=[],Hi={name:"device-picker",data:function(){return{devices:null,isVisible:!1}},computed:{elClass:function(){return["device-picker",{"device-picker--opened":this.isVisible}]}},methods:{getUserDevices:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.player.getUserDevices();case 3:e=t.sent,this.devices=e.data.devices,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),clickOutEvent:function(t){var e=this.$el.children[1];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible&&setTimeout((function(){return document.addEventListener("click",t.clickOutEvent)}),100)},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)},onDeviceConnect:function(){var t=Object(S["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.spotify.player.transferUsersPlayback([e],!0);case 3:this.close(),setTimeout((function(){r.getUserDevices()}),500),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.getUserDevices()}},Ji=Hi,Zi=(r("71ca"),Object(y["a"])(Ji,Ki,zi,!1,null,null,null)),Wi=Zi.exports;function Xi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function tc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ec={name:"player",components:{VolumeBar:_i,CurrentTrack:Ti,PlayerControls:Mi,PlayerPlayback:Yi,DevicePicker:Wi},computed:tc({},Object(c["c"])("player",{playback:"getPlayback"}))},rc=ec,ac=(r("c5a0"),Object(y["a"])(rc,mi,di,!1,null,"037c3417",null)),nc=ac.exports,sc={name:"AppLayout",components:{Navbar:Bs,Sidebar:fi,Player:nc}},ic=sc,cc=(r("0810"),Object(y["a"])(ic,o,l,!1,null,"792bf192",null)),oc=cc.exports,lc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"not-found-view"},[r("div",{staticClass:"not-found-view__content"},[t._m(0),r("v-button",{attrs:{onClick:t.onBackButton}},[t._v("Return to the app")])],1)])},uc=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("Sorry, it looks like we couldn't find what you're looking for. "),r("br"),t._v("Click the button below to go back.")])}],pc={name:"NotFound",components:{vButton:Ka},methods:{onBackButton:function(){this.$router.push("/")}}},fc=pc,mc=(r("4356"),Object(y["a"])(fc,lc,uc,!1,null,"18d1446b",null)),dc=mc.exports,bc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.notifications,(function(e,a){return r("notify",{key:"notification-"+a,attrs:{message:e.message,type:e.type,duration:e.duration},on:{close:function(r){return t.removeNotification(e)}}})})),1)},yc=[],hc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.classes},[r("span",{domProps:{innerHTML:t._s(t.message)}}),r("button",{staticClass:"notify__close-btn",attrs:{type:"button","aria-label":"Close alert"},on:{click:function(e){return t.close()}}},[r("icon",{attrs:{name:"times-circle"}})],1)])},vc=[],gc={name:"notify",props:{type:{type:String,default:"info"},message:{type:String,required:!0},duration:{type:Number,default:4e3}},computed:{classes:function(){return["notify",this.type?"notify--".concat(this.type):""]}},methods:{close:function(){this.$emit("close")}}},Oc=gc,kc=(r("41f9"),Object(y["a"])(Oc,hc,vc,!1,null,"b671df74",null)),_c=kc.exports;function wc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function jc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wc(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Pc={name:"notification",components:{Notify:_c},computed:jc({},Object(c["c"])({notifications:"notification/getNotifications"})),methods:jc({},Object(c["b"])({removeNotification:"notification/remove"}))},Ec=Pc,Cc=Object(y["a"])(Ec,bc,yc,!1,null,null,null),xc=Cc.exports;function Sc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function Tc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sc(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ac={name:"app",components:{AppLayout:oc,NotFoundView:dc,Notification:xc},computed:Tc({},Object(c["c"])({notFound:"app/notFound",notifications:"notification/getNotifications"})),methods:Tc({},Object(c["b"])({init:"app/init",removeNotification:"notification/removeNotification"})),created:function(){this.init()}},Dc=Ac,Rc=(r("cf25"),Object(y["a"])(Dc,n,s,!1,null,null,null)),Ic=Rc.exports,Uc=r("65f9"),qc=window.MISSION_CONTROL_URL,Lc=window.MISSION_CONTROL_TOKEN;window.MISSION_CONTROL_SPOTIFY_TOKEN;console.log("Connecting to URL",qc),console.log("Using API token",Lc);var Mc=new Uc["a"](qc,Lc);Mc.on("connect",(function(){console.log("Connected to mission control")})),Mc.on("disconnect",(function(t){console.log("Disconnected from mission control:",t)})),Mc.on("initial-state",(function(t){console.log("Got state",t);var e=t.state.spotify;Jt.commit("auth/SET_ACCESS_TOKEN",e.accessToken)})),Mc.subscribe("update:spotify",(function(t){console.log("Got update",t);var e=t.state.spotify;Jt.commit("auth/SET_ACCESS_TOKEN",e.accessToken)}));var Nc=r("0874"),Fc=r("1881"),Vc=r.n(Fc),Bc=r("2ead"),Qc=r.n(Bc),$c=r("caf9"),Gc=r("8809");a["a"].directive("scroll",{bind:function(t,e,r){t.classList.add("optiscroll");new Optiscroll(t,{});t.addEventListener("scrollreachbottom",(function(t){r.componentInstance?r.componentInstance.$emit("scrollReachBottom",t):r.elm.dispatchEvent(new CustomEvent("scrollReachBottom",t))}));var a=hs((function(t){r.componentInstance?r.componentInstance.$emit("vScroll",t):r.elm.dispatchEvent(new CustomEvent("vScroll",t))}),300);t.addEventListener("scroll",a)}}),a["a"].filter("msToMinutes",(function(t){var e=Math.floor(t/6e4),r=(t%6e4/1e3).toFixed(0);return e+":"+(r<10?"0":"")+r})),a["a"].filter("convertURLs",(function(t){var e=t;return e=e.replace(new RegExp("https://open.spotify.com/genre/","g"),"#/genres/"),e=e.replace(new RegExp("spotify:user:spotify:playlist:","g"),"#/user/spotify/playlist/"),e}));r("5c3a"),r("d06d");a["a"].component("icon",Nc["a"]),a["a"].component("vueSlider",Gc["a"]),a["a"].use(Vc.a),a["a"].use(Qc.a),a["a"].use($c["a"]),a["a"].config.productionTip=!1,new a["a"]({router:js,store:Jt,render:function(t){return t(Ic)}}).$mount("#app")},"5a17":function(t,e,r){},"66ac":function(t,e,r){},"6c7f":function(t,e,r){},"6e9c":function(t,e,r){},"6f72":function(t,e,r){},"705c":function(t,e,r){"use strict";var a=r("91be"),n=r.n(a);n.a},"707a":function(t,e,r){"use strict";var a=r("142d"),n=r.n(a);n.a},7160:function(t,e,r){"use strict";var a=r("d8d2"),n=r.n(a);n.a},"71ca":function(t,e,r){"use strict";var a=r("95d5"),n=r.n(a);n.a},"735b":function(t,e,r){},"79bf":function(t,e,r){"use strict";var a=r("ab55"),n=r.n(a);n.a},"7cd3":function(t,e,r){"use strict";var a=r("5a17"),n=r.n(a);n.a},"818a":function(t,e,r){},"84d1":function(t,e,r){"use strict";var a=r("f028"),n=r.n(a);n.a},"87f9":function(t,e,r){"use strict";var a=r("d7ed"),n=r.n(a);n.a},"894a":function(t,e,r){"use strict";var a=r("0b66"),n=r.n(a);n.a},"8d40":function(t,e,r){},9109:function(t,e,r){},"91be":function(t,e,r){},"95d5":function(t,e,r){},"96f5":function(t,e,r){"use strict";var a=r("6c7f"),n=r.n(a);n.a},"9a93":function(t,e,r){"use strict";var a=r("fcb2"),n=r.n(a);n.a},a13a:function(t,e,r){},ab55:function(t,e,r){},ad36:function(t,e,r){},b154:function(t,e,r){"use strict";var a=r("ff02"),n=r.n(a);n.a},b809:function(t,e,r){"use strict";var a=r("818a"),n=r.n(a);n.a},c0f8:function(t,e,r){"use strict";var a=r("110c"),n=r.n(a);n.a},c121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAABsCAYAAAB3qm5/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABuZJREFUeNrsne112koQhpd7/P9SAqkAXIFxBXEquHIFMRUYV4BTAaQCcAXgCowrMKnApAJlx8weNrpCXwhLSM9zjo74EJJY7auZ2V3tGAMAAAAAAAAAAAAAezrncqJhGAZ2NeWStZqHTqczRojVCvHdrrrUxZZbDgtCrFaIob4c2WVNlWwVA7tMmizEizM857W9FivqZnvY34Obyz9cZgCECAAIEQAhAgBCBECIAIAQARAiACBEAIQIAAgRACECAEIEQIgAgBABECIAIEQAhAgACBEAIQIAQgRAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAIAQAc6bC4oA6o7mw+w0+T9iEQGwiAD/JwzDrtml664rkrV6ixCh6SJ8s0u3zkK0yyWuKTSZQc1FaE5hrbGIUFus+1erBhprrYd2tWx1jFi3iwKAawrQMC4SzHDPrnotLpvSW8YAcgnRinBsV/ctL5utLYdLK8YN1QSqck2vKJqPlruAYoBKXVPlwVqEcdsKxVpCaRkbUj2gaosIAAgRACECNCXE6EqYEe6Y6/A5hAjwyUy8WP/G1LjxDSFCk+mmvEeIAJ/AD++1DM5Y1PVEGfQNjUWe7Ldx4RezGyG2qfPgDIQITRejiG9T9/PENQVAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAKcnDMNAH3t6C/9G3k/tcoMQAU4rwHf7cmp2jz31IpvI+8AuTqS1ESRjTaEJAux64nNIfoonu6y8z4Z2+Wp2U+b3VJCzTqdzixABjhfh0uzzUYjwbg88aSHfjXXq/In+RqyoqVqMuKZw7kw9Ecqsg9dpjzvJ41F2kWxOM/1IxDhBiAB7NhF3MjEm9NzRx7xTf6oVdGK8U0uJEAHEmolVsy+vM2zuZqMXCzcqeMiR2T+vWNns9sSIUFdBrlKsod8q+nDEcSS1woO6uEP7emA/WxeIU4/JmbhGiFAIFcLElJ+oSEQwShOi2bV+fmyfYds0Mc40Ruyqq7vOuYvlsULENYUiIpRKOzenyRYmFXqp8V8S7tirko7rJpbq5yyLgTk+g/AAiwh5RTi0qzvPeolbV1b6uq5nZSf2WIuE1HhDXb+WdOxf3jnkPWdnWTsFynJJjAhFcC6hNHBcl51D0lZOEfeb2Wfjekz5yaYJhYprCnlxlmhxikSu2ge4yuAmbjxXFiFC63AV/zkaK2meiWUJx3iOiD5JiP2S/le/SguLECFvTGO8+DAaKw1NjrySdn93Kt5x5CtnEXsJiWOyiDXrebjW0jJjToQIJ7eGWzeMzFlCs2tkcRU71TJqq6hLEnMvojwg8kOu58ITa3Dk/7qL2S9ChNpyFbFYviUcROLINEvVi7z/6sWJW89FHB6IJdfeeUyKplyzv5Pz+K5vZ1VNy48Qs1+wZdhOghjr9BqJ1aQLY+Z99mDSR7tEXdufB9zTpBhw5N0MlnnFqNvP9fdbc8QIHYQIp2btVdpe1CLq2NCxLyR5nzYA234vLuA3rfzy2NIssslrWgyoVnHk3SQyi1E74v0RMaMqk9TQj5idkalxfr1T4Y27HCRYM98y5tn3IiEmc8eQrL+9QyKxnz/a78VqBnqO8uS9pGN7jOteUVc0UHfUXc+4GwFCrHmFbCvOMq3jKrgKZVxieUtKNd8l3iRse2u3FQt6r+K61waglQr6t13+jYlltyrCyvMmpgnxKqZpuQ30uPUcbKj5zBvSSsVzZVJaM9UyLlSEQYZGo5m6o9s6FG6aEJP+SBvYoj9jIq7pZ/azrWOsWJIYxWqKdZQwQvoF+5HfPqtlXdRFgGlClD8yaXnF25q/WwJbi8ZVXc9KHdrOTeKUNZZepzzQm9pgc0CQXDtopBAD15eRst28QPfIJGF/A2+7QQ3KYRgth7jPiuyPxhrIQj+DNfSnM1xkcGH7ur0Mc3uNa7WUBjL73dbsBw2cZYOZCO7Yh5cB/MEMkzSLqYLMsk/plnjxfjdMOfa0DoLKaxGlzPTru6T90aEPefgdU5luNC50jSuZJnHSOO7a7Lsl5gfcTze4u3emZfbLa3M4yEWVU8idKZu8IzC0gtVmMMARbtJVzP9yIpQyyfWgsE7cJKNrllo+IsZLtw9t/PnPE/nZId0qJv3h5o9W0yXaysXKZJvqz+elZq7mdU4x/tQYTVwpGZv5pDFeYPbjNL8V6RLQOFDmF3Vz4LzoyBjZ13fPEj75Ll1FRTdIc12L7q9TpLWn7ULUeTfzVPy6lfFlgSkDp2bfUe6zVUu4PvLmEHjWNcqj6+bw53mp2NJ1PK/gBVnAZ1rSwGs8cSnOeiXuf6hdIO96jGU0Y1NMqrUqmEbOaV7m/gAAAAAAAAAAAADgjwADAAjxI2+MHXDqAAAAAElFTkSuQmCC"},c1d0:function(t,e,r){"use strict";var a=r("9109"),n=r.n(a);n.a},c5a0:function(t,e,r){"use strict";var a=r("8d40"),n=r.n(a);n.a},c66f:function(t,e,r){},c697:function(t,e,r){},ca24:function(t,e,r){"use strict";var a=r("c66f"),n=r.n(a);n.a},cf25:function(t,e,r){"use strict";var a=r("56cc"),n=r.n(a);n.a},d005:function(t,e,r){"use strict";var a=r("735b"),n=r.n(a);n.a},d7ed:function(t,e,r){},d8d2:function(t,e,r){},dec1:function(t,e,r){},e681:function(t,e,r){},ed38:function(t,e,r){},ee1e:function(t,e,r){"use strict";var a=r("6f72"),n=r.n(a);n.a},f028:function(t,e,r){},fcb2:function(t,e,r){},ff02:function(t,e,r){}});
//# sourceMappingURL=app.d9fa92a7.js.map